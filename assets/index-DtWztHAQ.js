var h0=Object.defineProperty;var d0=(t,e,i)=>e in t?h0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var le=(t,e,i)=>d0(t,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const s of h)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(h){const s={};return h.integrity&&(s.integrity=h.integrity),h.referrerPolicy&&(s.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?s.credentials="include":h.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(h){if(h.ep)return;h.ep=!0;const s=i(h);fetch(h.href,s)}})();/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $h(t){const e=Object.create(null);for(const i of t.split(","))e[i]=1;return i=>i in e}const We={},cs=[],Ki=()=>{},p0=()=>!1,Va=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Zh=t=>t.startsWith("onUpdate:"),Mn=Object.assign,qh=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},f0=Object.prototype.hasOwnProperty,Ue=(t,e)=>f0.call(t,e),he=Array.isArray,hs=t=>Ua(t)==="[object Map]",ys=t=>Ua(t)==="[object Set]",zd=t=>Ua(t)==="[object Date]",ye=t=>typeof t=="function",sn=t=>typeof t=="string",Wi=t=>typeof t=="symbol",Je=t=>t!==null&&typeof t=="object",Ff=t=>(Je(t)||ye(t))&&ye(t.then)&&ye(t.catch),jf=Object.prototype.toString,Ua=t=>jf.call(t),m0=t=>Ua(t).slice(8,-1),Nf=t=>Ua(t)==="[object Object]",Kh=t=>sn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ds=$h(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wu=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},_0=/-(\w)/g,Mi=wu(t=>t.replace(_0,(e,i)=>i?i.toUpperCase():"")),g0=/\B([A-Z])/g,Gr=wu(t=>t.replace(g0,"-$1").toLowerCase()),Lu=wu(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nc=wu(t=>t?`on${Lu(t)}`:""),Vr=(t,e)=>!Object.is(t,e),Xl=(t,...e)=>{for(let i=0;i<t.length;i++)t[i](...e)},zf=(t,e,i,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:i})},au=t=>{const e=parseFloat(t);return isNaN(e)?t:e},y0=t=>{const e=sn(t)?Number(t):NaN;return isNaN(e)?t:e};let Vd;const Vf=()=>Vd||(Vd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ci(t){if(he(t)){const e={};for(let i=0;i<t.length;i++){const o=t[i],h=sn(o)?w0(o):Ci(o);if(h)for(const s in h)e[s]=h[s]}return e}else if(sn(t)||Je(t))return t}const v0=/;(?![^(]*\))/g,b0=/:([^]+)/,x0=/\/\*[^]*?\*\//g;function w0(t){const e={};return t.replace(x0,"").split(v0).forEach(i=>{if(i){const o=i.split(b0);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function hn(t){let e="";if(sn(t))e=t;else if(he(t))for(let i=0;i<t.length;i++){const o=hn(t[i]);o&&(e+=o+" ")}else if(Je(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}function dh(t){if(!t)return null;let{class:e,style:i}=t;return e&&!sn(e)&&(t.class=hn(e)),i&&(t.style=Ci(i)),t}const L0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",C0=$h(L0);function Uf(t){return!!t||t===""}function k0(t,e){if(t.length!==e.length)return!1;let i=!0;for(let o=0;i&&o<t.length;o++)i=Ga(t[o],e[o]);return i}function Ga(t,e){if(t===e)return!0;let i=zd(t),o=zd(e);if(i||o)return i&&o?t.getTime()===e.getTime():!1;if(i=Wi(t),o=Wi(e),i||o)return t===e;if(i=he(t),o=he(e),i||o)return i&&o?k0(t,e):!1;if(i=Je(t),o=Je(e),i||o){if(!i||!o)return!1;const h=Object.keys(t).length,s=Object.keys(e).length;if(h!==s)return!1;for(const u in t){const f=t.hasOwnProperty(u),_=e.hasOwnProperty(u);if(f&&!_||!f&&_||!Ga(t[u],e[u]))return!1}}return String(t)===String(e)}function Wh(t,e){return t.findIndex(i=>Ga(i,e))}const Gf=t=>!!(t&&t.__v_isRef===!0),Ft=t=>sn(t)?t:t==null?"":he(t)||Je(t)&&(t.toString===jf||!ye(t.toString))?Gf(t)?Ft(t.value):JSON.stringify(t,Hf,2):String(t),Hf=(t,e)=>Gf(e)?Hf(t,e.value):hs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[o,h],s)=>(i[zc(o,s)+" =>"]=h,i),{})}:ys(e)?{[`Set(${e.size})`]:[...e.values()].map(i=>zc(i))}:Wi(e)?zc(e):Je(e)&&!he(e)&&!Nf(e)?String(e):e,zc=(t,e="")=>{var i;return Wi(t)?`Symbol(${(i=t.description)!=null?i:e})`:t};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kn;class $f{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Kn,!e&&Kn&&(this.index=(Kn.scopes||(Kn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].pause();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].resume();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].resume()}}run(e){if(this._active){const i=Kn;try{return Kn=this,e()}finally{Kn=i}}}on(){Kn=this}off(){Kn=this.parent}stop(e){if(this._active){let i,o;for(i=0,o=this.effects.length;i<o;i++)this.effects[i].stop();for(i=0,o=this.cleanups.length;i<o;i++)this.cleanups[i]();if(this.scopes)for(i=0,o=this.scopes.length;i<o;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this._active=!1}}}function Zf(t){return new $f(t)}function qf(){return Kn}function E0(t,e=!1){Kn&&Kn.cleanups.push(t)}let Xe;const Vc=new WeakSet;class Kf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Kn&&Kn.active&&Kn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vc.has(this)&&(Vc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ud(this),Yf(this);const e=Xe,i=Ri;Xe=this,Ri=!0;try{return this.fn()}finally{Xf(this),Xe=e,Ri=i,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xh(e);this.deps=this.depsTail=void 0,Ud(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ph(this)&&this.run()}get dirty(){return ph(this)}}let Wf=0,_a,ga;function Jf(t,e=!1){if(t.flags|=8,e){t.next=ga,ga=t;return}t.next=_a,_a=t}function Jh(){Wf++}function Yh(){if(--Wf>0)return;if(ga){let e=ga;for(ga=void 0;e;){const i=e.next;e.next=void 0,e.flags&=-9,e=i}}let t;for(;_a;){let e=_a;for(_a=void 0;e;){const i=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=i}}if(t)throw t}function Yf(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Xf(t){let e,i=t.depsTail,o=i;for(;o;){const h=o.prevDep;o.version===-1?(o===i&&(i=h),Xh(o),M0(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=h}t.deps=e,t.depsTail=i}function ph(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Qf(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Qf(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ma))return;t.globalVersion=Ma;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ph(t)){t.flags&=-3;return}const i=Xe,o=Ri;Xe=t,Ri=!0;try{Yf(t);const h=t.fn(t._value);(e.version===0||Vr(h,t._value))&&(t._value=h,e.version++)}catch(h){throw e.version++,h}finally{Xe=i,Ri=o,Xf(t),t.flags&=-3}}function Xh(t,e=!1){const{dep:i,prevSub:o,nextSub:h}=t;if(o&&(o.nextSub=h,t.prevSub=void 0),h&&(h.prevSub=o,t.nextSub=void 0),i.subs===t&&(i.subs=o),!i.subs&&i.computed){i.computed.flags&=-5;for(let s=i.computed.deps;s;s=s.nextDep)Xh(s,!0)}!e&&!--i.sc&&i.map&&i.map.delete(i.key)}function M0(t){const{prevDep:e,nextDep:i}=t;e&&(e.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=e,t.nextDep=void 0)}let Ri=!0;const tm=[];function Hr(){tm.push(Ri),Ri=!1}function $r(){const t=tm.pop();Ri=t===void 0?!0:t}function Ud(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const i=Xe;Xe=void 0;try{e()}finally{Xe=i}}}let Ma=0;class P0{constructor(e,i){this.sub=e,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Xe||!Ri||Xe===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Xe)i=this.activeLink=new P0(Xe,this),Xe.deps?(i.prevDep=Xe.depsTail,Xe.depsTail.nextDep=i,Xe.depsTail=i):Xe.deps=Xe.depsTail=i,em(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const o=i.nextDep;o.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=o),i.prevDep=Xe.depsTail,i.nextDep=void 0,Xe.depsTail.nextDep=i,Xe.depsTail=i,Xe.deps===i&&(Xe.deps=o)}return i}trigger(e){this.version++,Ma++,this.notify(e)}notify(e){Jh();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{Yh()}}}function em(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)em(o)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const lu=new WeakMap,go=Symbol(""),fh=Symbol(""),Pa=Symbol("");function Gn(t,e,i){if(Ri&&Xe){let o=lu.get(t);o||lu.set(t,o=new Map);let h=o.get(i);h||(o.set(i,h=new Qh),h.map=o,h.key=i),h.track()}}function dr(t,e,i,o,h,s){const u=lu.get(t);if(!u){Ma++;return}const f=_=>{_&&_.trigger()};if(Jh(),e==="clear")u.forEach(f);else{const _=he(t),v=_&&Kh(i);if(_&&i==="length"){const b=Number(o);u.forEach((w,P)=>{(P==="length"||P===Pa||!Wi(P)&&P>=b)&&f(w)})}else switch(i!==void 0&&f(u.get(i)),v&&f(u.get(Pa)),e){case"add":_?v&&f(u.get("length")):(f(u.get(go)),hs(t)&&f(u.get(fh)));break;case"delete":_||(f(u.get(go)),hs(t)&&f(u.get(fh)));break;case"set":hs(t)&&f(u.get(go));break}}Yh()}function S0(t,e){const i=lu.get(t);return i&&i.get(e)}function is(t){const e=Fe(t);return e===t?e:(Gn(e,"iterate",Pa),ki(t)?e:e.map(Vn))}function Cu(t){return Gn(t=Fe(t),"iterate",Pa),t}const B0={__proto__:null,[Symbol.iterator](){return Uc(this,Symbol.iterator,Vn)},concat(...t){return is(this).concat(...t.map(e=>he(e)?is(e):e))},entries(){return Uc(this,"entries",t=>(t[1]=Vn(t[1]),t))},every(t,e){return lr(this,"every",t,e,void 0,arguments)},filter(t,e){return lr(this,"filter",t,e,i=>i.map(Vn),arguments)},find(t,e){return lr(this,"find",t,e,Vn,arguments)},findIndex(t,e){return lr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return lr(this,"findLast",t,e,Vn,arguments)},findLastIndex(t,e){return lr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return lr(this,"forEach",t,e,void 0,arguments)},includes(...t){return Gc(this,"includes",t)},indexOf(...t){return Gc(this,"indexOf",t)},join(t){return is(this).join(t)},lastIndexOf(...t){return Gc(this,"lastIndexOf",t)},map(t,e){return lr(this,"map",t,e,void 0,arguments)},pop(){return aa(this,"pop")},push(...t){return aa(this,"push",t)},reduce(t,...e){return Gd(this,"reduce",t,e)},reduceRight(t,...e){return Gd(this,"reduceRight",t,e)},shift(){return aa(this,"shift")},some(t,e){return lr(this,"some",t,e,void 0,arguments)},splice(...t){return aa(this,"splice",t)},toReversed(){return is(this).toReversed()},toSorted(t){return is(this).toSorted(t)},toSpliced(...t){return is(this).toSpliced(...t)},unshift(...t){return aa(this,"unshift",t)},values(){return Uc(this,"values",Vn)}};function Uc(t,e,i){const o=Cu(t),h=o[e]();return o!==t&&!ki(t)&&(h._next=h.next,h.next=()=>{const s=h._next();return s.value&&(s.value=i(s.value)),s}),h}const T0=Array.prototype;function lr(t,e,i,o,h,s){const u=Cu(t),f=u!==t&&!ki(t),_=u[e];if(_!==T0[e]){const w=_.apply(t,s);return f?Vn(w):w}let v=i;u!==t&&(f?v=function(w,P){return i.call(this,Vn(w),P,t)}:i.length>2&&(v=function(w,P){return i.call(this,w,P,t)}));const b=_.call(u,v,o);return f&&h?h(b):b}function Gd(t,e,i,o){const h=Cu(t);let s=i;return h!==t&&(ki(t)?i.length>3&&(s=function(u,f,_){return i.call(this,u,f,_,t)}):s=function(u,f,_){return i.call(this,u,Vn(f),_,t)}),h[e](s,...o)}function Gc(t,e,i){const o=Fe(t);Gn(o,"iterate",Pa);const h=o[e](...i);return(h===-1||h===!1)&&id(i[0])?(i[0]=Fe(i[0]),o[e](...i)):h}function aa(t,e,i=[]){Hr(),Jh();const o=Fe(t)[e].apply(t,i);return Yh(),$r(),o}const A0=$h("__proto__,__v_isRef,__isVue"),nm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Wi));function O0(t){Wi(t)||(t=String(t));const e=Fe(this);return Gn(e,"has",t),e.hasOwnProperty(t)}class im{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,o){const h=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!h;if(i==="__v_isReadonly")return h;if(i==="__v_isShallow")return s;if(i==="__v_raw")return o===(h?s?Z0:am:s?sm:om).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const u=he(e);if(!h){let _;if(u&&(_=B0[i]))return _;if(i==="hasOwnProperty")return O0}const f=Reflect.get(e,i,fn(e)?e:o);return(Wi(i)?nm.has(i):A0(i))||(h||Gn(e,"get",i),s)?f:fn(f)?u&&Kh(i)?f:f.value:Je(f)?h?um(f):Ha(f):f}}class rm extends im{constructor(e=!1){super(!1,e)}set(e,i,o,h){let s=e[i];if(!this._isShallow){const _=Lo(s);if(!ki(o)&&!Lo(o)&&(s=Fe(s),o=Fe(o)),!he(e)&&fn(s)&&!fn(o))return _?!1:(s.value=o,!0)}const u=he(e)&&Kh(i)?Number(i)<e.length:Ue(e,i),f=Reflect.set(e,i,o,fn(e)?e:h);return e===Fe(h)&&(u?Vr(o,s)&&dr(e,"set",i,o):dr(e,"add",i,o)),f}deleteProperty(e,i){const o=Ue(e,i);e[i];const h=Reflect.deleteProperty(e,i);return h&&o&&dr(e,"delete",i,void 0),h}has(e,i){const o=Reflect.has(e,i);return(!Wi(i)||!nm.has(i))&&Gn(e,"has",i),o}ownKeys(e){return Gn(e,"iterate",he(e)?"length":go),Reflect.ownKeys(e)}}class R0 extends im{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const D0=new rm,I0=new R0,F0=new rm(!0);const td=t=>t,ku=t=>Reflect.getPrototypeOf(t);function Ul(t,e,i=!1,o=!1){t=t.__v_raw;const h=Fe(t),s=Fe(e);i||(Vr(e,s)&&Gn(h,"get",e),Gn(h,"get",s));const{has:u}=ku(h),f=o?td:i?od:Vn;if(u.call(h,e))return f(t.get(e));if(u.call(h,s))return f(t.get(s));t!==h&&t.get(e)}function Gl(t,e=!1){const i=this.__v_raw,o=Fe(i),h=Fe(t);return e||(Vr(t,h)&&Gn(o,"has",t),Gn(o,"has",h)),t===h?i.has(t):i.has(t)||i.has(h)}function Hl(t,e=!1){return t=t.__v_raw,!e&&Gn(Fe(t),"iterate",go),Reflect.get(t,"size",t)}function Hd(t,e=!1){!e&&!ki(t)&&!Lo(t)&&(t=Fe(t));const i=Fe(this);return ku(i).has.call(i,t)||(i.add(t),dr(i,"add",t,t)),this}function $d(t,e,i=!1){!i&&!ki(e)&&!Lo(e)&&(e=Fe(e));const o=Fe(this),{has:h,get:s}=ku(o);let u=h.call(o,t);u||(t=Fe(t),u=h.call(o,t));const f=s.call(o,t);return o.set(t,e),u?Vr(e,f)&&dr(o,"set",t,e):dr(o,"add",t,e),this}function Zd(t){const e=Fe(this),{has:i,get:o}=ku(e);let h=i.call(e,t);h||(t=Fe(t),h=i.call(e,t)),o&&o.call(e,t);const s=e.delete(t);return h&&dr(e,"delete",t,void 0),s}function qd(){const t=Fe(this),e=t.size!==0,i=t.clear();return e&&dr(t,"clear",void 0,void 0),i}function $l(t,e){return function(o,h){const s=this,u=s.__v_raw,f=Fe(u),_=e?td:t?od:Vn;return!t&&Gn(f,"iterate",go),u.forEach((v,b)=>o.call(h,_(v),_(b),s))}}function Zl(t,e,i){return function(...o){const h=this.__v_raw,s=Fe(h),u=hs(s),f=t==="entries"||t===Symbol.iterator&&u,_=t==="keys"&&u,v=h[t](...o),b=i?td:e?od:Vn;return!e&&Gn(s,"iterate",_?fh:go),{next(){const{value:w,done:P}=v.next();return P?{value:w,done:P}:{value:f?[b(w[0]),b(w[1])]:b(w),done:P}},[Symbol.iterator](){return this}}}}function Sr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function j0(){const t={get(s){return Ul(this,s)},get size(){return Hl(this)},has:Gl,add:Hd,set:$d,delete:Zd,clear:qd,forEach:$l(!1,!1)},e={get(s){return Ul(this,s,!1,!0)},get size(){return Hl(this)},has:Gl,add(s){return Hd.call(this,s,!0)},set(s,u){return $d.call(this,s,u,!0)},delete:Zd,clear:qd,forEach:$l(!1,!0)},i={get(s){return Ul(this,s,!0)},get size(){return Hl(this,!0)},has(s){return Gl.call(this,s,!0)},add:Sr("add"),set:Sr("set"),delete:Sr("delete"),clear:Sr("clear"),forEach:$l(!0,!1)},o={get(s){return Ul(this,s,!0,!0)},get size(){return Hl(this,!0)},has(s){return Gl.call(this,s,!0)},add:Sr("add"),set:Sr("set"),delete:Sr("delete"),clear:Sr("clear"),forEach:$l(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Zl(s,!1,!1),i[s]=Zl(s,!0,!1),e[s]=Zl(s,!1,!0),o[s]=Zl(s,!0,!0)}),[t,i,e,o]}const[N0,z0,V0,U0]=j0();function ed(t,e){const i=e?t?U0:V0:t?z0:N0;return(o,h,s)=>h==="__v_isReactive"?!t:h==="__v_isReadonly"?t:h==="__v_raw"?o:Reflect.get(Ue(i,h)&&h in o?i:o,h,s)}const G0={get:ed(!1,!1)},H0={get:ed(!1,!0)},$0={get:ed(!0,!1)};const om=new WeakMap,sm=new WeakMap,am=new WeakMap,Z0=new WeakMap;function q0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function K0(t){return t.__v_skip||!Object.isExtensible(t)?0:q0(m0(t))}function Ha(t){return Lo(t)?t:nd(t,!1,D0,G0,om)}function lm(t){return nd(t,!1,F0,H0,sm)}function um(t){return nd(t,!0,I0,$0,am)}function nd(t,e,i,o,h){if(!Je(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=h.get(t);if(s)return s;const u=K0(t);if(u===0)return t;const f=new Proxy(t,u===2?o:i);return h.set(t,f),f}function pr(t){return Lo(t)?pr(t.__v_raw):!!(t&&t.__v_isReactive)}function Lo(t){return!!(t&&t.__v_isReadonly)}function ki(t){return!!(t&&t.__v_isShallow)}function id(t){return t?!!t.__v_raw:!1}function Fe(t){const e=t&&t.__v_raw;return e?Fe(e):t}function rd(t){return!Ue(t,"__v_skip")&&Object.isExtensible(t)&&zf(t,"__v_skip",!0),t}const Vn=t=>Je(t)?Ha(t):t,od=t=>Je(t)?um(t):t;function fn(t){return t?t.__v_isRef===!0:!1}function Jt(t){return cm(t,!1)}function W0(t){return cm(t,!0)}function cm(t,e){return fn(t)?t:new J0(t,e)}class J0{constructor(e,i){this.dep=new Qh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?e:Fe(e),this._value=i?e:Vn(e),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(e){const i=this._rawValue,o=this.__v_isShallow||ki(e)||Lo(e);e=o?e:Fe(e),Vr(e,i)&&(this._rawValue=e,this._value=o?e:Vn(e),this.dep.trigger())}}function zt(t){return fn(t)?t.value:t}const Y0={get:(t,e,i)=>e==="__v_raw"?t:zt(Reflect.get(t,e,i)),set:(t,e,i,o)=>{const h=t[e];return fn(h)&&!fn(i)?(h.value=i,!0):Reflect.set(t,e,i,o)}};function hm(t){return pr(t)?t:new Proxy(t,Y0)}function X0(t){const e=he(t)?new Array(t.length):{};for(const i in t)e[i]=ty(t,i);return e}class Q0{constructor(e,i,o){this._object=e,this._key=i,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return S0(Fe(this._object),this._key)}}function ty(t,e,i){const o=t[e];return fn(o)?o:new Q0(t,e,i)}class ey{constructor(e,i,o){this.fn=e,this.setter=i,this._value=void 0,this.dep=new Qh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ma-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Xe!==this)return Jf(this,!0),!0}get value(){const e=this.dep.track();return Qf(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ny(t,e,i=!1){let o,h;return ye(t)?o=t:(o=t.get,h=t.set),new ey(o,h,i)}const ql={},uu=new WeakMap;let po;function iy(t,e=!1,i=po){if(i){let o=uu.get(i);o||uu.set(i,o=[]),o.push(t)}}function ry(t,e,i=We){const{immediate:o,deep:h,once:s,scheduler:u,augmentJob:f,call:_}=i,v=et=>h?et:ki(et)||h===!1||h===0?hr(et,1):hr(et);let b,w,P,O,j=!1,V=!1;if(fn(t)?(w=()=>t.value,j=ki(t)):pr(t)?(w=()=>v(t),j=!0):he(t)?(V=!0,j=t.some(et=>pr(et)||ki(et)),w=()=>t.map(et=>{if(fn(et))return et.value;if(pr(et))return v(et);if(ye(et))return _?_(et,2):et()})):ye(t)?e?w=_?()=>_(t,2):t:w=()=>{if(P){Hr();try{P()}finally{$r()}}const et=po;po=b;try{return _?_(t,3,[O]):t(O)}finally{po=et}}:w=Ki,e&&h){const et=w,gt=h===!0?1/0:h;w=()=>hr(et(),gt)}const rt=qf(),ht=()=>{b.stop(),rt&&qh(rt.effects,b)};if(s&&e){const et=e;e=(...gt)=>{et(...gt),ht()}}let ct=V?new Array(t.length).fill(ql):ql;const U=et=>{if(!(!(b.flags&1)||!b.dirty&&!et))if(e){const gt=b.run();if(h||j||(V?gt.some((Bt,jt)=>Vr(Bt,ct[jt])):Vr(gt,ct))){P&&P();const Bt=po;po=b;try{const jt=[gt,ct===ql?void 0:V&&ct[0]===ql?[]:ct,O];_?_(e,3,jt):e(...jt),ct=gt}finally{po=Bt}}}else b.run()};return f&&f(U),b=new Kf(w),b.scheduler=u?()=>u(U,!1):U,O=et=>iy(et,!1,b),P=b.onStop=()=>{const et=uu.get(b);if(et){if(_)_(et,4);else for(const gt of et)gt();uu.delete(b)}},e?o?U(!0):ct=b.run():u?u(U.bind(null,!0),!0):b.run(),ht.pause=b.pause.bind(b),ht.resume=b.resume.bind(b),ht.stop=ht,ht}function hr(t,e=1/0,i){if(e<=0||!Je(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),e--,fn(t))hr(t.value,e,i);else if(he(t))for(let o=0;o<t.length;o++)hr(t[o],e,i);else if(ys(t)||hs(t))t.forEach(o=>{hr(o,e,i)});else if(Nf(t)){for(const o in t)hr(t[o],e,i);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&hr(t[o],e,i)}return t}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $a(t,e,i,o){try{return o?t(...o):t()}catch(h){Eu(h,e,i)}}function Di(t,e,i,o){if(ye(t)){const h=$a(t,e,i,o);return h&&Ff(h)&&h.catch(s=>{Eu(s,e,i)}),h}if(he(t)){const h=[];for(let s=0;s<t.length;s++)h.push(Di(t[s],e,i,o));return h}}function Eu(t,e,i,o=!0){const h=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:u}=e&&e.appContext.config||We;if(e){let f=e.parent;const _=e.proxy,v=`https://vuejs.org/error-reference/#runtime-${i}`;for(;f;){const b=f.ec;if(b){for(let w=0;w<b.length;w++)if(b[w](t,_,v)===!1)return}f=f.parent}if(s){Hr(),$a(s,null,10,[t,_,v]),$r();return}}oy(t,i,h,o,u)}function oy(t,e,i,o=!0,h=!1){if(h)throw t;console.error(t)}const Wn=[];let Zi=-1;const ps=[];let Ir=null,as=0;const dm=Promise.resolve();let cu=null;function Za(t){const e=cu||dm;return t?e.then(this?t.bind(this):t):e}function sy(t){let e=Zi+1,i=Wn.length;for(;e<i;){const o=e+i>>>1,h=Wn[o],s=Sa(h);s<t||s===t&&h.flags&2?e=o+1:i=o}return e}function sd(t){if(!(t.flags&1)){const e=Sa(t),i=Wn[Wn.length-1];!i||!(t.flags&2)&&e>=Sa(i)?Wn.push(t):Wn.splice(sy(e),0,t),t.flags|=1,pm()}}function pm(){cu||(cu=dm.then(fm))}function ay(t){he(t)?ps.push(...t):Ir&&t.id===-1?Ir.splice(as+1,0,t):t.flags&1||(ps.push(t),t.flags|=1),pm()}function Kd(t,e,i=Zi+1){for(;i<Wn.length;i++){const o=Wn[i];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;Wn.splice(i,1),i--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function hu(t){if(ps.length){const e=[...new Set(ps)].sort((i,o)=>Sa(i)-Sa(o));if(ps.length=0,Ir){Ir.push(...e);return}for(Ir=e,as=0;as<Ir.length;as++){const i=Ir[as];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Ir=null,as=0}}const Sa=t=>t.id==null?t.flags&2?-1:1/0:t.id;function fm(t){try{for(Zi=0;Zi<Wn.length;Zi++){const e=Wn[Zi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),$a(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Zi<Wn.length;Zi++){const e=Wn[Zi];e&&(e.flags&=-2)}Zi=-1,Wn.length=0,hu(),cu=null,(Wn.length||ps.length)&&fm()}}let En=null,mm=null;function du(t){const e=En;return En=t,mm=t&&t.type.__scopeId||null,e}function nt(t,e=En,i){if(!e||t._n)return t;const o=(...h)=>{o._d&&sp(-1);const s=du(e);let u;try{u=t(...h)}finally{du(s),o._d&&sp(1)}return u};return o._n=!0,o._c=!0,o._d=!0,o}function An(t,e){if(En===null)return t;const i=Tu(En),o=t.dirs||(t.dirs=[]);for(let h=0;h<e.length;h++){let[s,u,f,_=We]=e[h];s&&(ye(s)&&(s={mounted:s,updated:s}),s.deep&&hr(u),o.push({dir:s,instance:i,value:u,oldValue:void 0,arg:f,modifiers:_}))}return t}function qi(t,e,i,o){const h=t.dirs,s=e&&e.dirs;for(let u=0;u<h.length;u++){const f=h[u];s&&(f.oldValue=s[u].value);let _=f.dir[o];_&&(Hr(),Di(_,i,8,[t.el,f,t,e]),$r())}}const ly=Symbol("_vte"),_m=t=>t.__isTeleport,Fr=Symbol("_leaveCb"),Kl=Symbol("_enterCb");function uy(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return On(()=>{t.isMounted=!0}),Ji(()=>{t.isUnmounting=!0}),t}const xi=[Function,Array],gm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xi,onEnter:xi,onAfterEnter:xi,onEnterCancelled:xi,onBeforeLeave:xi,onLeave:xi,onAfterLeave:xi,onLeaveCancelled:xi,onBeforeAppear:xi,onAppear:xi,onAfterAppear:xi,onAppearCancelled:xi},ym=t=>{const e=t.subTree;return e.component?ym(e.component):e},cy={name:"BaseTransition",props:gm,setup(t,{slots:e}){const i=Ym(),o=uy();return()=>{const h=e.default&&xm(e.default(),!0);if(!h||!h.length)return;const s=vm(h),u=Fe(t),{mode:f}=u;if(o.isLeaving)return Hc(s);const _=Wd(s);if(!_)return Hc(s);let v=mh(_,u,o,i,P=>v=P);_.type!==Un&&Ba(_,v);const b=i.subTree,w=b&&Wd(b);if(w&&w.type!==Un&&!fo(_,w)&&ym(i).type!==Un){const P=mh(w,u,o,i);if(Ba(w,P),f==="out-in"&&_.type!==Un)return o.isLeaving=!0,P.afterLeave=()=>{o.isLeaving=!1,i.job.flags&8||i.update(),delete P.afterLeave},Hc(s);f==="in-out"&&_.type!==Un&&(P.delayLeave=(O,j,V)=>{const rt=bm(o,w);rt[String(w.key)]=w,O[Fr]=()=>{j(),O[Fr]=void 0,delete v.delayedLeave},v.delayedLeave=V})}return s}}};function vm(t){let e=t[0];if(t.length>1){for(const i of t)if(i.type!==Un){e=i;break}}return e}const hy=cy;function bm(t,e){const{leavingVNodes:i}=t;let o=i.get(e.type);return o||(o=Object.create(null),i.set(e.type,o)),o}function mh(t,e,i,o,h){const{appear:s,mode:u,persisted:f=!1,onBeforeEnter:_,onEnter:v,onAfterEnter:b,onEnterCancelled:w,onBeforeLeave:P,onLeave:O,onAfterLeave:j,onLeaveCancelled:V,onBeforeAppear:rt,onAppear:ht,onAfterAppear:ct,onAppearCancelled:U}=e,et=String(t.key),gt=bm(i,t),Bt=(Ct,Ot)=>{Ct&&Di(Ct,o,9,Ot)},jt=(Ct,Ot)=>{const Zt=Ot[1];Bt(Ct,Ot),he(Ct)?Ct.every(Tt=>Tt.length<=1)&&Zt():Ct.length<=1&&Zt()},Dt={mode:u,persisted:f,beforeEnter(Ct){let Ot=_;if(!i.isMounted)if(s)Ot=rt||_;else return;Ct[Fr]&&Ct[Fr](!0);const Zt=gt[et];Zt&&fo(t,Zt)&&Zt.el[Fr]&&Zt.el[Fr](),Bt(Ot,[Ct])},enter(Ct){let Ot=v,Zt=b,Tt=w;if(!i.isMounted)if(s)Ot=ht||v,Zt=ct||b,Tt=U||w;else return;let ae=!1;const Ce=Ct[Kl]=Ge=>{ae||(ae=!0,Ge?Bt(Tt,[Ct]):Bt(Zt,[Ct]),Dt.delayedLeave&&Dt.delayedLeave(),Ct[Kl]=void 0)};Ot?jt(Ot,[Ct,Ce]):Ce()},leave(Ct,Ot){const Zt=String(t.key);if(Ct[Kl]&&Ct[Kl](!0),i.isUnmounting)return Ot();Bt(P,[Ct]);let Tt=!1;const ae=Ct[Fr]=Ce=>{Tt||(Tt=!0,Ot(),Ce?Bt(V,[Ct]):Bt(j,[Ct]),Ct[Fr]=void 0,gt[Zt]===t&&delete gt[Zt])};gt[Zt]=t,O?jt(O,[Ct,ae]):ae()},clone(Ct){const Ot=mh(Ct,e,i,o,h);return h&&h(Ot),Ot}};return Dt}function Hc(t){if(Mu(t))return t=Ur(t),t.children=null,t}function Wd(t){if(!Mu(t))return _m(t.type)&&t.children?vm(t.children):t;const{shapeFlag:e,children:i}=t;if(i){if(e&16)return i[0];if(e&32&&ye(i.default))return i.default()}}function Ba(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ba(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xm(t,e=!1,i){let o=[],h=0;for(let s=0;s<t.length;s++){let u=t[s];const f=i==null?u.key:String(i)+String(u.key!=null?u.key:s);u.type===Ut?(u.patchFlag&128&&h++,o=o.concat(xm(u.children,e,f))):(e||u.type!==Un)&&o.push(f!=null?Ur(u,{key:f}):u)}if(h>1)for(let s=0;s<o.length;s++)o[s].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function Oe(t,e){return ye(t)?Mn({name:t.name},e,{setup:t}):t}function wm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function pu(t,e,i,o,h=!1){if(he(t)){t.forEach((j,V)=>pu(j,e&&(he(e)?e[V]:e),i,o,h));return}if(yo(o)&&!h)return;const s=o.shapeFlag&4?Tu(o.component):o.el,u=h?null:s,{i:f,r:_}=t,v=e&&e.r,b=f.refs===We?f.refs={}:f.refs,w=f.setupState,P=Fe(w),O=w===We?()=>!1:j=>Ue(P,j);if(v!=null&&v!==_&&(sn(v)?(b[v]=null,O(v)&&(w[v]=null)):fn(v)&&(v.value=null)),ye(_))$a(_,f,12,[u,b]);else{const j=sn(_),V=fn(_);if(j||V){const rt=()=>{if(t.f){const ht=j?O(_)?w[_]:b[_]:_.value;h?he(ht)&&qh(ht,s):he(ht)?ht.includes(s)||ht.push(s):j?(b[_]=[s],O(_)&&(w[_]=b[_])):(_.value=[s],t.k&&(b[t.k]=_.value))}else j?(b[_]=u,O(_)&&(w[_]=u)):V&&(_.value=u,t.k&&(b[t.k]=u))};u?(rt.id=-1,ci(rt,i)):rt()}}}let Jd=!1;const rs=()=>{Jd||(console.error("Hydration completed but contains mismatches."),Jd=!0)},dy=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",py=t=>t.namespaceURI.includes("MathML"),Wl=t=>{if(t.nodeType===1){if(dy(t))return"svg";if(py(t))return"mathml"}},Jl=t=>t.nodeType===8;function fy(t){const{mt:e,p:i,o:{patchProp:o,createText:h,nextSibling:s,parentNode:u,remove:f,insert:_,createComment:v}}=t,b=(U,et)=>{if(!et.hasChildNodes()){i(null,U,et),hu(),et._vnode=U;return}w(et.firstChild,U,null,null,null),hu(),et._vnode=U},w=(U,et,gt,Bt,jt,Dt=!1)=>{Dt=Dt||!!et.dynamicChildren;const Ct=Jl(U)&&U.data==="[",Ot=()=>V(U,et,gt,Bt,jt,Ct),{type:Zt,ref:Tt,shapeFlag:ae,patchFlag:Ce}=et;let Ge=U.nodeType;et.el=U,Ce===-2&&(Dt=!1,et.dynamicChildren=null);let Ht=null;switch(Zt){case bo:Ge!==3?et.children===""?(_(et.el=h(""),u(U),U),Ht=U):Ht=Ot():(U.data!==et.children&&(rs(),U.data=et.children),Ht=s(U));break;case Un:ct(U)?(Ht=s(U),ht(et.el=U.content.firstChild,U,gt)):Ge!==8||Ct?Ht=Ot():Ht=s(U);break;case va:if(Ct&&(U=s(U),Ge=U.nodeType),Ge===1||Ge===3){Ht=U;const ie=!et.children.length;for(let Et=0;Et<et.staticCount;Et++)ie&&(et.children+=Ht.nodeType===1?Ht.outerHTML:Ht.data),Et===et.staticCount-1&&(et.anchor=Ht),Ht=s(Ht);return Ct?s(Ht):Ht}else Ot();break;case Ut:Ct?Ht=j(U,et,gt,Bt,jt,Dt):Ht=Ot();break;default:if(ae&1)(Ge!==1||et.type.toLowerCase()!==U.tagName.toLowerCase())&&!ct(U)?Ht=Ot():Ht=P(U,et,gt,Bt,jt,Dt);else if(ae&6){et.slotScopeIds=jt;const ie=u(U);if(Ct?Ht=rt(U):Jl(U)&&U.data==="teleport start"?Ht=rt(U,U.data,"teleport end"):Ht=s(U),e(et,ie,null,gt,Bt,Wl(ie),Dt),yo(et)){let Et;Ct?(Et=X(Ut),Et.anchor=Ht?Ht.previousSibling:ie.lastChild):Et=U.nodeType===3?Qt(""):X("div"),Et.el=U,et.component.subTree=Et}}else ae&64?Ge!==8?Ht=Ot():Ht=et.type.hydrate(U,et,gt,Bt,jt,Dt,t,O):ae&128&&(Ht=et.type.hydrate(U,et,gt,Bt,Wl(u(U)),jt,Dt,t,w))}return Tt!=null&&pu(Tt,null,Bt,et),Ht},P=(U,et,gt,Bt,jt,Dt)=>{Dt=Dt||!!et.dynamicChildren;const{type:Ct,props:Ot,patchFlag:Zt,shapeFlag:Tt,dirs:ae,transition:Ce}=et,Ge=Ct==="input"||Ct==="option";if(Ge||Zt!==-1){ae&&qi(et,null,gt,"created");let Ht=!1;if(ct(U)){Ht=zm(Bt,Ce)&&gt&&gt.vnode.props&&gt.vnode.props.appear;const Et=U.content.firstChild;Ht&&Ce.beforeEnter(Et),ht(Et,U,gt),et.el=U=Et}if(Tt&16&&!(Ot&&(Ot.innerHTML||Ot.textContent))){let Et=O(U.firstChild,et,U,gt,Bt,jt,Dt);for(;Et;){Yl(U,1)||rs();const Qe=Et;Et=Et.nextSibling,f(Qe)}}else if(Tt&8){let Et=et.children;Et[0]===`
`&&(U.tagName==="PRE"||U.tagName==="TEXTAREA")&&(Et=Et.slice(1)),U.textContent!==Et&&(Yl(U,0)||rs(),U.textContent=et.children)}if(Ot){if(Ge||!Dt||Zt&48){const Et=U.tagName.includes("-");for(const Qe in Ot)(Ge&&(Qe.endsWith("value")||Qe==="indeterminate")||Va(Qe)&&!ds(Qe)||Qe[0]==="."||Et)&&o(U,Qe,null,Ot[Qe],void 0,gt)}else if(Ot.onClick)o(U,"onClick",null,Ot.onClick,void 0,gt);else if(Zt&4&&pr(Ot.style))for(const Et in Ot.style)Ot.style[Et]}let ie;(ie=Ot&&Ot.onVnodeBeforeMount)&&wi(ie,gt,et),ae&&qi(et,null,gt,"beforeMount"),((ie=Ot&&Ot.onVnodeMounted)||ae||Ht)&&qm(()=>{ie&&wi(ie,gt,et),Ht&&Ce.enter(U),ae&&qi(et,null,gt,"mounted")},Bt)}return U.nextSibling},O=(U,et,gt,Bt,jt,Dt,Ct)=>{Ct=Ct||!!et.dynamicChildren;const Ot=et.children,Zt=Ot.length;for(let Tt=0;Tt<Zt;Tt++){const ae=Ct?Ot[Tt]:Ot[Tt]=Li(Ot[Tt]),Ce=ae.type===bo;U?(Ce&&!Ct&&Tt+1<Zt&&Li(Ot[Tt+1]).type===bo&&(_(h(U.data.slice(ae.children.length)),gt,s(U)),U.data=ae.children),U=w(U,ae,Bt,jt,Dt,Ct)):Ce&&!ae.children?_(ae.el=h(""),gt):(Yl(gt,1)||rs(),i(null,ae,gt,null,Bt,jt,Wl(gt),Dt))}return U},j=(U,et,gt,Bt,jt,Dt)=>{const{slotScopeIds:Ct}=et;Ct&&(jt=jt?jt.concat(Ct):Ct);const Ot=u(U),Zt=O(s(U),et,Ot,gt,Bt,jt,Dt);return Zt&&Jl(Zt)&&Zt.data==="]"?s(et.anchor=Zt):(rs(),_(et.anchor=v("]"),Ot,Zt),Zt)},V=(U,et,gt,Bt,jt,Dt)=>{if(Yl(U.parentElement,1)||rs(),et.el=null,Dt){const Zt=rt(U);for(;;){const Tt=s(U);if(Tt&&Tt!==Zt)f(Tt);else break}}const Ct=s(U),Ot=u(U);return f(U),i(null,et,Ot,Ct,gt,Bt,Wl(Ot),jt),Ct},rt=(U,et="[",gt="]")=>{let Bt=0;for(;U;)if(U=s(U),U&&Jl(U)&&(U.data===et&&Bt++,U.data===gt)){if(Bt===0)return s(U);Bt--}return U},ht=(U,et,gt)=>{const Bt=et.parentNode;Bt&&Bt.replaceChild(U,et);let jt=gt;for(;jt;)jt.vnode.el===et&&(jt.vnode.el=jt.subTree.el=U),jt=jt.parent},ct=U=>U.nodeType===1&&U.tagName==="TEMPLATE";return[b,w]}const Yd="data-allow-mismatch",my={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Yl(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Yd);)t=t.parentElement;const i=t&&t.getAttribute(Yd);if(i==null)return!1;if(i==="")return!0;{const o=i.split(",");return e===0&&o.includes("children")?!0:i.split(",").includes(my[e])}}const yo=t=>!!t.type.__asyncLoader,Mu=t=>t.type.__isKeepAlive;function _y(t,e){Lm(t,"a",e)}function gy(t,e){Lm(t,"da",e)}function Lm(t,e,i=Tn){const o=t.__wdc||(t.__wdc=()=>{let h=i;for(;h;){if(h.isDeactivated)return;h=h.parent}return t()});if(Pu(e,o,i),i){let h=i.parent;for(;h&&h.parent;)Mu(h.parent.vnode)&&yy(o,e,i,h),h=h.parent}}function yy(t,e,i,o){const h=Pu(e,t,o,!0);gr(()=>{qh(o[e],h)},i)}function Pu(t,e,i=Tn,o=!1){if(i){const h=i[t]||(i[t]=[]),s=e.__weh||(e.__weh=(...u)=>{Hr();const f=qa(i),_=Di(e,i,t,u);return f(),$r(),_});return o?h.unshift(s):h.push(s),s}}const _r=t=>(e,i=Tn)=>{(!Bu||t==="sp")&&Pu(t,(...o)=>e(...o),i)},Cm=_r("bm"),On=_r("m"),vy=_r("bu"),by=_r("u"),Ji=_r("bum"),gr=_r("um"),ad=_r("sp"),xy=_r("rtg"),wy=_r("rtc");function Ly(t,e=Tn){Pu("ec",t,e)}const ld="components";function _t(t,e){return Em(ld,t,!0,e)||t}const km=Symbol.for("v-ndc");function Eo(t){return sn(t)?Em(ld,t,!1)||t:t||km}function Em(t,e,i=!0,o=!1){const h=En||Tn;if(h){const s=h.type;if(t===ld){const f=lv(s,!1);if(f&&(f===e||f===Mi(e)||f===Lu(Mi(e))))return s}const u=Xd(h[t]||s[t],e)||Xd(h.appContext[t],e);return!u&&o?s:u}}function Xd(t,e){return t&&(t[e]||t[Mi(e)]||t[Lu(Mi(e))])}function fe(t,e,i,o){let h;const s=i,u=he(t);if(u||sn(t)){const f=u&&pr(t);let _=!1;f&&(_=!ki(t),t=Cu(t)),h=new Array(t.length);for(let v=0,b=t.length;v<b;v++)h[v]=e(_?Vn(t[v]):t[v],v,void 0,s)}else if(typeof t=="number"){h=new Array(t);for(let f=0;f<t;f++)h[f]=e(f+1,f,void 0,s)}else if(Je(t))if(t[Symbol.iterator])h=Array.from(t,(f,_)=>e(f,_,void 0,s));else{const f=Object.keys(t);h=new Array(f.length);for(let _=0,v=f.length;_<v;_++){const b=f[_];h[_]=e(t[b],b,_,s)}}else h=[];return h}function be(t,e,i={},o,h){if(En.ce||En.parent&&yo(En.parent)&&En.parent.ce)return e!=="default"&&(i.name=e),A(),wt(Ut,null,[X("slot",i,o&&o())],64);let s=t[e];s&&s._c&&(s._d=!1),A();const u=s&&Mm(s(i)),f=wt(Ut,{key:(i.key||u&&u.key||`_${e}`)+(!u&&o?"_fb":"")},u||(o?o():[]),u&&t._===1?64:-2);return!h&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),s&&s._c&&(s._d=!0),f}function Mm(t){return t.some(e=>Aa(e)?!(e.type===Un||e.type===Ut&&!Mm(e.children)):!0)?t:null}const _h=t=>t?Xm(t)?Tu(t):_h(t.parent):null,ya=Mn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_h(t.parent),$root:t=>_h(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ud(t),$forceUpdate:t=>t.f||(t.f=()=>{sd(t.update)}),$nextTick:t=>t.n||(t.n=Za.bind(t.proxy)),$watch:t=>Zy.bind(t)}),$c=(t,e)=>t!==We&&!t.__isScriptSetup&&Ue(t,e),Cy={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:o,data:h,props:s,accessCache:u,type:f,appContext:_}=t;let v;if(e[0]!=="$"){const O=u[e];if(O!==void 0)switch(O){case 1:return o[e];case 2:return h[e];case 4:return i[e];case 3:return s[e]}else{if($c(o,e))return u[e]=1,o[e];if(h!==We&&Ue(h,e))return u[e]=2,h[e];if((v=t.propsOptions[0])&&Ue(v,e))return u[e]=3,s[e];if(i!==We&&Ue(i,e))return u[e]=4,i[e];gh&&(u[e]=0)}}const b=ya[e];let w,P;if(b)return e==="$attrs"&&Gn(t.attrs,"get",""),b(t);if((w=f.__cssModules)&&(w=w[e]))return w;if(i!==We&&Ue(i,e))return u[e]=4,i[e];if(P=_.config.globalProperties,Ue(P,e))return P[e]},set({_:t},e,i){const{data:o,setupState:h,ctx:s}=t;return $c(h,e)?(h[e]=i,!0):o!==We&&Ue(o,e)?(o[e]=i,!0):Ue(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:o,appContext:h,propsOptions:s}},u){let f;return!!i[u]||t!==We&&Ue(t,u)||$c(e,u)||(f=s[0])&&Ue(f,u)||Ue(o,u)||Ue(ya,u)||Ue(h.config.globalProperties,u)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:Ue(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function ky(){return Ey().slots}function Ey(){const t=Ym();return t.setupContext||(t.setupContext=t_(t))}function Qd(t){return he(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}let gh=!0;function My(t){const e=ud(t),i=t.proxy,o=t.ctx;gh=!1,e.beforeCreate&&tp(e.beforeCreate,t,"bc");const{data:h,computed:s,methods:u,watch:f,provide:_,inject:v,created:b,beforeMount:w,mounted:P,beforeUpdate:O,updated:j,activated:V,deactivated:rt,beforeDestroy:ht,beforeUnmount:ct,destroyed:U,unmounted:et,render:gt,renderTracked:Bt,renderTriggered:jt,errorCaptured:Dt,serverPrefetch:Ct,expose:Ot,inheritAttrs:Zt,components:Tt,directives:ae,filters:Ce}=e;if(v&&Py(v,o,null),u)for(const ie in u){const Et=u[ie];ye(Et)&&(o[ie]=Et.bind(i))}if(h){const ie=h.call(i,i);Je(ie)&&(t.data=Ha(ie))}if(gh=!0,s)for(const ie in s){const Et=s[ie],Qe=ye(Et)?Et.bind(i,i):ye(Et.get)?Et.get.bind(i,i):Ki,oe=!ye(Et)&&ye(Et.set)?Et.set.bind(i):Ki,Pe=Yt({get:Qe,set:oe});Object.defineProperty(o,ie,{enumerable:!0,configurable:!0,get:()=>Pe.value,set:Ne=>Pe.value=Ne})}if(f)for(const ie in f)Pm(f[ie],o,i,ie);if(_){const ie=ye(_)?_.call(i):_;Reflect.ownKeys(ie).forEach(Et=>{Ql(Et,ie[Et])})}b&&tp(b,t,"c");function Ht(ie,Et){he(Et)?Et.forEach(Qe=>ie(Qe.bind(i))):Et&&ie(Et.bind(i))}if(Ht(Cm,w),Ht(On,P),Ht(vy,O),Ht(by,j),Ht(_y,V),Ht(gy,rt),Ht(Ly,Dt),Ht(wy,Bt),Ht(xy,jt),Ht(Ji,ct),Ht(gr,et),Ht(ad,Ct),he(Ot))if(Ot.length){const ie=t.exposed||(t.exposed={});Ot.forEach(Et=>{Object.defineProperty(ie,Et,{get:()=>i[Et],set:Qe=>i[Et]=Qe})})}else t.exposed||(t.exposed={});gt&&t.render===Ki&&(t.render=gt),Zt!=null&&(t.inheritAttrs=Zt),Tt&&(t.components=Tt),ae&&(t.directives=ae),Ct&&wm(t)}function Py(t,e,i=Ki){he(t)&&(t=yh(t));for(const o in t){const h=t[o];let s;Je(h)?"default"in h?s=Ei(h.from||o,h.default,!0):s=Ei(h.from||o):s=Ei(h),fn(s)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):e[o]=s}}function tp(t,e,i){Di(he(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,i)}function Pm(t,e,i,o){let h=o.includes(".")?Hm(i,o):()=>i[o];if(sn(t)){const s=e[t];ye(s)&&vn(h,s)}else if(ye(t))vn(h,t.bind(i));else if(Je(t))if(he(t))t.forEach(s=>Pm(s,e,i,o));else{const s=ye(t.handler)?t.handler.bind(i):e[t.handler];ye(s)&&vn(h,s,t)}}function ud(t){const e=t.type,{mixins:i,extends:o}=e,{mixins:h,optionsCache:s,config:{optionMergeStrategies:u}}=t.appContext,f=s.get(e);let _;return f?_=f:!h.length&&!i&&!o?_=e:(_={},h.length&&h.forEach(v=>fu(_,v,u,!0)),fu(_,e,u)),Je(e)&&s.set(e,_),_}function fu(t,e,i,o=!1){const{mixins:h,extends:s}=e;s&&fu(t,s,i,!0),h&&h.forEach(u=>fu(t,u,i,!0));for(const u in e)if(!(o&&u==="expose")){const f=Sy[u]||i&&i[u];t[u]=f?f(t[u],e[u]):e[u]}return t}const Sy={data:ep,props:np,emits:np,methods:pa,computed:pa,beforeCreate:qn,created:qn,beforeMount:qn,mounted:qn,beforeUpdate:qn,updated:qn,beforeDestroy:qn,beforeUnmount:qn,destroyed:qn,unmounted:qn,activated:qn,deactivated:qn,errorCaptured:qn,serverPrefetch:qn,components:pa,directives:pa,watch:Ty,provide:ep,inject:By};function ep(t,e){return e?t?function(){return Mn(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function By(t,e){return pa(yh(t),yh(e))}function yh(t){if(he(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function qn(t,e){return t?[...new Set([].concat(t,e))]:e}function pa(t,e){return t?Mn(Object.create(null),t,e):e}function np(t,e){return t?he(t)&&he(e)?[...new Set([...t,...e])]:Mn(Object.create(null),Qd(t),Qd(e??{})):e}function Ty(t,e){if(!t)return e;if(!e)return t;const i=Mn(Object.create(null),t);for(const o in e)i[o]=qn(t[o],e[o]);return i}function Sm(){return{app:null,config:{isNativeTag:p0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ay=0;function Oy(t,e){return function(o,h=null){ye(o)||(o=Mn({},o)),h!=null&&!Je(h)&&(h=null);const s=Sm(),u=new WeakSet,f=[];let _=!1;const v=s.app={_uid:Ay++,_component:o,_props:h,_container:null,_context:s,_instance:null,version:cv,get config(){return s.config},set config(b){},use(b,...w){return u.has(b)||(b&&ye(b.install)?(u.add(b),b.install(v,...w)):ye(b)&&(u.add(b),b(v,...w))),v},mixin(b){return s.mixins.includes(b)||s.mixins.push(b),v},component(b,w){return w?(s.components[b]=w,v):s.components[b]},directive(b,w){return w?(s.directives[b]=w,v):s.directives[b]},mount(b,w,P){if(!_){const O=v._ceVNode||X(o,h);return O.appContext=s,P===!0?P="svg":P===!1&&(P=void 0),w&&e?e(O,b):t(O,b,P),_=!0,v._container=b,b.__vue_app__=v,Tu(O.component)}},onUnmount(b){f.push(b)},unmount(){_&&(Di(f,v._instance,16),t(null,v._container),delete v._container.__vue_app__)},provide(b,w){return s.provides[b]=w,v},runWithContext(b){const w=vo;vo=v;try{return b()}finally{vo=w}}};return v}}let vo=null;function Ql(t,e){if(Tn){let i=Tn.provides;const o=Tn.parent&&Tn.parent.provides;o===i&&(i=Tn.provides=Object.create(o)),i[t]=e}}function Ei(t,e,i=!1){const o=Tn||En;if(o||vo){const h=vo?vo._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(h&&t in h)return h[t];if(arguments.length>1)return i&&ye(e)?e.call(o&&o.proxy):e}}function Ry(){return!!(Tn||En||vo)}const Bm={},Tm=()=>Object.create(Bm),Am=t=>Object.getPrototypeOf(t)===Bm;function Dy(t,e,i,o=!1){const h={},s=Tm();t.propsDefaults=Object.create(null),Om(t,e,h,s);for(const u in t.propsOptions[0])u in h||(h[u]=void 0);i?t.props=o?h:lm(h):t.type.props?t.props=h:t.props=s,t.attrs=s}function Iy(t,e,i,o){const{props:h,attrs:s,vnode:{patchFlag:u}}=t,f=Fe(h),[_]=t.propsOptions;let v=!1;if((o||u>0)&&!(u&16)){if(u&8){const b=t.vnode.dynamicProps;for(let w=0;w<b.length;w++){let P=b[w];if(Su(t.emitsOptions,P))continue;const O=e[P];if(_)if(Ue(s,P))O!==s[P]&&(s[P]=O,v=!0);else{const j=Mi(P);h[j]=vh(_,f,j,O,t,!1)}else O!==s[P]&&(s[P]=O,v=!0)}}}else{Om(t,e,h,s)&&(v=!0);let b;for(const w in f)(!e||!Ue(e,w)&&((b=Gr(w))===w||!Ue(e,b)))&&(_?i&&(i[w]!==void 0||i[b]!==void 0)&&(h[w]=vh(_,f,w,void 0,t,!0)):delete h[w]);if(s!==f)for(const w in s)(!e||!Ue(e,w))&&(delete s[w],v=!0)}v&&dr(t.attrs,"set","")}function Om(t,e,i,o){const[h,s]=t.propsOptions;let u=!1,f;if(e)for(let _ in e){if(ds(_))continue;const v=e[_];let b;h&&Ue(h,b=Mi(_))?!s||!s.includes(b)?i[b]=v:(f||(f={}))[b]=v:Su(t.emitsOptions,_)||(!(_ in o)||v!==o[_])&&(o[_]=v,u=!0)}if(s){const _=Fe(i),v=f||We;for(let b=0;b<s.length;b++){const w=s[b];i[w]=vh(h,_,w,v[w],t,!Ue(v,w))}}return u}function vh(t,e,i,o,h,s){const u=t[i];if(u!=null){const f=Ue(u,"default");if(f&&o===void 0){const _=u.default;if(u.type!==Function&&!u.skipFactory&&ye(_)){const{propsDefaults:v}=h;if(i in v)o=v[i];else{const b=qa(h);o=v[i]=_.call(null,e),b()}}else o=_;h.ce&&h.ce._setProp(i,o)}u[0]&&(s&&!f?o=!1:u[1]&&(o===""||o===Gr(i))&&(o=!0))}return o}const Fy=new WeakMap;function Rm(t,e,i=!1){const o=i?Fy:e.propsCache,h=o.get(t);if(h)return h;const s=t.props,u={},f=[];let _=!1;if(!ye(t)){const b=w=>{_=!0;const[P,O]=Rm(w,e,!0);Mn(u,P),O&&f.push(...O)};!i&&e.mixins.length&&e.mixins.forEach(b),t.extends&&b(t.extends),t.mixins&&t.mixins.forEach(b)}if(!s&&!_)return Je(t)&&o.set(t,cs),cs;if(he(s))for(let b=0;b<s.length;b++){const w=Mi(s[b]);ip(w)&&(u[w]=We)}else if(s)for(const b in s){const w=Mi(b);if(ip(w)){const P=s[b],O=u[w]=he(P)||ye(P)?{type:P}:Mn({},P),j=O.type;let V=!1,rt=!0;if(he(j))for(let ht=0;ht<j.length;++ht){const ct=j[ht],U=ye(ct)&&ct.name;if(U==="Boolean"){V=!0;break}else U==="String"&&(rt=!1)}else V=ye(j)&&j.name==="Boolean";O[0]=V,O[1]=rt,(V||Ue(O,"default"))&&f.push(w)}}const v=[u,f];return Je(t)&&o.set(t,v),v}function ip(t){return t[0]!=="$"&&!ds(t)}const Dm=t=>t[0]==="_"||t==="$stable",cd=t=>he(t)?t.map(Li):[Li(t)],jy=(t,e,i)=>{if(e._n)return e;const o=nt((...h)=>cd(e(...h)),i);return o._c=!1,o},Im=(t,e,i)=>{const o=t._ctx;for(const h in t){if(Dm(h))continue;const s=t[h];if(ye(s))e[h]=jy(h,s,o);else if(s!=null){const u=cd(s);e[h]=()=>u}}},Fm=(t,e)=>{const i=cd(e);t.slots.default=()=>i},jm=(t,e,i)=>{for(const o in e)(i||o!=="_")&&(t[o]=e[o])},Ny=(t,e,i)=>{const o=t.slots=Tm();if(t.vnode.shapeFlag&32){const h=e._;h?(jm(o,e,i),i&&zf(o,"_",h,!0)):Im(e,o)}else e&&Fm(t,e)},zy=(t,e,i)=>{const{vnode:o,slots:h}=t;let s=!0,u=We;if(o.shapeFlag&32){const f=e._;f?i&&f===1?s=!1:jm(h,e,i):(s=!e.$stable,Im(e,h)),u=e}else e&&(Fm(t,e),u={default:1});if(s)for(const f in h)!Dm(f)&&u[f]==null&&delete h[f]},ci=qm;function Vy(t){return Nm(t)}function Uy(t){return Nm(t,fy)}function Nm(t,e){const i=Vf();i.__VUE__=!0;const{insert:o,remove:h,patchProp:s,createElement:u,createText:f,createComment:_,setText:v,setElementText:b,parentNode:w,nextSibling:P,setScopeId:O=Ki,insertStaticContent:j}=t,V=(z,q,dt,Mt=null,xt=null,Pt=null,Gt=void 0,Nt=null,It=!!q.dynamicChildren)=>{if(z===q)return;z&&!fo(z,q)&&(Mt=bt(z),Ne(z,xt,Pt,!0),z=null),q.patchFlag===-2&&(It=!1,q.dynamicChildren=null);const{type:At,ref:ce,shapeFlag:Kt}=q;switch(At){case bo:rt(z,q,dt,Mt);break;case Un:ht(z,q,dt,Mt);break;case va:z==null&&ct(q,dt,Mt,Gt);break;case Ut:Tt(z,q,dt,Mt,xt,Pt,Gt,Nt,It);break;default:Kt&1?gt(z,q,dt,Mt,xt,Pt,Gt,Nt,It):Kt&6?ae(z,q,dt,Mt,xt,Pt,Gt,Nt,It):(Kt&64||Kt&128)&&At.process(z,q,dt,Mt,xt,Pt,Gt,Nt,It,ee)}ce!=null&&xt&&pu(ce,z&&z.ref,Pt,q||z,!q)},rt=(z,q,dt,Mt)=>{if(z==null)o(q.el=f(q.children),dt,Mt);else{const xt=q.el=z.el;q.children!==z.children&&v(xt,q.children)}},ht=(z,q,dt,Mt)=>{z==null?o(q.el=_(q.children||""),dt,Mt):q.el=z.el},ct=(z,q,dt,Mt)=>{[z.el,z.anchor]=j(z.children,q,dt,Mt,z.el,z.anchor)},U=({el:z,anchor:q},dt,Mt)=>{let xt;for(;z&&z!==q;)xt=P(z),o(z,dt,Mt),z=xt;o(q,dt,Mt)},et=({el:z,anchor:q})=>{let dt;for(;z&&z!==q;)dt=P(z),h(z),z=dt;h(q)},gt=(z,q,dt,Mt,xt,Pt,Gt,Nt,It)=>{q.type==="svg"?Gt="svg":q.type==="math"&&(Gt="mathml"),z==null?Bt(q,dt,Mt,xt,Pt,Gt,Nt,It):Ct(z,q,xt,Pt,Gt,Nt,It)},Bt=(z,q,dt,Mt,xt,Pt,Gt,Nt)=>{let It,At;const{props:ce,shapeFlag:Kt,transition:re,dirs:de}=z;if(It=z.el=u(z.type,Pt,ce&&ce.is,ce),Kt&8?b(It,z.children):Kt&16&&Dt(z.children,It,null,Mt,xt,Zc(z,Pt),Gt,Nt),de&&qi(z,null,Mt,"created"),jt(It,z,z.scopeId,Gt,Mt),ce){for(const ze in ce)ze!=="value"&&!ds(ze)&&s(It,ze,null,ce[ze],Pt,Mt);"value"in ce&&s(It,"value",null,ce.value,Pt),(At=ce.onVnodeBeforeMount)&&wi(At,Mt,z)}de&&qi(z,null,Mt,"beforeMount");const Ee=zm(xt,re);Ee&&re.beforeEnter(It),o(It,q,dt),((At=ce&&ce.onVnodeMounted)||Ee||de)&&ci(()=>{At&&wi(At,Mt,z),Ee&&re.enter(It),de&&qi(z,null,Mt,"mounted")},xt)},jt=(z,q,dt,Mt,xt)=>{if(dt&&O(z,dt),Mt)for(let Pt=0;Pt<Mt.length;Pt++)O(z,Mt[Pt]);if(xt){let Pt=xt.subTree;if(q===Pt||Zm(Pt.type)&&(Pt.ssContent===q||Pt.ssFallback===q)){const Gt=xt.vnode;jt(z,Gt,Gt.scopeId,Gt.slotScopeIds,xt.parent)}}},Dt=(z,q,dt,Mt,xt,Pt,Gt,Nt,It=0)=>{for(let At=It;At<z.length;At++){const ce=z[At]=Nt?jr(z[At]):Li(z[At]);V(null,ce,q,dt,Mt,xt,Pt,Gt,Nt)}},Ct=(z,q,dt,Mt,xt,Pt,Gt)=>{const Nt=q.el=z.el;let{patchFlag:It,dynamicChildren:At,dirs:ce}=q;It|=z.patchFlag&16;const Kt=z.props||We,re=q.props||We;let de;if(dt&&lo(dt,!1),(de=re.onVnodeBeforeUpdate)&&wi(de,dt,q,z),ce&&qi(q,z,dt,"beforeUpdate"),dt&&lo(dt,!0),(Kt.innerHTML&&re.innerHTML==null||Kt.textContent&&re.textContent==null)&&b(Nt,""),At?Ot(z.dynamicChildren,At,Nt,dt,Mt,Zc(q,xt),Pt):Gt||Et(z,q,Nt,null,dt,Mt,Zc(q,xt),Pt,!1),It>0){if(It&16)Zt(Nt,Kt,re,dt,xt);else if(It&2&&Kt.class!==re.class&&s(Nt,"class",null,re.class,xt),It&4&&s(Nt,"style",Kt.style,re.style,xt),It&8){const Ee=q.dynamicProps;for(let ze=0;ze<Ee.length;ze++){const Re=Ee[ze],wn=Kt[Re],dn=re[Re];(dn!==wn||Re==="value")&&s(Nt,Re,wn,dn,xt,dt)}}It&1&&z.children!==q.children&&b(Nt,q.children)}else!Gt&&At==null&&Zt(Nt,Kt,re,dt,xt);((de=re.onVnodeUpdated)||ce)&&ci(()=>{de&&wi(de,dt,q,z),ce&&qi(q,z,dt,"updated")},Mt)},Ot=(z,q,dt,Mt,xt,Pt,Gt)=>{for(let Nt=0;Nt<q.length;Nt++){const It=z[Nt],At=q[Nt],ce=It.el&&(It.type===Ut||!fo(It,At)||It.shapeFlag&70)?w(It.el):dt;V(It,At,ce,null,Mt,xt,Pt,Gt,!0)}},Zt=(z,q,dt,Mt,xt)=>{if(q!==dt){if(q!==We)for(const Pt in q)!ds(Pt)&&!(Pt in dt)&&s(z,Pt,q[Pt],null,xt,Mt);for(const Pt in dt){if(ds(Pt))continue;const Gt=dt[Pt],Nt=q[Pt];Gt!==Nt&&Pt!=="value"&&s(z,Pt,Nt,Gt,xt,Mt)}"value"in dt&&s(z,"value",q.value,dt.value,xt)}},Tt=(z,q,dt,Mt,xt,Pt,Gt,Nt,It)=>{const At=q.el=z?z.el:f(""),ce=q.anchor=z?z.anchor:f("");let{patchFlag:Kt,dynamicChildren:re,slotScopeIds:de}=q;de&&(Nt=Nt?Nt.concat(de):de),z==null?(o(At,dt,Mt),o(ce,dt,Mt),Dt(q.children||[],dt,ce,xt,Pt,Gt,Nt,It)):Kt>0&&Kt&64&&re&&z.dynamicChildren?(Ot(z.dynamicChildren,re,dt,xt,Pt,Gt,Nt),(q.key!=null||xt&&q===xt.subTree)&&Vm(z,q,!0)):Et(z,q,dt,ce,xt,Pt,Gt,Nt,It)},ae=(z,q,dt,Mt,xt,Pt,Gt,Nt,It)=>{q.slotScopeIds=Nt,z==null?q.shapeFlag&512?xt.ctx.activate(q,dt,Mt,Gt,It):Ce(q,dt,Mt,xt,Pt,Gt,It):Ge(z,q,It)},Ce=(z,q,dt,Mt,xt,Pt,Gt)=>{const Nt=z.component=rv(z,Mt,xt);if(Mu(z)&&(Nt.ctx.renderer=ee),ov(Nt,!1,Gt),Nt.asyncDep){if(xt&&xt.registerDep(Nt,Ht,Gt),!z.el){const It=Nt.subTree=X(Un);ht(null,It,q,dt)}}else Ht(Nt,z,q,dt,xt,Pt,Gt)},Ge=(z,q,dt)=>{const Mt=q.component=z.component;if(Yy(z,q,dt))if(Mt.asyncDep&&!Mt.asyncResolved){ie(Mt,q,dt);return}else Mt.next=q,Mt.update();else q.el=z.el,Mt.vnode=q},Ht=(z,q,dt,Mt,xt,Pt,Gt)=>{const Nt=()=>{if(z.isMounted){let{next:Kt,bu:re,u:de,parent:Ee,vnode:ze}=z;{const Pn=Um(z);if(Pn){Kt&&(Kt.el=ze.el,ie(z,Kt,Gt)),Pn.asyncDep.then(()=>{z.isUnmounted||Nt()});return}}let Re=Kt,wn;lo(z,!1),Kt?(Kt.el=ze.el,ie(z,Kt,Gt)):Kt=ze,re&&Xl(re),(wn=Kt.props&&Kt.props.onVnodeBeforeUpdate)&&wi(wn,Ee,Kt,ze),lo(z,!0);const dn=qc(z),mn=z.subTree;z.subTree=dn,V(mn,dn,w(mn.el),bt(mn),z,xt,Pt),Kt.el=dn.el,Re===null&&Xy(z,dn.el),de&&ci(de,xt),(wn=Kt.props&&Kt.props.onVnodeUpdated)&&ci(()=>wi(wn,Ee,Kt,ze),xt)}else{let Kt;const{el:re,props:de}=q,{bm:Ee,m:ze,parent:Re,root:wn,type:dn}=z,mn=yo(q);if(lo(z,!1),Ee&&Xl(Ee),!mn&&(Kt=de&&de.onVnodeBeforeMount)&&wi(Kt,Re,q),lo(z,!0),re&&je){const Pn=()=>{z.subTree=qc(z),je(re,z.subTree,z,xt,null)};mn&&dn.__asyncHydrate?dn.__asyncHydrate(re,z,Pn):Pn()}else{wn.ce&&wn.ce._injectChildStyle(dn);const Pn=z.subTree=qc(z);V(null,Pn,dt,Mt,z,xt,Pt),q.el=Pn.el}if(ze&&ci(ze,xt),!mn&&(Kt=de&&de.onVnodeMounted)){const Pn=q;ci(()=>wi(Kt,Re,Pn),xt)}(q.shapeFlag&256||Re&&yo(Re.vnode)&&Re.vnode.shapeFlag&256)&&z.a&&ci(z.a,xt),z.isMounted=!0,q=dt=Mt=null}};z.scope.on();const It=z.effect=new Kf(Nt);z.scope.off();const At=z.update=It.run.bind(It),ce=z.job=It.runIfDirty.bind(It);ce.i=z,ce.id=z.uid,It.scheduler=()=>sd(ce),lo(z,!0),At()},ie=(z,q,dt)=>{q.component=z;const Mt=z.vnode.props;z.vnode=q,z.next=null,Iy(z,q.props,Mt,dt),zy(z,q.children,dt),Hr(),Kd(z),$r()},Et=(z,q,dt,Mt,xt,Pt,Gt,Nt,It=!1)=>{const At=z&&z.children,ce=z?z.shapeFlag:0,Kt=q.children,{patchFlag:re,shapeFlag:de}=q;if(re>0){if(re&128){oe(At,Kt,dt,Mt,xt,Pt,Gt,Nt,It);return}else if(re&256){Qe(At,Kt,dt,Mt,xt,Pt,Gt,Nt,It);return}}de&8?(ce&16&&me(At,xt,Pt),Kt!==At&&b(dt,Kt)):ce&16?de&16?oe(At,Kt,dt,Mt,xt,Pt,Gt,Nt,It):me(At,xt,Pt,!0):(ce&8&&b(dt,""),de&16&&Dt(Kt,dt,Mt,xt,Pt,Gt,Nt,It))},Qe=(z,q,dt,Mt,xt,Pt,Gt,Nt,It)=>{z=z||cs,q=q||cs;const At=z.length,ce=q.length,Kt=Math.min(At,ce);let re;for(re=0;re<Kt;re++){const de=q[re]=It?jr(q[re]):Li(q[re]);V(z[re],de,dt,null,xt,Pt,Gt,Nt,It)}At>ce?me(z,xt,Pt,!0,!1,Kt):Dt(q,dt,Mt,xt,Pt,Gt,Nt,It,Kt)},oe=(z,q,dt,Mt,xt,Pt,Gt,Nt,It)=>{let At=0;const ce=q.length;let Kt=z.length-1,re=ce-1;for(;At<=Kt&&At<=re;){const de=z[At],Ee=q[At]=It?jr(q[At]):Li(q[At]);if(fo(de,Ee))V(de,Ee,dt,null,xt,Pt,Gt,Nt,It);else break;At++}for(;At<=Kt&&At<=re;){const de=z[Kt],Ee=q[re]=It?jr(q[re]):Li(q[re]);if(fo(de,Ee))V(de,Ee,dt,null,xt,Pt,Gt,Nt,It);else break;Kt--,re--}if(At>Kt){if(At<=re){const de=re+1,Ee=de<ce?q[de].el:Mt;for(;At<=re;)V(null,q[At]=It?jr(q[At]):Li(q[At]),dt,Ee,xt,Pt,Gt,Nt,It),At++}}else if(At>re)for(;At<=Kt;)Ne(z[At],xt,Pt,!0),At++;else{const de=At,Ee=At,ze=new Map;for(At=Ee;At<=re;At++){const Sn=q[At]=It?jr(q[At]):Li(q[At]);Sn.key!=null&&ze.set(Sn.key,At)}let Re,wn=0;const dn=re-Ee+1;let mn=!1,Pn=0;const fi=new Array(dn);for(At=0;At<dn;At++)fi[At]=0;for(At=de;At<=Kt;At++){const Sn=z[At];if(wn>=dn){Ne(Sn,xt,Pt,!0);continue}let _n;if(Sn.key!=null)_n=ze.get(Sn.key);else for(Re=Ee;Re<=re;Re++)if(fi[Re-Ee]===0&&fo(Sn,q[Re])){_n=Re;break}_n===void 0?Ne(Sn,xt,Pt,!0):(fi[_n-Ee]=At+1,_n>=Pn?Pn=_n:mn=!0,V(Sn,q[_n],dt,null,xt,Pt,Gt,Nt,It),wn++)}const Pi=mn?Gy(fi):cs;for(Re=Pi.length-1,At=dn-1;At>=0;At--){const Sn=Ee+At,_n=q[Sn],So=Sn+1<ce?q[Sn+1].el:Mt;fi[At]===0?V(null,_n,dt,So,xt,Pt,Gt,Nt,It):mn&&(Re<0||At!==Pi[Re]?Pe(_n,dt,So,2):Re--)}}},Pe=(z,q,dt,Mt,xt=null)=>{const{el:Pt,type:Gt,transition:Nt,children:It,shapeFlag:At}=z;if(At&6){Pe(z.component.subTree,q,dt,Mt);return}if(At&128){z.suspense.move(q,dt,Mt);return}if(At&64){Gt.move(z,q,dt,ee);return}if(Gt===Ut){o(Pt,q,dt);for(let Kt=0;Kt<It.length;Kt++)Pe(It[Kt],q,dt,Mt);o(z.anchor,q,dt);return}if(Gt===va){U(z,q,dt);return}if(Mt!==2&&At&1&&Nt)if(Mt===0)Nt.beforeEnter(Pt),o(Pt,q,dt),ci(()=>Nt.enter(Pt),xt);else{const{leave:Kt,delayLeave:re,afterLeave:de}=Nt,Ee=()=>o(Pt,q,dt),ze=()=>{Kt(Pt,()=>{Ee(),de&&de()})};re?re(Pt,Ee,ze):ze()}else o(Pt,q,dt)},Ne=(z,q,dt,Mt=!1,xt=!1)=>{const{type:Pt,props:Gt,ref:Nt,children:It,dynamicChildren:At,shapeFlag:ce,patchFlag:Kt,dirs:re,cacheIndex:de}=z;if(Kt===-2&&(xt=!1),Nt!=null&&pu(Nt,null,dt,z,!0),de!=null&&(q.renderCache[de]=void 0),ce&256){q.ctx.deactivate(z);return}const Ee=ce&1&&re,ze=!yo(z);let Re;if(ze&&(Re=Gt&&Gt.onVnodeBeforeUnmount)&&wi(Re,q,z),ce&6)Be(z.component,dt,Mt);else{if(ce&128){z.suspense.unmount(dt,Mt);return}Ee&&qi(z,null,q,"beforeUnmount"),ce&64?z.type.remove(z,q,dt,ee,Mt):At&&!At.hasOnce&&(Pt!==Ut||Kt>0&&Kt&64)?me(At,q,dt,!1,!0):(Pt===Ut&&Kt&384||!xt&&ce&16)&&me(It,q,dt),Mt&&nn(z)}(ze&&(Re=Gt&&Gt.onVnodeUnmounted)||Ee)&&ci(()=>{Re&&wi(Re,q,z),Ee&&qi(z,null,q,"unmounted")},dt)},nn=z=>{const{type:q,el:dt,anchor:Mt,transition:xt}=z;if(q===Ut){He(dt,Mt);return}if(q===va){et(z);return}const Pt=()=>{h(dt),xt&&!xt.persisted&&xt.afterLeave&&xt.afterLeave()};if(z.shapeFlag&1&&xt&&!xt.persisted){const{leave:Gt,delayLeave:Nt}=xt,It=()=>Gt(dt,Pt);Nt?Nt(z.el,Pt,It):It()}else Pt()},He=(z,q)=>{let dt;for(;z!==q;)dt=P(z),h(z),z=dt;h(q)},Be=(z,q,dt)=>{const{bum:Mt,scope:xt,job:Pt,subTree:Gt,um:Nt,m:It,a:At}=z;rp(It),rp(At),Mt&&Xl(Mt),xt.stop(),Pt&&(Pt.flags|=8,Ne(Gt,z,q,dt)),Nt&&ci(Nt,q),ci(()=>{z.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},me=(z,q,dt,Mt=!1,xt=!1,Pt=0)=>{for(let Gt=Pt;Gt<z.length;Gt++)Ne(z[Gt],q,dt,Mt,xt)},bt=z=>{if(z.shapeFlag&6)return bt(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const q=P(z.anchor||z.el),dt=q&&q[ly];return dt?P(dt):q};let $t=!1;const Vt=(z,q,dt)=>{z==null?q._vnode&&Ne(q._vnode,null,null,!0):V(q._vnode||null,z,q,null,null,null,dt),q._vnode=z,$t||($t=!0,Kd(),hu(),$t=!1)},ee={p:V,um:Ne,m:Pe,r:nn,mt:Ce,mc:Dt,pc:Et,pbc:Ot,n:bt,o:t};let Se,je;return e&&([Se,je]=e(ee)),{render:Vt,hydrate:Se,createApp:Oy(Vt,Se)}}function Zc({type:t,props:e},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function lo({effect:t,job:e},i){i?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function zm(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Vm(t,e,i=!1){const o=t.children,h=e.children;if(he(o)&&he(h))for(let s=0;s<o.length;s++){const u=o[s];let f=h[s];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=h[s]=jr(h[s]),f.el=u.el),!i&&f.patchFlag!==-2&&Vm(u,f)),f.type===bo&&(f.el=u.el)}}function Gy(t){const e=t.slice(),i=[0];let o,h,s,u,f;const _=t.length;for(o=0;o<_;o++){const v=t[o];if(v!==0){if(h=i[i.length-1],t[h]<v){e[o]=h,i.push(o);continue}for(s=0,u=i.length-1;s<u;)f=s+u>>1,t[i[f]]<v?s=f+1:u=f;v<t[i[s]]&&(s>0&&(e[o]=i[s-1]),i[s]=o)}}for(s=i.length,u=i[s-1];s-- >0;)i[s]=u,u=e[u];return i}function Um(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Um(e)}function rp(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Hy=Symbol.for("v-scx"),$y=()=>Ei(Hy);function vn(t,e,i){return Gm(t,e,i)}function Gm(t,e,i=We){const{immediate:o,deep:h,flush:s,once:u}=i,f=Mn({},i);let _;if(Bu)if(s==="sync"){const P=$y();_=P.__watcherHandles||(P.__watcherHandles=[])}else if(!e||o)f.once=!0;else{const P=()=>{};return P.stop=Ki,P.resume=Ki,P.pause=Ki,P}const v=Tn;f.call=(P,O,j)=>Di(P,v,O,j);let b=!1;s==="post"?f.scheduler=P=>{ci(P,v&&v.suspense)}:s!=="sync"&&(b=!0,f.scheduler=(P,O)=>{O?P():sd(P)}),f.augmentJob=P=>{e&&(P.flags|=4),b&&(P.flags|=2,v&&(P.id=v.uid,P.i=v))};const w=ry(t,e,f);return _&&_.push(w),w}function Zy(t,e,i){const o=this.proxy,h=sn(t)?t.includes(".")?Hm(o,t):()=>o[t]:t.bind(o,o);let s;ye(e)?s=e:(s=e.handler,i=e);const u=qa(this),f=Gm(h,s.bind(o),i);return u(),f}function Hm(t,e){const i=e.split(".");return()=>{let o=t;for(let h=0;h<i.length&&o;h++)o=o[i[h]];return o}}const qy=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Mi(e)}Modifiers`]||t[`${Gr(e)}Modifiers`];function Ky(t,e,...i){if(t.isUnmounted)return;const o=t.vnode.props||We;let h=i;const s=e.startsWith("update:"),u=s&&qy(o,e.slice(7));u&&(u.trim&&(h=i.map(b=>sn(b)?b.trim():b)),u.number&&(h=i.map(au)));let f,_=o[f=Nc(e)]||o[f=Nc(Mi(e))];!_&&s&&(_=o[f=Nc(Gr(e))]),_&&Di(_,t,6,h);const v=o[f+"Once"];if(v){if(!t.emitted)t.emitted={};else if(t.emitted[f])return;t.emitted[f]=!0,Di(v,t,6,h)}}function $m(t,e,i=!1){const o=e.emitsCache,h=o.get(t);if(h!==void 0)return h;const s=t.emits;let u={},f=!1;if(!ye(t)){const _=v=>{const b=$m(v,e,!0);b&&(f=!0,Mn(u,b))};!i&&e.mixins.length&&e.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}return!s&&!f?(Je(t)&&o.set(t,null),null):(he(s)?s.forEach(_=>u[_]=null):Mn(u,s),Je(t)&&o.set(t,u),u)}function Su(t,e){return!t||!Va(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ue(t,e[0].toLowerCase()+e.slice(1))||Ue(t,Gr(e))||Ue(t,e))}function qc(t){const{type:e,vnode:i,proxy:o,withProxy:h,propsOptions:[s],slots:u,attrs:f,emit:_,render:v,renderCache:b,props:w,data:P,setupState:O,ctx:j,inheritAttrs:V}=t,rt=du(t);let ht,ct;try{if(i.shapeFlag&4){const et=h||o,gt=et;ht=Li(v.call(gt,et,b,w,O,P,j)),ct=f}else{const et=e;ht=Li(et.length>1?et(w,{attrs:f,slots:u,emit:_}):et(w,null)),ct=e.props?f:Wy(f)}}catch(et){ba.length=0,Eu(et,t,1),ht=X(Un)}let U=ht;if(ct&&V!==!1){const et=Object.keys(ct),{shapeFlag:gt}=U;et.length&&gt&7&&(s&&et.some(Zh)&&(ct=Jy(ct,s)),U=Ur(U,ct,!1,!0))}return i.dirs&&(U=Ur(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(i.dirs):i.dirs),i.transition&&Ba(U,i.transition),ht=U,du(rt),ht}const Wy=t=>{let e;for(const i in t)(i==="class"||i==="style"||Va(i))&&((e||(e={}))[i]=t[i]);return e},Jy=(t,e)=>{const i={};for(const o in t)(!Zh(o)||!(o.slice(9)in e))&&(i[o]=t[o]);return i};function Yy(t,e,i){const{props:o,children:h,component:s}=t,{props:u,children:f,patchFlag:_}=e,v=s.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&_>=0){if(_&1024)return!0;if(_&16)return o?op(o,u,v):!!u;if(_&8){const b=e.dynamicProps;for(let w=0;w<b.length;w++){const P=b[w];if(u[P]!==o[P]&&!Su(v,P))return!0}}}else return(h||f)&&(!f||!f.$stable)?!0:o===u?!1:o?u?op(o,u,v):!0:!!u;return!1}function op(t,e,i){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let h=0;h<o.length;h++){const s=o[h];if(e[s]!==t[s]&&!Su(i,s))return!0}return!1}function Xy({vnode:t,parent:e},i){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=i,e=e.parent;else break}}const Zm=t=>t.__isSuspense;function qm(t,e){e&&e.pendingBranch?he(t)?e.effects.push(...t):e.effects.push(t):ay(t)}const Ut=Symbol.for("v-fgt"),bo=Symbol.for("v-txt"),Un=Symbol.for("v-cmt"),va=Symbol.for("v-stc"),ba=[];let hi=null;function A(t=!1){ba.push(hi=t?null:[])}function Qy(){ba.pop(),hi=ba[ba.length-1]||null}let Ta=1;function sp(t){Ta+=t,t<0&&hi&&(hi.hasOnce=!0)}function Km(t){return t.dynamicChildren=Ta>0?hi||cs:null,Qy(),Ta>0&&hi&&hi.push(t),t}function Z(t,e,i,o,h,s){return Km($(t,e,i,o,h,s,!0))}function wt(t,e,i,o,h){return Km(X(t,e,i,o,h,!0))}function Aa(t){return t?t.__v_isVNode===!0:!1}function fo(t,e){return t.type===e.type&&t.key===e.key}const Wm=({key:t})=>t??null,tu=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?sn(t)||fn(t)||ye(t)?{i:En,r:t,k:e,f:!!i}:t:null);function $(t,e=null,i=null,o=0,h=null,s=t===Ut?0:1,u=!1,f=!1){const _={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Wm(e),ref:e&&tu(e),scopeId:mm,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:En};return f?(hd(_,i),s&128&&t.normalize(_)):i&&(_.shapeFlag|=sn(i)?8:16),Ta>0&&!u&&hi&&(_.patchFlag>0||s&6)&&_.patchFlag!==32&&hi.push(_),_}const X=tv;function tv(t,e=null,i=null,o=0,h=null,s=!1){if((!t||t===km)&&(t=Un),Aa(t)){const f=Ur(t,e,!0);return i&&hd(f,i),Ta>0&&!s&&hi&&(f.shapeFlag&6?hi[hi.indexOf(t)]=f:hi.push(f)),f.patchFlag=-2,f}if(uv(t)&&(t=t.__vccOpts),e){e=mu(e);let{class:f,style:_}=e;f&&!sn(f)&&(e.class=hn(f)),Je(_)&&(id(_)&&!he(_)&&(_=Mn({},_)),e.style=Ci(_))}const u=sn(t)?1:Zm(t)?128:_m(t)?64:Je(t)?4:ye(t)?2:0;return $(t,e,i,o,h,u,s,!0)}function mu(t){return t?id(t)||Am(t)?Mn({},t):t:null}function Ur(t,e,i=!1,o=!1){const{props:h,ref:s,patchFlag:u,children:f,transition:_}=t,v=e?Jm(h||{},e):h,b={__v_isVNode:!0,__v_skip:!0,type:t.type,props:v,key:v&&Wm(v),ref:e&&e.ref?i&&s?he(s)?s.concat(tu(e)):[s,tu(e)]:tu(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:f,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ut?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:_,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ur(t.ssContent),ssFallback:t.ssFallback&&Ur(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return _&&o&&Ba(b,_.clone(b)),b}function Qt(t=" ",e=0){return X(bo,null,t,e)}function ev(t,e){const i=X(va,null,t);return i.staticCount=e,i}function Rt(t="",e=!1){return e?(A(),wt(Un,null,t)):X(Un,null,t)}function Li(t){return t==null||typeof t=="boolean"?X(Un):he(t)?X(Ut,null,t.slice()):Aa(t)?jr(t):X(bo,null,String(t))}function jr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ur(t)}function hd(t,e){let i=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(he(e))i=16;else if(typeof e=="object")if(o&65){const h=e.default;h&&(h._c&&(h._d=!1),hd(t,h()),h._c&&(h._d=!0));return}else{i=32;const h=e._;!h&&!Am(e)?e._ctx=En:h===3&&En&&(En.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:En},i=32):(e=String(e),o&64?(i=16,e=[Qt(e)]):i=8);t.children=e,t.shapeFlag|=i}function Jm(...t){const e={};for(let i=0;i<t.length;i++){const o=t[i];for(const h in o)if(h==="class")e.class!==o.class&&(e.class=hn([e.class,o.class]));else if(h==="style")e.style=Ci([e.style,o.style]);else if(Va(h)){const s=e[h],u=o[h];u&&s!==u&&!(he(s)&&s.includes(u))&&(e[h]=s?[].concat(s,u):u)}else h!==""&&(e[h]=o[h])}return e}function wi(t,e,i,o=null){Di(t,e,7,[i,o])}const nv=Sm();let iv=0;function rv(t,e,i){const o=t.type,h=(e?e.appContext:t.appContext)||nv,s={uid:iv++,vnode:t,type:o,parent:e,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new $f(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(h.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rm(o,h),emitsOptions:$m(o,h),emit:null,emitted:null,propsDefaults:We,inheritAttrs:o.inheritAttrs,ctx:We,data:We,props:We,attrs:We,slots:We,refs:We,setupState:We,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Ky.bind(null,s),t.ce&&t.ce(s),s}let Tn=null;const Ym=()=>Tn||En;let _u,bh;{const t=Vf(),e=(i,o)=>{let h;return(h=t[i])||(h=t[i]=[]),h.push(o),s=>{h.length>1?h.forEach(u=>u(s)):h[0](s)}};_u=e("__VUE_INSTANCE_SETTERS__",i=>Tn=i),bh=e("__VUE_SSR_SETTERS__",i=>Bu=i)}const qa=t=>{const e=Tn;return _u(t),t.scope.on(),()=>{t.scope.off(),_u(e)}},ap=()=>{Tn&&Tn.scope.off(),_u(null)};function Xm(t){return t.vnode.shapeFlag&4}let Bu=!1;function ov(t,e=!1,i=!1){e&&bh(e);const{props:o,children:h}=t.vnode,s=Xm(t);Dy(t,o,s,e),Ny(t,h,i);const u=s?sv(t,e):void 0;return e&&bh(!1),u}function sv(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Cy);const{setup:o}=i;if(o){const h=t.setupContext=o.length>1?t_(t):null,s=qa(t);Hr();const u=$a(o,t,0,[t.props,h]);if($r(),s(),Ff(u)){if(yo(t)||wm(t),u.then(ap,ap),e)return u.then(f=>{lp(t,f,e)}).catch(f=>{Eu(f,t,0)});t.asyncDep=u}else lp(t,u,e)}else Qm(t,e)}function lp(t,e,i){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Je(e)&&(t.setupState=hm(e)),Qm(t,i)}let up;function Qm(t,e,i){const o=t.type;if(!t.render){if(!e&&up&&!o.render){const h=o.template||ud(t).template;if(h){const{isCustomElement:s,compilerOptions:u}=t.appContext.config,{delimiters:f,compilerOptions:_}=o,v=Mn(Mn({isCustomElement:s,delimiters:f},u),_);o.render=up(h,v)}}t.render=o.render||Ki}{const h=qa(t);Hr();try{My(t)}finally{$r(),h()}}}const av={get(t,e){return Gn(t,"get",""),t[e]}};function t_(t){const e=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,av),slots:t.slots,emit:t.emit,expose:e}}function Tu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hm(rd(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in ya)return ya[i](t)},has(e,i){return i in e||i in ya}})):t.proxy}function lv(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function uv(t){return ye(t)&&"__vccOpts"in t}const Yt=(t,e)=>ny(t,e,Bu);function dd(t,e,i){const o=arguments.length;return o===2?Je(e)&&!he(e)?Aa(e)?X(t,null,[e]):X(t,e):X(t,null,e):(o>3?i=Array.prototype.slice.call(arguments,2):o===3&&Aa(i)&&(i=[i]),X(t,e,i))}const cv="3.5.11";/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xh;const cp=typeof window<"u"&&window.trustedTypes;if(cp)try{xh=cp.createPolicy("vue",{createHTML:t=>t})}catch{}const e_=xh?t=>xh.createHTML(t):t=>t,hv="http://www.w3.org/2000/svg",dv="http://www.w3.org/1998/Math/MathML",cr=typeof document<"u"?document:null,hp=cr&&cr.createElement("template"),pv={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,o)=>{const h=e==="svg"?cr.createElementNS(hv,t):e==="mathml"?cr.createElementNS(dv,t):i?cr.createElement(t,{is:i}):cr.createElement(t);return t==="select"&&o&&o.multiple!=null&&h.setAttribute("multiple",o.multiple),h},createText:t=>cr.createTextNode(t),createComment:t=>cr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,o,h,s){const u=i?i.previousSibling:e.lastChild;if(h&&(h===s||h.nextSibling))for(;e.insertBefore(h.cloneNode(!0),i),!(h===s||!(h=h.nextSibling)););else{hp.innerHTML=e_(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const f=hp.content;if(o==="svg"||o==="mathml"){const _=f.firstChild;for(;_.firstChild;)f.appendChild(_.firstChild);f.removeChild(_)}e.insertBefore(f,i)}return[u?u.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},Br="transition",la="animation",Oa=Symbol("_vtc"),n_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},fv=Mn({},gm,n_),mv=t=>(t.displayName="Transition",t.props=fv,t),Au=mv((t,{slots:e})=>dd(hy,_v(t),e)),uo=(t,e=[])=>{he(t)?t.forEach(i=>i(...e)):t&&t(...e)},dp=t=>t?he(t)?t.some(e=>e.length>1):t.length>1:!1;function _v(t){const e={};for(const Tt in t)Tt in n_||(e[Tt]=t[Tt]);if(t.css===!1)return e;const{name:i="v",type:o,duration:h,enterFromClass:s=`${i}-enter-from`,enterActiveClass:u=`${i}-enter-active`,enterToClass:f=`${i}-enter-to`,appearFromClass:_=s,appearActiveClass:v=u,appearToClass:b=f,leaveFromClass:w=`${i}-leave-from`,leaveActiveClass:P=`${i}-leave-active`,leaveToClass:O=`${i}-leave-to`}=t,j=gv(h),V=j&&j[0],rt=j&&j[1],{onBeforeEnter:ht,onEnter:ct,onEnterCancelled:U,onLeave:et,onLeaveCancelled:gt,onBeforeAppear:Bt=ht,onAppear:jt=ct,onAppearCancelled:Dt=U}=e,Ct=(Tt,ae,Ce)=>{co(Tt,ae?b:f),co(Tt,ae?v:u),Ce&&Ce()},Ot=(Tt,ae)=>{Tt._isLeaving=!1,co(Tt,w),co(Tt,O),co(Tt,P),ae&&ae()},Zt=Tt=>(ae,Ce)=>{const Ge=Tt?jt:ct,Ht=()=>Ct(ae,Tt,Ce);uo(Ge,[ae,Ht]),pp(()=>{co(ae,Tt?_:s),Tr(ae,Tt?b:f),dp(Ge)||fp(ae,o,V,Ht)})};return Mn(e,{onBeforeEnter(Tt){uo(ht,[Tt]),Tr(Tt,s),Tr(Tt,u)},onBeforeAppear(Tt){uo(Bt,[Tt]),Tr(Tt,_),Tr(Tt,v)},onEnter:Zt(!1),onAppear:Zt(!0),onLeave(Tt,ae){Tt._isLeaving=!0;const Ce=()=>Ot(Tt,ae);Tr(Tt,w),Tr(Tt,P),bv(),pp(()=>{Tt._isLeaving&&(co(Tt,w),Tr(Tt,O),dp(et)||fp(Tt,o,rt,Ce))}),uo(et,[Tt,Ce])},onEnterCancelled(Tt){Ct(Tt,!1),uo(U,[Tt])},onAppearCancelled(Tt){Ct(Tt,!0),uo(Dt,[Tt])},onLeaveCancelled(Tt){Ot(Tt),uo(gt,[Tt])}})}function gv(t){if(t==null)return null;if(Je(t))return[Kc(t.enter),Kc(t.leave)];{const e=Kc(t);return[e,e]}}function Kc(t){return y0(t)}function Tr(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[Oa]||(t[Oa]=new Set)).add(e)}function co(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const i=t[Oa];i&&(i.delete(e),i.size||(t[Oa]=void 0))}function pp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let yv=0;function fp(t,e,i,o){const h=t._endId=++yv,s=()=>{h===t._endId&&o()};if(i!=null)return setTimeout(s,i);const{type:u,timeout:f,propCount:_}=vv(t,e);if(!u)return o();const v=u+"end";let b=0;const w=()=>{t.removeEventListener(v,P),s()},P=O=>{O.target===t&&++b>=_&&w()};setTimeout(()=>{b<_&&w()},f+1),t.addEventListener(v,P)}function vv(t,e){const i=window.getComputedStyle(t),o=j=>(i[j]||"").split(", "),h=o(`${Br}Delay`),s=o(`${Br}Duration`),u=mp(h,s),f=o(`${la}Delay`),_=o(`${la}Duration`),v=mp(f,_);let b=null,w=0,P=0;e===Br?u>0&&(b=Br,w=u,P=s.length):e===la?v>0&&(b=la,w=v,P=_.length):(w=Math.max(u,v),b=w>0?u>v?Br:la:null,P=b?b===Br?s.length:_.length:0);const O=b===Br&&/\b(transform|all)(,|$)/.test(o(`${Br}Property`).toString());return{type:b,timeout:w,propCount:P,hasTransform:O}}function mp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((i,o)=>_p(i)+_p(t[o])))}function _p(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function bv(){return document.body.offsetHeight}function xv(t,e,i){const o=t[Oa];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const gu=Symbol("_vod"),i_=Symbol("_vsh"),Ou={beforeMount(t,{value:e},{transition:i}){t[gu]=t.style.display==="none"?"":t.style.display,i&&e?i.beforeEnter(t):ua(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:o}){!e!=!i&&(o?e?(o.beforeEnter(t),ua(t,!0),o.enter(t)):o.leave(t,()=>{ua(t,!1)}):ua(t,e))},beforeUnmount(t,{value:e}){ua(t,e)}};function ua(t,e){t.style.display=e?t[gu]:"none",t[i_]=!e}const wv=Symbol(""),Lv=/(^|;)\s*display\s*:/;function Cv(t,e,i){const o=t.style,h=sn(i);let s=!1;if(i&&!h){if(e)if(sn(e))for(const u of e.split(";")){const f=u.slice(0,u.indexOf(":")).trim();i[f]==null&&eu(o,f,"")}else for(const u in e)i[u]==null&&eu(o,u,"");for(const u in i)u==="display"&&(s=!0),eu(o,u,i[u])}else if(h){if(e!==i){const u=o[wv];u&&(i+=";"+u),o.cssText=i,s=Lv.test(i)}}else e&&t.removeAttribute("style");gu in t&&(t[gu]=s?o.display:"",t[i_]&&(o.display="none"))}const gp=/\s*!important$/;function eu(t,e,i){if(he(i))i.forEach(o=>eu(t,e,o));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const o=kv(t,e);gp.test(i)?t.setProperty(Gr(o),i.replace(gp,""),"important"):t[o]=i}}const yp=["Webkit","Moz","ms"],Wc={};function kv(t,e){const i=Wc[e];if(i)return i;let o=Mi(e);if(o!=="filter"&&o in t)return Wc[e]=o;o=Lu(o);for(let h=0;h<yp.length;h++){const s=yp[h]+o;if(s in t)return Wc[e]=s}return e}const vp="http://www.w3.org/1999/xlink";function bp(t,e,i,o,h,s=C0(e)){o&&e.startsWith("xlink:")?i==null?t.removeAttributeNS(vp,e.slice(6,e.length)):t.setAttributeNS(vp,e,i):i==null||s&&!Uf(i)?t.removeAttribute(e):t.setAttribute(e,s?"":Wi(i)?String(i):i)}function xp(t,e,i,o){if(e==="innerHTML"||e==="textContent"){i!=null&&(t[e]=e==="innerHTML"?e_(i):i);return}const h=t.tagName;if(e==="value"&&h!=="PROGRESS"&&!h.includes("-")){const u=h==="OPTION"?t.getAttribute("value")||"":t.value,f=i==null?t.type==="checkbox"?"on":"":String(i);(u!==f||!("_value"in t))&&(t.value=f),i==null&&t.removeAttribute(e),t._value=i;return}let s=!1;if(i===""||i==null){const u=typeof t[e];u==="boolean"?i=Uf(i):i==null&&u==="string"?(i="",s=!0):u==="number"&&(i=0,s=!0)}try{t[e]=i}catch{}s&&t.removeAttribute(e)}function zr(t,e,i,o){t.addEventListener(e,i,o)}function Ev(t,e,i,o){t.removeEventListener(e,i,o)}const wp=Symbol("_vei");function Mv(t,e,i,o,h=null){const s=t[wp]||(t[wp]={}),u=s[e];if(o&&u)u.value=o;else{const[f,_]=Pv(e);if(o){const v=s[e]=Tv(o,h);zr(t,f,v,_)}else u&&(Ev(t,f,u,_),s[e]=void 0)}}const Lp=/(?:Once|Passive|Capture)$/;function Pv(t){let e;if(Lp.test(t)){e={};let o;for(;o=t.match(Lp);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gr(t.slice(2)),e]}let Jc=0;const Sv=Promise.resolve(),Bv=()=>Jc||(Sv.then(()=>Jc=0),Jc=Date.now());function Tv(t,e){const i=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=i.attached)return;Di(Av(o,i.value),e,5,[o])};return i.value=t,i.attached=Bv(),i}function Av(t,e){if(he(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(o=>h=>!h._stopped&&o&&o(h))}else return e}const Cp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ov=(t,e,i,o,h,s)=>{const u=h==="svg";e==="class"?xv(t,o,u):e==="style"?Cv(t,i,o):Va(e)?Zh(e)||Mv(t,e,i,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Rv(t,e,o,u))?(xp(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&bp(t,e,o,u,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!sn(o))?xp(t,Mi(e),o):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),bp(t,e,o,u))};function Rv(t,e,i,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&Cp(e)&&ye(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const h=t.tagName;if(h==="IMG"||h==="VIDEO"||h==="CANVAS"||h==="SOURCE")return!1}return Cp(e)&&sn(i)?!1:e in t}const ms=t=>{const e=t.props["onUpdate:modelValue"]||!1;return he(e)?i=>Xl(e,i):e};function Dv(t){t.target.composing=!0}function kp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fr=Symbol("_assign"),pd={created(t,{modifiers:{lazy:e,trim:i,number:o}},h){t[fr]=ms(h);const s=o||h.props&&h.props.type==="number";zr(t,e?"change":"input",u=>{if(u.target.composing)return;let f=t.value;i&&(f=f.trim()),s&&(f=au(f)),t[fr](f)}),i&&zr(t,"change",()=>{t.value=t.value.trim()}),e||(zr(t,"compositionstart",Dv),zr(t,"compositionend",kp),zr(t,"change",kp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:i,modifiers:{lazy:o,trim:h,number:s}},u){if(t[fr]=ms(u),t.composing)return;const f=(s||t.type==="number")&&!/^0\d/.test(t.value)?au(t.value):t.value,_=e??"";f!==_&&(document.activeElement===t&&t.type!=="range"&&(o&&e===i||h&&t.value.trim()===_)||(t.value=_))}},vs={deep:!0,created(t,e,i){t[fr]=ms(i),zr(t,"change",()=>{const o=t._modelValue,h=Ra(t),s=t.checked,u=t[fr];if(he(o)){const f=Wh(o,h),_=f!==-1;if(s&&!_)u(o.concat(h));else if(!s&&_){const v=[...o];v.splice(f,1),u(v)}}else if(ys(o)){const f=new Set(o);s?f.add(h):f.delete(h),u(f)}else u(r_(t,s))})},mounted:Ep,beforeUpdate(t,e,i){t[fr]=ms(i),Ep(t,e,i)}};function Ep(t,{value:e},i){t._modelValue=e;let o;he(e)?o=Wh(e,i.props.value)>-1:ys(e)?o=e.has(i.props.value):o=Ga(e,r_(t,!0)),t.checked!==o&&(t.checked=o)}const Ka={deep:!0,created(t,{value:e,modifiers:{number:i}},o){const h=ys(e);zr(t,"change",()=>{const s=Array.prototype.filter.call(t.options,u=>u.selected).map(u=>i?au(Ra(u)):Ra(u));t[fr](t.multiple?h?new Set(s):s:s[0]),t._assigning=!0,Za(()=>{t._assigning=!1})}),t[fr]=ms(o)},mounted(t,{value:e}){Mp(t,e)},beforeUpdate(t,e,i){t[fr]=ms(i)},updated(t,{value:e}){t._assigning||Mp(t,e)}};function Mp(t,e){const i=t.multiple,o=he(e);if(!(i&&!o&&!ys(e))){for(let h=0,s=t.options.length;h<s;h++){const u=t.options[h],f=Ra(u);if(i)if(o){const _=typeof f;_==="string"||_==="number"?u.selected=e.some(v=>String(v)===String(f)):u.selected=Wh(e,f)>-1}else u.selected=e.has(f);else if(Ga(Ra(u),e)){t.selectedIndex!==h&&(t.selectedIndex=h);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ra(t){return"_value"in t?t._value:t.value}function r_(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const Iv=["ctrl","shift","alt","meta"],Fv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Iv.some(i=>t[`${i}Key`]&&!e.includes(i))},Da=(t,e)=>{const i=t._withMods||(t._withMods={}),o=e.join(".");return i[o]||(i[o]=(h,...s)=>{for(let u=0;u<e.length;u++){const f=Fv[e[u]];if(f&&f(h,e))return}return t(h,...s)})},jv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},o_=(t,e)=>{const i=t._withKeys||(t._withKeys={}),o=e.join(".");return i[o]||(i[o]=h=>{if(!("key"in h))return;const s=Gr(h.key);if(e.some(u=>u===s||jv[u]===s))return t(h)})},s_=Mn({patchProp:Ov},pv);let xa,Pp=!1;function Nv(){return xa||(xa=Vy(s_))}function zv(){return xa=Pp?xa:Uy(s_),Pp=!0,xa}const Vv=(...t)=>{const e=Nv().createApp(...t),{mount:i}=e;return e.mount=o=>{const h=l_(o);if(!h)return;const s=e._component;!ye(s)&&!s.render&&!s.template&&(s.template=h.innerHTML),h.nodeType===1&&(h.textContent="");const u=i(h,!1,a_(h));return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),u},e},Uv=(...t)=>{const e=zv().createApp(...t),{mount:i}=e;return e.mount=o=>{const h=l_(o);if(h)return i(h,!0,a_(h))},e};function a_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function l_(t){return sn(t)?document.querySelector(t):t}let Gv;function Hv(){return Gv}function fd(t,e={}){const i=e.head||Hv();return i==null?void 0:i.push(t,e)}const $v=["title"],Zv={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},qv={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},u_={__name:"SwitchTheme",setup(t){const e={dark:"dark",light:"light"},i=Jt(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?i.value="dark":i.value="light",vn(i,(h,s)=>{document.documentElement.classList.add(h),document.documentElement.classList.remove(s),localStorage.setItem("theme",h)},{immediate:!0}));const o=()=>{i.value===e.dark?i.value=e.light:i.value=e.dark};return(h,s)=>(A(),Z("button",{type:"button",onClick:o,title:i.value===e.light?"Change to dark mode":"Change to light mode"},[i.value===e.dark?(A(),Z("svg",Zv,s[0]||(s[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(A(),Z("svg",qv,s[1]||(s[1]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))],8,$v))}};var Kv={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const Wv=["aria-expanded"],Jv={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},Yv={class:"font-normal container mx-auto"},Xv={class:"flex flex-col m-0 p-0 border-t border-base-border"},Qv={__name:"NavbarMobile",setup(t){const{header_links:e}=Kv,i=Jt(!1),o=()=>{i.value=!i.value};return(h,s)=>{const u=_t("IconClose"),f=_t("IconHamburger"),_=_t("router-link"),v=_t("ClientOnly"),b=_t("TrackerReport"),w=_t("AnimationOpacity");return A(),Z(Ut,null,[$("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":i.value,onClick:o},[s[0]||(s[0]=$("span",{class:"sr-only"},"Open main menu",-1)),i.value?(A(),wt(u,{key:0})):(A(),wt(f,{key:1,class:"w-6 h-6"}))],8,Wv),X(w,null,{default:nt(()=>[i.value?(A(),Z("div",Jv,[$("nav",Yv,[$("ul",Xv,[(A(!0),Z(Ut,null,fe(zt(e),(P,O)=>(A(),Z("li",{key:O,class:"border-b border-base-border"},[X(_,{to:P.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:nt(()=>[Qt(Ft(P.label),1)]),_:2},1032,["to"])]))),128)),$("li",null,[X(v,null,{default:nt(()=>[X(u_,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})]),$("li",null,[X(b,{icon:"","button-class":"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})])])])])):Rt("",!0)]),_:1})],64)}}};function tb(t){try{return new URL(t),!0}catch{return!1}}var eb={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const nb={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},ib={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},rb=["src","alt"],ob={class:"relative hidden md:flex items-center ml-auto"},sb={class:"text-sm leading-6 font-normal"},ab={class:"flex space-x-8"},lb={class:"flex items-center border-l ml-6 pl-6 border-base-muted border-opacity-50"},ub={class:"flex items-center ml-2 border-base-muted"},cb={__name:"LayoutHeader",setup(t){const{header_links:e,header_logo_text:i,header_logo_url:o,base_url:h,project_name:s}=eb,u=tb(o)?o:(h+o).replace("//","/");return(f,_)=>{const v=_t("RouterLink"),b=_t("router-link"),w=_t("ClientOnly"),P=_t("TrackerReport");return A(),Z("header",nb,[$("div",ib,[X(v,{to:"/",class:"flex items-center text-primary-content"},{default:nt(()=>[zt(o)?(A(),Z("img",{key:0,class:"mr-3 h-10",src:zt(u),alt:zt(i)},null,8,rb)):Rt("",!0),$("span",null,Ft(zt(i)||zt(s)),1)]),_:1}),X(Qv),$("div",ob,[$("nav",sb,[$("ul",ab,[(A(!0),Z(Ut,null,fe(zt(e),(O,j)=>(A(),Z("li",{key:j},[X(b,{to:O.link,class:"hover:text-primary-content text-primary-content"},{default:nt(()=>[Qt(Ft(O.label),1)]),_:2},1032,["to"])]))),128))])]),$("div",lb,[X(w,null,{default:nt(()=>[X(u_,{class:"text-primary-content"})]),_:1})]),$("div",ub,[X(P,{icon:""})])])])])}}};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ls=typeof document<"u";function c_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function hb(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&c_(t.default)}const $e=Object.assign;function Yc(t,e){const i={};for(const o in e){const h=e[o];i[o]=Ii(h)?h.map(t):t(h)}return i}const wa=()=>{},Ii=Array.isArray,h_=/#/g,db=/&/g,pb=/\//g,fb=/=/g,mb=/\?/g,d_=/\+/g,_b=/%5B/g,gb=/%5D/g,p_=/%5E/g,yb=/%60/g,f_=/%7B/g,vb=/%7C/g,m_=/%7D/g,bb=/%20/g;function md(t){return encodeURI(""+t).replace(vb,"|").replace(_b,"[").replace(gb,"]")}function xb(t){return md(t).replace(f_,"{").replace(m_,"}").replace(p_,"^")}function wh(t){return md(t).replace(d_,"%2B").replace(bb,"+").replace(h_,"%23").replace(db,"%26").replace(yb,"`").replace(f_,"{").replace(m_,"}").replace(p_,"^")}function wb(t){return wh(t).replace(fb,"%3D")}function Lb(t){return md(t).replace(h_,"%23").replace(mb,"%3F")}function Cb(t){return t==null?"":Lb(t).replace(pb,"%2F")}function Ia(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const kb=/\/$/,Eb=t=>t.replace(kb,"");function Xc(t,e,i="/"){let o,h={},s="",u="";const f=e.indexOf("#");let _=e.indexOf("?");return f<_&&f>=0&&(_=-1),_>-1&&(o=e.slice(0,_),s=e.slice(_+1,f>-1?f:e.length),h=t(s)),f>-1&&(o=o||e.slice(0,f),u=e.slice(f,e.length)),o=Bb(o??e,i),{fullPath:o+(s&&"?")+s+u,path:o,query:h,hash:Ia(u)}}function Mb(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function Sp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Pb(t,e,i){const o=e.matched.length-1,h=i.matched.length-1;return o>-1&&o===h&&_s(e.matched[o],i.matched[h])&&__(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}function _s(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function __(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!Sb(t[i],e[i]))return!1;return!0}function Sb(t,e){return Ii(t)?Bp(t,e):Ii(e)?Bp(e,t):t===e}function Bp(t,e){return Ii(e)?t.length===e.length&&t.every((i,o)=>i===e[o]):t.length===1&&t[0]===e}function Bb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),o=t.split("/"),h=o[o.length-1];(h===".."||h===".")&&o.push("");let s=i.length-1,u,f;for(u=0;u<o.length;u++)if(f=o[u],f!==".")if(f==="..")s>1&&s--;else break;return i.slice(0,s).join("/")+"/"+o.slice(u).join("/")}const Ar={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fa;(function(t){t.pop="pop",t.push="push"})(Fa||(Fa={}));var La;(function(t){t.back="back",t.forward="forward",t.unknown=""})(La||(La={}));function Tb(t){if(!t)if(ls){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Eb(t)}const Ab=/^[^#]+#/;function Ob(t,e){return t.replace(Ab,"#")+e}function Rb(t,e){const i=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-i.left-(e.left||0),top:o.top-i.top-(e.top||0)}}const Ru=()=>({left:window.scrollX,top:window.scrollY});function Db(t){let e;if("el"in t){const i=t.el,o=typeof i=="string"&&i.startsWith("#"),h=typeof i=="string"?o?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!h)return;e=Rb(h,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Tp(t,e){return(history.state?history.state.position-e:-1)+t}const Lh=new Map;function Ib(t,e){Lh.set(t,e)}function Fb(t){const e=Lh.get(t);return Lh.delete(t),e}let jb=()=>location.protocol+"//"+location.host;function g_(t,e){const{pathname:i,search:o,hash:h}=e,s=t.indexOf("#");if(s>-1){let f=h.includes(t.slice(s))?t.slice(s).length:1,_=h.slice(f);return _[0]!=="/"&&(_="/"+_),Sp(_,"")}return Sp(i,t)+o+h}function Nb(t,e,i,o){let h=[],s=[],u=null;const f=({state:P})=>{const O=g_(t,location),j=i.value,V=e.value;let rt=0;if(P){if(i.value=O,e.value=P,u&&u===j){u=null;return}rt=V?P.position-V.position:0}else o(O);h.forEach(ht=>{ht(i.value,j,{delta:rt,type:Fa.pop,direction:rt?rt>0?La.forward:La.back:La.unknown})})};function _(){u=i.value}function v(P){h.push(P);const O=()=>{const j=h.indexOf(P);j>-1&&h.splice(j,1)};return s.push(O),O}function b(){const{history:P}=window;P.state&&P.replaceState($e({},P.state,{scroll:Ru()}),"")}function w(){for(const P of s)P();s=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",b)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",b,{passive:!0}),{pauseListeners:_,listen:v,destroy:w}}function Ap(t,e,i,o=!1,h=!1){return{back:t,current:e,forward:i,replaced:o,position:window.history.length,scroll:h?Ru():null}}function zb(t){const{history:e,location:i}=window,o={value:g_(t,i)},h={value:e.state};h.value||s(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(_,v,b){const w=t.indexOf("#"),P=w>-1?(i.host&&document.querySelector("base")?t:t.slice(w))+_:jb()+t+_;try{e[b?"replaceState":"pushState"](v,"",P),h.value=v}catch(O){console.error(O),i[b?"replace":"assign"](P)}}function u(_,v){const b=$e({},e.state,Ap(h.value.back,_,h.value.forward,!0),v,{position:h.value.position});s(_,b,!0),o.value=_}function f(_,v){const b=$e({},h.value,e.state,{forward:_,scroll:Ru()});s(b.current,b,!0);const w=$e({},Ap(o.value,_,null),{position:b.position+1},v);s(_,w,!1),o.value=_}return{location:o,state:h,push:f,replace:u}}function y_(t){t=Tb(t);const e=zb(t),i=Nb(t,e.state,e.location,e.replace);function o(s,u=!0){u||i.pauseListeners(),history.go(s)}const h=$e({location:"",base:t,go:o,createHref:Ob.bind(null,t)},e,i);return Object.defineProperty(h,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(h,"state",{enumerable:!0,get:()=>e.state.value}),h}function Vb(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),y_(t)}function Ub(t){return typeof t=="string"||t&&typeof t=="object"}function v_(t){return typeof t=="string"||typeof t=="symbol"}const b_=Symbol("");var Op;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Op||(Op={}));function gs(t,e){return $e(new Error,{type:t,[b_]:!0},e)}function ur(t,e){return t instanceof Error&&b_ in t&&(e==null||!!(t.type&e))}const Rp="[^/]+?",Gb={sensitive:!1,strict:!1,start:!0,end:!0},Hb=/[.+*?^${}()[\]/\\]/g;function $b(t,e){const i=$e({},Gb,e),o=[];let h=i.start?"^":"";const s=[];for(const v of t){const b=v.length?[]:[90];i.strict&&!v.length&&(h+="/");for(let w=0;w<v.length;w++){const P=v[w];let O=40+(i.sensitive?.25:0);if(P.type===0)w||(h+="/"),h+=P.value.replace(Hb,"\\$&"),O+=40;else if(P.type===1){const{value:j,repeatable:V,optional:rt,regexp:ht}=P;s.push({name:j,repeatable:V,optional:rt});const ct=ht||Rp;if(ct!==Rp){O+=10;try{new RegExp(`(${ct})`)}catch(et){throw new Error(`Invalid custom RegExp for param "${j}" (${ct}): `+et.message)}}let U=V?`((?:${ct})(?:/(?:${ct}))*)`:`(${ct})`;w||(U=rt&&v.length<2?`(?:/${U})`:"/"+U),rt&&(U+="?"),h+=U,O+=20,rt&&(O+=-8),V&&(O+=-20),ct===".*"&&(O+=-50)}b.push(O)}o.push(b)}if(i.strict&&i.end){const v=o.length-1;o[v][o[v].length-1]+=.7000000000000001}i.strict||(h+="/?"),i.end?h+="$":i.strict&&(h+="(?:/|$)");const u=new RegExp(h,i.sensitive?"":"i");function f(v){const b=v.match(u),w={};if(!b)return null;for(let P=1;P<b.length;P++){const O=b[P]||"",j=s[P-1];w[j.name]=O&&j.repeatable?O.split("/"):O}return w}function _(v){let b="",w=!1;for(const P of t){(!w||!b.endsWith("/"))&&(b+="/"),w=!1;for(const O of P)if(O.type===0)b+=O.value;else if(O.type===1){const{value:j,repeatable:V,optional:rt}=O,ht=j in v?v[j]:"";if(Ii(ht)&&!V)throw new Error(`Provided param "${j}" is an array but it is not repeatable (* or + modifiers)`);const ct=Ii(ht)?ht.join("/"):ht;if(!ct)if(rt)P.length<2&&(b.endsWith("/")?b=b.slice(0,-1):w=!0);else throw new Error(`Missing required param "${j}"`);b+=ct}}return b||"/"}return{re:u,score:o,keys:s,parse:f,stringify:_}}function Zb(t,e){let i=0;for(;i<t.length&&i<e.length;){const o=e[i]-t[i];if(o)return o;i++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function x_(t,e){let i=0;const o=t.score,h=e.score;for(;i<o.length&&i<h.length;){const s=Zb(o[i],h[i]);if(s)return s;i++}if(Math.abs(h.length-o.length)===1){if(Dp(o))return 1;if(Dp(h))return-1}return h.length-o.length}function Dp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const qb={type:0,value:""},Kb=/[a-zA-Z0-9_]/;function Wb(t){if(!t)return[[]];if(t==="/")return[[qb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(O){throw new Error(`ERR (${i})/"${v}": ${O}`)}let i=0,o=i;const h=[];let s;function u(){s&&h.push(s),s=[]}let f=0,_,v="",b="";function w(){v&&(i===0?s.push({type:0,value:v}):i===1||i===2||i===3?(s.length>1&&(_==="*"||_==="+")&&e(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:v,regexp:b,repeatable:_==="*"||_==="+",optional:_==="*"||_==="?"})):e("Invalid state to consume buffer"),v="")}function P(){v+=_}for(;f<t.length;){if(_=t[f++],_==="\\"&&i!==2){o=i,i=4;continue}switch(i){case 0:_==="/"?(v&&w(),u()):_===":"?(w(),i=1):P();break;case 4:P(),i=o;break;case 1:_==="("?i=2:Kb.test(_)?P():(w(),i=0,_!=="*"&&_!=="?"&&_!=="+"&&f--);break;case 2:_===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+_:i=3:b+=_;break;case 3:w(),i=0,_!=="*"&&_!=="?"&&_!=="+"&&f--,b="";break;default:e("Unknown state");break}}return i===2&&e(`Unfinished custom RegExp for param "${v}"`),w(),u(),h}function Jb(t,e,i){const o=$b(Wb(t.path),i),h=$e(o,{record:t,parent:e,children:[],alias:[]});return e&&!h.record.aliasOf==!e.record.aliasOf&&e.children.push(h),h}function Yb(t,e){const i=[],o=new Map;e=Np({strict:!1,end:!0,sensitive:!1},e);function h(w){return o.get(w)}function s(w,P,O){const j=!O,V=Fp(w);V.aliasOf=O&&O.record;const rt=Np(e,w),ht=[V];if("alias"in w){const et=typeof w.alias=="string"?[w.alias]:w.alias;for(const gt of et)ht.push(Fp($e({},V,{components:O?O.record.components:V.components,path:gt,aliasOf:O?O.record:V})))}let ct,U;for(const et of ht){const{path:gt}=et;if(P&&gt[0]!=="/"){const Bt=P.record.path,jt=Bt[Bt.length-1]==="/"?"":"/";et.path=P.record.path+(gt&&jt+gt)}if(ct=Jb(et,P,rt),O?O.alias.push(ct):(U=U||ct,U!==ct&&U.alias.push(ct),j&&w.name&&!jp(ct)&&u(w.name)),w_(ct)&&_(ct),V.children){const Bt=V.children;for(let jt=0;jt<Bt.length;jt++)s(Bt[jt],ct,O&&O.children[jt])}O=O||ct}return U?()=>{u(U)}:wa}function u(w){if(v_(w)){const P=o.get(w);P&&(o.delete(w),i.splice(i.indexOf(P),1),P.children.forEach(u),P.alias.forEach(u))}else{const P=i.indexOf(w);P>-1&&(i.splice(P,1),w.record.name&&o.delete(w.record.name),w.children.forEach(u),w.alias.forEach(u))}}function f(){return i}function _(w){const P=t1(w,i);i.splice(P,0,w),w.record.name&&!jp(w)&&o.set(w.record.name,w)}function v(w,P){let O,j={},V,rt;if("name"in w&&w.name){if(O=o.get(w.name),!O)throw gs(1,{location:w});rt=O.record.name,j=$e(Ip(P.params,O.keys.filter(U=>!U.optional).concat(O.parent?O.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),w.params&&Ip(w.params,O.keys.map(U=>U.name))),V=O.stringify(j)}else if(w.path!=null)V=w.path,O=i.find(U=>U.re.test(V)),O&&(j=O.parse(V),rt=O.record.name);else{if(O=P.name?o.get(P.name):i.find(U=>U.re.test(P.path)),!O)throw gs(1,{location:w,currentLocation:P});rt=O.record.name,j=$e({},P.params,w.params),V=O.stringify(j)}const ht=[];let ct=O;for(;ct;)ht.unshift(ct.record),ct=ct.parent;return{name:rt,path:V,params:j,matched:ht,meta:Qb(ht)}}t.forEach(w=>s(w));function b(){i.length=0,o.clear()}return{addRoute:s,resolve:v,removeRoute:u,clearRoutes:b,getRoutes:f,getRecordMatcher:h}}function Ip(t,e){const i={};for(const o of e)o in t&&(i[o]=t[o]);return i}function Fp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Xb(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Xb(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const o in t.components)e[o]=typeof i=="object"?i[o]:i;return e}function jp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Qb(t){return t.reduce((e,i)=>$e(e,i.meta),{})}function Np(t,e){const i={};for(const o in t)i[o]=o in e?e[o]:t[o];return i}function t1(t,e){let i=0,o=e.length;for(;i!==o;){const s=i+o>>1;x_(t,e[s])<0?o=s:i=s+1}const h=e1(t);return h&&(o=e.lastIndexOf(h,o-1)),o}function e1(t){let e=t;for(;e=e.parent;)if(w_(e)&&x_(t,e)===0)return e}function w_({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function n1(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let h=0;h<o.length;++h){const s=o[h].replace(d_," "),u=s.indexOf("="),f=Ia(u<0?s:s.slice(0,u)),_=u<0?null:Ia(s.slice(u+1));if(f in e){let v=e[f];Ii(v)||(v=e[f]=[v]),v.push(_)}else e[f]=_}return e}function zp(t){let e="";for(let i in t){const o=t[i];if(i=wb(i),o==null){o!==void 0&&(e+=(e.length?"&":"")+i);continue}(Ii(o)?o.map(s=>s&&wh(s)):[o&&wh(o)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+i,s!=null&&(e+="="+s))})}return e}function i1(t){const e={};for(const i in t){const o=t[i];o!==void 0&&(e[i]=Ii(o)?o.map(h=>h==null?null:""+h):o==null?o:""+o)}return e}const r1=Symbol(""),Vp=Symbol(""),Du=Symbol(""),_d=Symbol(""),Ch=Symbol("");function ca(){let t=[];function e(o){return t.push(o),()=>{const h=t.indexOf(o);h>-1&&t.splice(h,1)}}function i(){t=[]}return{add:e,list:()=>t.slice(),reset:i}}function Nr(t,e,i,o,h,s=u=>u()){const u=o&&(o.enterCallbacks[h]=o.enterCallbacks[h]||[]);return()=>new Promise((f,_)=>{const v=P=>{P===!1?_(gs(4,{from:i,to:e})):P instanceof Error?_(P):Ub(P)?_(gs(2,{from:e,to:P})):(u&&o.enterCallbacks[h]===u&&typeof P=="function"&&u.push(P),f())},b=s(()=>t.call(o&&o.instances[h],e,i,v));let w=Promise.resolve(b);t.length<3&&(w=w.then(v)),w.catch(P=>_(P))})}function Qc(t,e,i,o,h=s=>s()){const s=[];for(const u of t)for(const f in u.components){let _=u.components[f];if(!(e!=="beforeRouteEnter"&&!u.instances[f]))if(c_(_)){const b=(_.__vccOpts||_)[e];b&&s.push(Nr(b,i,o,u,f,h))}else{let v=_();s.push(()=>v.then(b=>{if(!b)throw new Error(`Couldn't resolve component "${f}" at "${u.path}"`);const w=hb(b)?b.default:b;u.mods[f]=b,u.components[f]=w;const O=(w.__vccOpts||w)[e];return O&&Nr(O,i,o,u,f,h)()}))}}return s}function Up(t){const e=Ei(Du),i=Ei(_d),o=Yt(()=>{const _=zt(t.to);return e.resolve(_)}),h=Yt(()=>{const{matched:_}=o.value,{length:v}=_,b=_[v-1],w=i.matched;if(!b||!w.length)return-1;const P=w.findIndex(_s.bind(null,b));if(P>-1)return P;const O=Gp(_[v-2]);return v>1&&Gp(b)===O&&w[w.length-1].path!==O?w.findIndex(_s.bind(null,_[v-2])):P}),s=Yt(()=>h.value>-1&&l1(i.params,o.value.params)),u=Yt(()=>h.value>-1&&h.value===i.matched.length-1&&__(i.params,o.value.params));function f(_={}){return a1(_)?e[zt(t.replace)?"replace":"push"](zt(t.to)).catch(wa):Promise.resolve()}return{route:o,href:Yt(()=>o.value.href),isActive:s,isExactActive:u,navigate:f}}const o1=Oe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Up,setup(t,{slots:e}){const i=Ha(Up(t)),{options:o}=Ei(Du),h=Yt(()=>({[Hp(t.activeClass,o.linkActiveClass,"router-link-active")]:i.isActive,[Hp(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const s=e.default&&e.default(i);return t.custom?s:dd("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:h.value},s)}}}),s1=o1;function a1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function l1(t,e){for(const i in e){const o=e[i],h=t[i];if(typeof o=="string"){if(o!==h)return!1}else if(!Ii(h)||h.length!==o.length||o.some((s,u)=>s!==h[u]))return!1}return!0}function Gp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Hp=(t,e,i)=>t??e??i,u1=Oe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const o=Ei(Ch),h=Yt(()=>t.route||o.value),s=Ei(Vp,0),u=Yt(()=>{let v=zt(s);const{matched:b}=h.value;let w;for(;(w=b[v])&&!w.components;)v++;return v}),f=Yt(()=>h.value.matched[u.value]);Ql(Vp,Yt(()=>u.value+1)),Ql(r1,f),Ql(Ch,h);const _=Jt();return vn(()=>[_.value,f.value,t.name],([v,b,w],[P,O,j])=>{b&&(b.instances[w]=v,O&&O!==b&&v&&v===P&&(b.leaveGuards.size||(b.leaveGuards=O.leaveGuards),b.updateGuards.size||(b.updateGuards=O.updateGuards))),v&&b&&(!O||!_s(b,O)||!P)&&(b.enterCallbacks[w]||[]).forEach(V=>V(v))},{flush:"post"}),()=>{const v=h.value,b=t.name,w=f.value,P=w&&w.components[b];if(!P)return $p(i.default,{Component:P,route:v});const O=w.props[b],j=O?O===!0?v.params:typeof O=="function"?O(v):O:null,rt=dd(P,$e({},j,e,{onVnodeUnmounted:ht=>{ht.component.isUnmounted&&(w.instances[b]=null)},ref:_}));return $p(i.default,{Component:rt,route:v})||rt}}});function $p(t,e){if(!t)return null;const i=t(e);return i.length===1?i[0]:i}const c1=u1;function h1(t){const e=Yb(t.routes,t),i=t.parseQuery||n1,o=t.stringifyQuery||zp,h=t.history,s=ca(),u=ca(),f=ca(),_=W0(Ar);let v=Ar;ls&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=Yc.bind(null,bt=>""+bt),w=Yc.bind(null,Cb),P=Yc.bind(null,Ia);function O(bt,$t){let Vt,ee;return v_(bt)?(Vt=e.getRecordMatcher(bt),ee=$t):ee=bt,e.addRoute(ee,Vt)}function j(bt){const $t=e.getRecordMatcher(bt);$t&&e.removeRoute($t)}function V(){return e.getRoutes().map(bt=>bt.record)}function rt(bt){return!!e.getRecordMatcher(bt)}function ht(bt,$t){if($t=$e({},$t||_.value),typeof bt=="string"){const q=Xc(i,bt,$t.path),dt=e.resolve({path:q.path},$t),Mt=h.createHref(q.fullPath);return $e(q,dt,{params:P(dt.params),hash:Ia(q.hash),redirectedFrom:void 0,href:Mt})}let Vt;if(bt.path!=null)Vt=$e({},bt,{path:Xc(i,bt.path,$t.path).path});else{const q=$e({},bt.params);for(const dt in q)q[dt]==null&&delete q[dt];Vt=$e({},bt,{params:w(q)}),$t.params=w($t.params)}const ee=e.resolve(Vt,$t),Se=bt.hash||"";ee.params=b(P(ee.params));const je=Mb(o,$e({},bt,{hash:xb(Se),path:ee.path})),z=h.createHref(je);return $e({fullPath:je,hash:Se,query:o===zp?i1(bt.query):bt.query||{}},ee,{redirectedFrom:void 0,href:z})}function ct(bt){return typeof bt=="string"?Xc(i,bt,_.value.path):$e({},bt)}function U(bt,$t){if(v!==bt)return gs(8,{from:$t,to:bt})}function et(bt){return jt(bt)}function gt(bt){return et($e(ct(bt),{replace:!0}))}function Bt(bt){const $t=bt.matched[bt.matched.length-1];if($t&&$t.redirect){const{redirect:Vt}=$t;let ee=typeof Vt=="function"?Vt(bt):Vt;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=ct(ee):{path:ee},ee.params={}),$e({query:bt.query,hash:bt.hash,params:ee.path!=null?{}:bt.params},ee)}}function jt(bt,$t){const Vt=v=ht(bt),ee=_.value,Se=bt.state,je=bt.force,z=bt.replace===!0,q=Bt(Vt);if(q)return jt($e(ct(q),{state:typeof q=="object"?$e({},Se,q.state):Se,force:je,replace:z}),$t||Vt);const dt=Vt;dt.redirectedFrom=$t;let Mt;return!je&&Pb(o,ee,Vt)&&(Mt=gs(16,{to:dt,from:ee}),Pe(ee,ee,!0,!1)),(Mt?Promise.resolve(Mt):Ot(dt,ee)).catch(xt=>ur(xt)?ur(xt,2)?xt:oe(xt):Et(xt,dt,ee)).then(xt=>{if(xt){if(ur(xt,2))return jt($e({replace:z},ct(xt.to),{state:typeof xt.to=="object"?$e({},Se,xt.to.state):Se,force:je}),$t||dt)}else xt=Tt(dt,ee,!0,z,Se);return Zt(dt,ee,xt),xt})}function Dt(bt,$t){const Vt=U(bt,$t);return Vt?Promise.reject(Vt):Promise.resolve()}function Ct(bt){const $t=He.values().next().value;return $t&&typeof $t.runWithContext=="function"?$t.runWithContext(bt):bt()}function Ot(bt,$t){let Vt;const[ee,Se,je]=d1(bt,$t);Vt=Qc(ee.reverse(),"beforeRouteLeave",bt,$t);for(const q of ee)q.leaveGuards.forEach(dt=>{Vt.push(Nr(dt,bt,$t))});const z=Dt.bind(null,bt,$t);return Vt.push(z),me(Vt).then(()=>{Vt=[];for(const q of s.list())Vt.push(Nr(q,bt,$t));return Vt.push(z),me(Vt)}).then(()=>{Vt=Qc(Se,"beforeRouteUpdate",bt,$t);for(const q of Se)q.updateGuards.forEach(dt=>{Vt.push(Nr(dt,bt,$t))});return Vt.push(z),me(Vt)}).then(()=>{Vt=[];for(const q of je)if(q.beforeEnter)if(Ii(q.beforeEnter))for(const dt of q.beforeEnter)Vt.push(Nr(dt,bt,$t));else Vt.push(Nr(q.beforeEnter,bt,$t));return Vt.push(z),me(Vt)}).then(()=>(bt.matched.forEach(q=>q.enterCallbacks={}),Vt=Qc(je,"beforeRouteEnter",bt,$t,Ct),Vt.push(z),me(Vt))).then(()=>{Vt=[];for(const q of u.list())Vt.push(Nr(q,bt,$t));return Vt.push(z),me(Vt)}).catch(q=>ur(q,8)?q:Promise.reject(q))}function Zt(bt,$t,Vt){f.list().forEach(ee=>Ct(()=>ee(bt,$t,Vt)))}function Tt(bt,$t,Vt,ee,Se){const je=U(bt,$t);if(je)return je;const z=$t===Ar,q=ls?history.state:{};Vt&&(ee||z?h.replace(bt.fullPath,$e({scroll:z&&q&&q.scroll},Se)):h.push(bt.fullPath,Se)),_.value=bt,Pe(bt,$t,Vt,z),oe()}let ae;function Ce(){ae||(ae=h.listen((bt,$t,Vt)=>{if(!Be.listening)return;const ee=ht(bt),Se=Bt(ee);if(Se){jt($e(Se,{replace:!0}),ee).catch(wa);return}v=ee;const je=_.value;ls&&Ib(Tp(je.fullPath,Vt.delta),Ru()),Ot(ee,je).catch(z=>ur(z,12)?z:ur(z,2)?(jt(z.to,ee).then(q=>{ur(q,20)&&!Vt.delta&&Vt.type===Fa.pop&&h.go(-1,!1)}).catch(wa),Promise.reject()):(Vt.delta&&h.go(-Vt.delta,!1),Et(z,ee,je))).then(z=>{z=z||Tt(ee,je,!1),z&&(Vt.delta&&!ur(z,8)?h.go(-Vt.delta,!1):Vt.type===Fa.pop&&ur(z,20)&&h.go(-1,!1)),Zt(ee,je,z)}).catch(wa)}))}let Ge=ca(),Ht=ca(),ie;function Et(bt,$t,Vt){oe(bt);const ee=Ht.list();return ee.length?ee.forEach(Se=>Se(bt,$t,Vt)):console.error(bt),Promise.reject(bt)}function Qe(){return ie&&_.value!==Ar?Promise.resolve():new Promise((bt,$t)=>{Ge.add([bt,$t])})}function oe(bt){return ie||(ie=!bt,Ce(),Ge.list().forEach(([$t,Vt])=>bt?Vt(bt):$t()),Ge.reset()),bt}function Pe(bt,$t,Vt,ee){const{scrollBehavior:Se}=t;if(!ls||!Se)return Promise.resolve();const je=!Vt&&Fb(Tp(bt.fullPath,0))||(ee||!Vt)&&history.state&&history.state.scroll||null;return Za().then(()=>Se(bt,$t,je)).then(z=>z&&Db(z)).catch(z=>Et(z,bt,$t))}const Ne=bt=>h.go(bt);let nn;const He=new Set,Be={currentRoute:_,listening:!0,addRoute:O,removeRoute:j,clearRoutes:e.clearRoutes,hasRoute:rt,getRoutes:V,resolve:ht,options:t,push:et,replace:gt,go:Ne,back:()=>Ne(-1),forward:()=>Ne(1),beforeEach:s.add,beforeResolve:u.add,afterEach:f.add,onError:Ht.add,isReady:Qe,install(bt){const $t=this;bt.component("RouterLink",s1),bt.component("RouterView",c1),bt.config.globalProperties.$router=$t,Object.defineProperty(bt.config.globalProperties,"$route",{enumerable:!0,get:()=>zt(_)}),ls&&!nn&&_.value===Ar&&(nn=!0,et(h.location).catch(Se=>{}));const Vt={};for(const Se in Ar)Object.defineProperty(Vt,Se,{get:()=>_.value[Se],enumerable:!0});bt.provide(Du,$t),bt.provide(_d,lm(Vt)),bt.provide(Ch,_);const ee=bt.unmount;He.add(bt),bt.unmount=function(){He.delete(bt),He.size<1&&(v=Ar,ae&&ae(),ae=null,_.value=Ar,nn=!1,ie=!1),ee()}}};function me(bt){return bt.reduce(($t,Vt)=>$t.then(()=>Ct(Vt)),Promise.resolve())}return Be}function d1(t,e){const i=[],o=[],h=[],s=Math.max(e.matched.length,t.matched.length);for(let u=0;u<s;u++){const f=e.matched[u];f&&(t.matched.find(v=>_s(v,f))?o.push(f):i.push(f));const _=t.matched[u];_&&(e.matched.find(v=>_s(v,_))||h.push(_))}return[i,o,h]}function Wa(){return Ei(Du)}function Ja(t){return Ei(_d)}var p1=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let L_;const Iu=t=>L_=t,C_=Symbol();function kh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ca;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ca||(Ca={}));function k_(){const t=Zf(!0),e=t.run(()=>Jt({}));let i=[],o=[];const h=rd({install(s){Iu(h),h._a=s,s.provide(C_,h),s.config.globalProperties.$pinia=h,o.forEach(u=>i.push(u)),o=[]},use(s){return!this._a&&!p1?o.push(s):i.push(s),this},_p:i,_a:null,_e:t,_s:new Map,state:e});return h}const E_=()=>{};function Zp(t,e,i,o=E_){t.push(e);const h=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),o())};return!i&&qf()&&E0(h),h}function os(t,...e){t.slice().forEach(i=>{i(...e)})}const f1=t=>t(),qp=Symbol(),th=Symbol();function Eh(t,e){t instanceof Map&&e instanceof Map?e.forEach((i,o)=>t.set(o,i)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const i in e){if(!e.hasOwnProperty(i))continue;const o=e[i],h=t[i];kh(h)&&kh(o)&&t.hasOwnProperty(i)&&!fn(o)&&!pr(o)?t[i]=Eh(h,o):t[i]=o}return t}const m1=Symbol();function _1(t){return!kh(t)||!t.hasOwnProperty(m1)}const{assign:Dr}=Object;function g1(t){return!!(fn(t)&&t.effect)}function y1(t,e,i,o){const{state:h,actions:s,getters:u}=e,f=i.state.value[t];let _;function v(){f||(i.state.value[t]=h?h():{});const b=X0(i.state.value[t]);return Dr(b,s,Object.keys(u||{}).reduce((w,P)=>(w[P]=rd(Yt(()=>{Iu(i);const O=i._s.get(t);return u[P].call(O,O)})),w),{}))}return _=M_(t,v,e,i,o,!0),_}function M_(t,e,i={},o,h,s){let u;const f=Dr({actions:{}},i),_={deep:!0};let v,b,w=[],P=[],O;const j=o.state.value[t];!s&&!j&&(o.state.value[t]={}),Jt({});let V;function rt(Dt){let Ct;v=b=!1,typeof Dt=="function"?(Dt(o.state.value[t]),Ct={type:Ca.patchFunction,storeId:t,events:O}):(Eh(o.state.value[t],Dt),Ct={type:Ca.patchObject,payload:Dt,storeId:t,events:O});const Ot=V=Symbol();Za().then(()=>{V===Ot&&(v=!0)}),b=!0,os(w,Ct,o.state.value[t])}const ht=s?function(){const{state:Ct}=i,Ot=Ct?Ct():{};this.$patch(Zt=>{Dr(Zt,Ot)})}:E_;function ct(){u.stop(),w=[],P=[],o._s.delete(t)}const U=(Dt,Ct="")=>{if(qp in Dt)return Dt[th]=Ct,Dt;const Ot=function(){Iu(o);const Zt=Array.from(arguments),Tt=[],ae=[];function Ce(ie){Tt.push(ie)}function Ge(ie){ae.push(ie)}os(P,{args:Zt,name:Ot[th],store:gt,after:Ce,onError:Ge});let Ht;try{Ht=Dt.apply(this&&this.$id===t?this:gt,Zt)}catch(ie){throw os(ae,ie),ie}return Ht instanceof Promise?Ht.then(ie=>(os(Tt,ie),ie)).catch(ie=>(os(ae,ie),Promise.reject(ie))):(os(Tt,Ht),Ht)};return Ot[qp]=!0,Ot[th]=Ct,Ot},et={_p:o,$id:t,$onAction:Zp.bind(null,P),$patch:rt,$reset:ht,$subscribe(Dt,Ct={}){const Ot=Zp(w,Dt,Ct.detached,()=>Zt()),Zt=u.run(()=>vn(()=>o.state.value[t],Tt=>{(Ct.flush==="sync"?b:v)&&Dt({storeId:t,type:Ca.direct,events:O},Tt)},Dr({},_,Ct)));return Ot},$dispose:ct},gt=Ha(et);o._s.set(t,gt);const jt=(o._a&&o._a.runWithContext||f1)(()=>o._e.run(()=>(u=Zf()).run(()=>e({action:U}))));for(const Dt in jt){const Ct=jt[Dt];if(fn(Ct)&&!g1(Ct)||pr(Ct))s||(j&&_1(Ct)&&(fn(Ct)?Ct.value=j[Dt]:Eh(Ct,j[Dt])),o.state.value[t][Dt]=Ct);else if(typeof Ct=="function"){const Ot=U(Ct,Dt);jt[Dt]=Ot,f.actions[Dt]=Ct}}return Dr(gt,jt),Dr(Fe(gt),jt),Object.defineProperty(gt,"$state",{get:()=>o.state.value[t],set:Dt=>{rt(Ct=>{Dr(Ct,Dt)})}}),o._p.forEach(Dt=>{Dr(gt,u.run(()=>Dt({store:gt,app:o._a,pinia:o,options:f})))}),j&&s&&i.hydrate&&i.hydrate(gt.$state,j),v=!0,b=!0,gt}function Zr(t,e,i){let o,h;const s=typeof e=="function";typeof t=="string"?(o=t,h=s?i:e):(h=t,o=t.id);function u(f,_){const v=Ry();return f=f||(v?Ei(C_,null):null),f&&Iu(f),f=L_,f._s.has(o)||(s?M_(o,e,h,f):y1(o,h,f)),f._s.get(o)}return u.$id=o,u}const gd=Zr("footerStore",{state:()=>({nextAuthor:""}),actions:{async setNextAuthorText(t){this.nextAuthor=t}}});var v1={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const b1={key:0},x1={__name:"FooterAnalytics",setup(t){const e={analytics:"Google Analytics",gtm:"Google Tag Manager",pixel:"Facebook Pixel",retargeting:"VK Retargeting",linkedin:"Linkedin Insight",tongji:"Baidu Tongji",metrica:"Yandex Metrica",microsoft:"Microsoft Analytics",hotjar:"Hotjar Analytics",fullStory:"Full story Analytics",unbounce:"Unbounce conversion analytics",tiktok:"TikTok Pixel Analytics"},o=Object.keys(v1.analytics_services||{}).map(h=>e[h]).filter(Boolean).join("; ");return(h,s)=>zt(o)?(A(),Z("span",b1,"This site uses "+Ft(zt(o))+".",1)):Rt("",!0)}};var w1={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const L1={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},C1={class:"container mx-auto text-sm pt-2 pb-4"},k1={class:"pt-4 pb-2 break-words"},E1=["innerHTML"],M1={key:0},P1=["href"],S1={class:"flex items-center text-xs gap-2"},B1=["src"],T1={class:"flex flex-col sm:flex-row justify-between gap-4"},A1={class:"[&>*:not(:last-child)]:after:content-['|'] [&>*:not(:last-child)]:after:mx-1"},O1={__name:"LayoutFooter",setup(t){const{project_authors:e,project_citation:i,project_url:o,copyright_text:h,copyright_image:s,copyright_image_link:u,hash_mode:f}=w1,_=gd(),v=new Date().toISOString().split("T")[0],b=Ja(),w=Yt(()=>{const P=(o||"").replace(/\/$/,"");return P.length?f?P+"/#"+b.fullPath:P+b.fullPath:""});return(P,O)=>{const j=_t("ClientOnly"),V=_t("TrackerReport");return A(),Z("footer",L1,[$("div",C1,[$("div",k1,[Qt(Ft(zt(e))+" ",1),X(j,null,{default:nt(()=>[$("span",{innerHTML:zt(_).nextAuthor},null,8,E1)]),_:1}),Qt(" "+Ft(zt(i))+". ",1),X(j,null,{default:nt(()=>[$("span",null,"Retrieved on "+Ft(zt(v)),1)]),_:1}),w.value?(A(),Z("span",M1,[O[0]||(O[0]=Qt(" at ")),$("a",{class:"text-secondary-color",href:w.value},Ft(w.value),9,P1)])):Rt("",!0)]),$("div",S1,[(A(),wt(Eo(zt(u)?"a":"span"),{href:zt(u),class:"min-w-fit"},{default:nt(()=>[zt(s)?(A(),Z("img",{key:0,src:zt(s),alt:"copyright"},null,8,B1)):Rt("",!0)]),_:1},8,["href"])),$("span",null,Ft(zt(h)),1)]),O[4]||(O[4]=$("hr",{class:"mt-3 mb-3 border-gray-500"},null,-1)),$("div",T1,[$("div",A1,[O[1]||(O[1]=$("span",null,[Qt(" Data provided by "),$("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://taxonworks.org/"}," TaxonWorks ")],-1)),O[2]||(O[2]=$("span",null,[Qt(" Pages by "),$("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://github.com/SpeciesFileGroup/taxonpages"}," TaxonPages ")],-1)),O[3]||(O[3]=$("span",null,[Qt(" Support (Services) by "),$("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://speciesfilegroup.org"}," Species File Group ")],-1)),X(x1,{class:"italic"})]),X(V,{icon:"",label:"Report a problem","button-class":"flex gap-2 items-center pl-0 pr-0 pt-0 pb-0 self-end"})])])])}}},R1={class:"min-h-screen h-screen flex flex-col justify-between"},D1={class:"flex flex-col flex-grow"},I1={__name:"Application",setup(t){return(e,i)=>(A(),Z("div",R1,[$("div",D1,[X(cb),be(e.$slots,"default")]),X(O1)]))}};var Kp={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const F1={__name:"App",setup(t){return fd({title:Kp.project_name,meta:Kp.metadata}),(e,i)=>{const o=_t("router-view");return A(),wt(I1,null,{default:nt(()=>[X(o)]),_:1})}}},xe=(t,e)=>{const i=t.__vccOpts||t;for(const[o,h]of e)i[o]=h;return i},j1={},N1={class:"mx-auto"};function z1(t,e){return A(),Z("div",N1,e[0]||(e[0]=[$("div",{class:"container mx-auto flex flex-col items-center h-screen justify-center"},[$("h1",{class:"text-4xl font-medium"}," Welcome to TaxonPages "),$("p",{class:"text-xl p-4"}," We're almost there! If you're seeing this, it's because you haven't configured API access yet. ")],-1)]))}const V1=xe(j1,[["render",z1]]),U1={},G1={class:"container mx-auto text-center relative top-1/4"};function H1(t,e){return A(),Z("div",G1,e[0]||(e[0]=[$("h1",{class:"text-4xl sm:text-5xl text-base-lighter"}," Welcome to TaxonPages ",-1),$("p",{class:"m-4 my-8 text-xl"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1)]))}const $1=xe(U1,[["render",H1]]),Z1=[{name:"homepage",path:"/",alias:"/home",component:$1}],q1={},K1={class:"container mx-auto text-center relative top-1/4"};function W1(t,e){return A(),Z("div",K1,e[0]||(e[0]=[$("h1",{class:"text-7xl text-base-lighter"},"500",-1),$("p",null,"Internal Server Error.",-1),$("p",{class:"m-4 my-10 text-xl"},[Qt(" Uh oh, looks like something went wrong!"),$("br"),Qt(" We track these errors automatically, but if the problem persists feel free to contact us. ")],-1)]))}const J1=xe(q1,[["render",W1]]),Y1={},X1={class:"container mx-auto text-center relative top-1/4"};function Q1(t,e){return A(),Z("div",X1,e[0]||(e[0]=[$("h1",{class:"text-7xl text-base-lighter"},"404",-1),$("p",null,"Page not found.",-1),$("p",{class:"m-4 my-10 text-xl"}," Uh oh, we can't seem to find the page you're looking for. Try going back to the previous page. ",-1)]))}const t4=xe(Y1,[["render",Q1]]),e4=[{path:"/500",name:"httpError500",component:J1,meta:{statusCode:500}},{path:"/:pathMatch(.*)*",name:"httpError404",component:t4,meta:{statusCode:404}}],n4="TypeMaterial",P_="CollectionObject",i4="AssertedDistribution",r4="Georeference",o4="Aggregate",Wp="Otu";function S_(t,e){return function(){return t.apply(e,arguments)}}const{toString:s4}=Object.prototype,{getPrototypeOf:yd}=Object,Fu=(t=>e=>{const i=s4.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Fi=t=>(t=t.toLowerCase(),e=>Fu(e)===t),ju=t=>e=>typeof e===t,{isArray:bs}=Array,ja=ju("undefined");function a4(t){return t!==null&&!ja(t)&&t.constructor!==null&&!ja(t.constructor)&&di(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const B_=Fi("ArrayBuffer");function l4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&B_(t.buffer),e}const u4=ju("string"),di=ju("function"),T_=ju("number"),Nu=t=>t!==null&&typeof t=="object",c4=t=>t===!0||t===!1,nu=t=>{if(Fu(t)!=="object")return!1;const e=yd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},h4=Fi("Date"),d4=Fi("File"),p4=Fi("Blob"),f4=Fi("FileList"),m4=t=>Nu(t)&&di(t.pipe),_4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||di(t.append)&&((e=Fu(t))==="formdata"||e==="object"&&di(t.toString)&&t.toString()==="[object FormData]"))},g4=Fi("URLSearchParams"),[y4,v4,b4,x4]=["ReadableStream","Request","Response","Headers"].map(Fi),w4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ya(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let o,h;if(typeof t!="object"&&(t=[t]),bs(t))for(o=0,h=t.length;o<h;o++)e.call(null,t[o],o,t);else{const s=i?Object.getOwnPropertyNames(t):Object.keys(t),u=s.length;let f;for(o=0;o<u;o++)f=s[o],e.call(null,t[f],f,t)}}function A_(t,e){e=e.toLowerCase();const i=Object.keys(t);let o=i.length,h;for(;o-- >0;)if(h=i[o],e===h.toLowerCase())return h;return null}const mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,O_=t=>!ja(t)&&t!==mo;function Mh(){const{caseless:t}=O_(this)&&this||{},e={},i=(o,h)=>{const s=t&&A_(e,h)||h;nu(e[s])&&nu(o)?e[s]=Mh(e[s],o):nu(o)?e[s]=Mh({},o):bs(o)?e[s]=o.slice():e[s]=o};for(let o=0,h=arguments.length;o<h;o++)arguments[o]&&Ya(arguments[o],i);return e}const L4=(t,e,i,{allOwnKeys:o}={})=>(Ya(e,(h,s)=>{i&&di(h)?t[s]=S_(h,i):t[s]=h},{allOwnKeys:o}),t),C4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),k4=(t,e,i,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},E4=(t,e,i,o)=>{let h,s,u;const f={};if(e=e||{},t==null)return e;do{for(h=Object.getOwnPropertyNames(t),s=h.length;s-- >0;)u=h[s],(!o||o(u,t,e))&&!f[u]&&(e[u]=t[u],f[u]=!0);t=i!==!1&&yd(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},M4=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const o=t.indexOf(e,i);return o!==-1&&o===i},P4=t=>{if(!t)return null;if(bs(t))return t;let e=t.length;if(!T_(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},S4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yd(Uint8Array)),B4=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=i.next())&&!o.done;){const h=o.value;e.call(t,h[0],h[1])}},T4=(t,e)=>{let i;const o=[];for(;(i=t.exec(e))!==null;)o.push(i);return o},A4=Fi("HTMLFormElement"),O4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,o){return i.toUpperCase()+o}),Jp=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),R4=Fi("RegExp"),R_=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),o={};Ya(i,(h,s)=>{let u;(u=e(h,s,t))!==!1&&(o[s]=u||h)}),Object.defineProperties(t,o)},D4=t=>{R_(t,(e,i)=>{if(di(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=t[i];if(di(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},I4=(t,e)=>{const i={},o=h=>{h.forEach(s=>{i[s]=!0})};return bs(t)?o(t):o(String(t).split(e)),i},F4=()=>{},j4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,eh="abcdefghijklmnopqrstuvwxyz",Yp="0123456789",D_={DIGIT:Yp,ALPHA:eh,ALPHA_DIGIT:eh+eh.toUpperCase()+Yp},N4=(t=16,e=D_.ALPHA_DIGIT)=>{let i="";const{length:o}=e;for(;t--;)i+=e[Math.random()*o|0];return i};function z4(t){return!!(t&&di(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const V4=t=>{const e=new Array(10),i=(o,h)=>{if(Nu(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[h]=o;const s=bs(o)?[]:{};return Ya(o,(u,f)=>{const _=i(u,h+1);!ja(_)&&(s[f]=_)}),e[h]=void 0,s}}return o};return i(t,0)},U4=Fi("AsyncFunction"),G4=t=>t&&(Nu(t)||di(t))&&di(t.then)&&di(t.catch),I_=((t,e)=>t?setImmediate:e?((i,o)=>(mo.addEventListener("message",({source:h,data:s})=>{h===mo&&s===i&&o.length&&o.shift()()},!1),h=>{o.push(h),mo.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",di(mo.postMessage)),H4=typeof queueMicrotask<"u"?queueMicrotask.bind(mo):typeof process<"u"&&process.nextTick||I_,yt={isArray:bs,isArrayBuffer:B_,isBuffer:a4,isFormData:_4,isArrayBufferView:l4,isString:u4,isNumber:T_,isBoolean:c4,isObject:Nu,isPlainObject:nu,isReadableStream:y4,isRequest:v4,isResponse:b4,isHeaders:x4,isUndefined:ja,isDate:h4,isFile:d4,isBlob:p4,isRegExp:R4,isFunction:di,isStream:m4,isURLSearchParams:g4,isTypedArray:S4,isFileList:f4,forEach:Ya,merge:Mh,extend:L4,trim:w4,stripBOM:C4,inherits:k4,toFlatObject:E4,kindOf:Fu,kindOfTest:Fi,endsWith:M4,toArray:P4,forEachEntry:B4,matchAll:T4,isHTMLForm:A4,hasOwnProperty:Jp,hasOwnProp:Jp,reduceDescriptors:R_,freezeMethods:D4,toObjectSet:I4,toCamelCase:O4,noop:F4,toFiniteNumber:j4,findKey:A_,global:mo,isContextDefined:O_,ALPHABET:D_,generateString:N4,isSpecCompliantForm:z4,toJSONObject:V4,isAsyncFn:U4,isThenable:G4,setImmediate:I_,asap:H4};function we(t,e,i,o,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),o&&(this.request=o),h&&(this.response=h,this.status=h.status?h.status:null)}yt.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yt.toJSONObject(this.config),code:this.code,status:this.status}}});const F_=we.prototype,j_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{j_[t]={value:t}});Object.defineProperties(we,j_);Object.defineProperty(F_,"isAxiosError",{value:!0});we.from=(t,e,i,o,h,s)=>{const u=Object.create(F_);return yt.toFlatObject(t,u,function(f){return f!==Error.prototype},f=>f!=="isAxiosError"),we.call(u,t.message,e,i,o,h),u.cause=t,u.name=t.name,s&&Object.assign(u,s),u};const $4=null;function Ph(t){return yt.isPlainObject(t)||yt.isArray(t)}function N_(t){return yt.endsWith(t,"[]")?t.slice(0,-2):t}function Xp(t,e,i){return t?t.concat(e).map(function(o,h){return o=N_(o),!i&&h?"["+o+"]":o}).join(i?".":""):e}function Z4(t){return yt.isArray(t)&&!t.some(Ph)}const q4=yt.toFlatObject(yt,{},null,function(t){return/^is[A-Z]/.test(t)});function zu(t,e,i){if(!yt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,i=yt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,j){return!yt.isUndefined(j[O])});const o=i.metaTokens,h=i.visitor||v,s=i.dots,u=i.indexes,f=(i.Blob||typeof Blob<"u"&&Blob)&&yt.isSpecCompliantForm(e);if(!yt.isFunction(h))throw new TypeError("visitor must be a function");function _(O){if(O===null)return"";if(yt.isDate(O))return O.toISOString();if(!f&&yt.isBlob(O))throw new we("Blob is not supported. Use a Buffer instead.");return yt.isArrayBuffer(O)||yt.isTypedArray(O)?f&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function v(O,j,V){let rt=O;if(O&&!V&&typeof O=="object"){if(yt.endsWith(j,"{}"))j=o?j:j.slice(0,-2),O=JSON.stringify(O);else if(yt.isArray(O)&&Z4(O)||(yt.isFileList(O)||yt.endsWith(j,"[]"))&&(rt=yt.toArray(O)))return j=N_(j),rt.forEach(function(ht,ct){!(yt.isUndefined(ht)||ht===null)&&e.append(u===!0?Xp([j],ct,s):u===null?j:j+"[]",_(ht))}),!1}return Ph(O)?!0:(e.append(Xp(V,j,s),_(O)),!1)}const b=[],w=Object.assign(q4,{defaultVisitor:v,convertValue:_,isVisitable:Ph});function P(O,j){if(!yt.isUndefined(O)){if(b.indexOf(O)!==-1)throw Error("Circular reference detected in "+j.join("."));b.push(O),yt.forEach(O,function(V,rt){(!(yt.isUndefined(V)||V===null)&&h.call(e,V,yt.isString(rt)?rt.trim():rt,j,w))===!0&&P(V,j?j.concat(rt):[rt])}),b.pop()}}if(!yt.isObject(t))throw new TypeError("data must be an object");return P(t),e}function Qp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function vd(t,e){this._pairs=[],t&&zu(t,this,e)}const z_=vd.prototype;z_.append=function(t,e){this._pairs.push([t,e])};z_.toString=function(t){const e=t?function(i){return t.call(this,i,Qp)}:Qp;return this._pairs.map(function(i){return e(i[0])+"="+e(i[1])},"").join("&")};function K4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function V_(t,e,i){if(!e)return t;const o=i&&i.encode||K4,h=i&&i.serialize;let s;if(h?s=h(e,i):s=yt.isURLSearchParams(e)?e.toString():new vd(e,i).toString(o),s){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class tf{constructor(){this.handlers=[]}use(e,i,o){return this.handlers.push({fulfilled:e,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){yt.forEach(this.handlers,function(i){i!==null&&e(i)})}}const U_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},W4=typeof URLSearchParams<"u"?URLSearchParams:vd,J4=typeof FormData<"u"?FormData:null,Y4=typeof Blob<"u"?Blob:null,X4={isBrowser:!0,classes:{URLSearchParams:W4,FormData:J4,Blob:Y4},protocols:["http","https","file","blob","url","data"]},bd=typeof window<"u"&&typeof document<"u",Sh=typeof navigator=="object"&&navigator||void 0,Q4=bd&&(!Sh||["ReactNative","NativeScript","NS"].indexOf(Sh.product)<0),tx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ex=bd&&window.location.href||"http://localhost",nx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bd,hasStandardBrowserEnv:Q4,hasStandardBrowserWebWorkerEnv:tx,navigator:Sh,origin:ex},Symbol.toStringTag,{value:"Module"})),ii={...nx,...X4};function ix(t,e){return zu(t,new ii.classes.URLSearchParams,Object.assign({visitor:function(i,o,h,s){return ii.isNode&&yt.isBuffer(i)?(this.append(o,i.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function rx(t){return yt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ox(t){const e={},i=Object.keys(t);let o;const h=i.length;let s;for(o=0;o<h;o++)s=i[o],e[s]=t[s];return e}function G_(t){function e(i,o,h,s){let u=i[s++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),_=s>=i.length;return u=!u&&yt.isArray(h)?h.length:u,_?(yt.hasOwnProp(h,u)?h[u]=[h[u],o]:h[u]=o,!f):((!h[u]||!yt.isObject(h[u]))&&(h[u]=[]),e(i,o,h[u],s)&&yt.isArray(h[u])&&(h[u]=ox(h[u])),!f)}if(yt.isFormData(t)&&yt.isFunction(t.entries)){const i={};return yt.forEachEntry(t,(o,h)=>{e(rx(o),h,i,0)}),i}return null}function sx(t,e,i){if(yt.isString(t))try{return(e||JSON.parse)(t),yt.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(t)}const Xa={transitional:U_,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",o=i.indexOf("application/json")>-1,h=yt.isObject(t);if(h&&yt.isHTMLForm(t)&&(t=new FormData(t)),yt.isFormData(t))return o?JSON.stringify(G_(t)):t;if(yt.isArrayBuffer(t)||yt.isBuffer(t)||yt.isStream(t)||yt.isFile(t)||yt.isBlob(t)||yt.isReadableStream(t))return t;if(yt.isArrayBufferView(t))return t.buffer;if(yt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(h){if(i.indexOf("application/x-www-form-urlencoded")>-1)return ix(t,this.formSerializer).toString();if((s=yt.isFileList(t))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return zu(s?{"files[]":t}:t,u&&new u,this.formSerializer)}}return h||o?(e.setContentType("application/json",!1),sx(t)):t}],transformResponse:[function(t){const e=this.transitional||Xa.transitional,i=e&&e.forcedJSONParsing,o=this.responseType==="json";if(yt.isResponse(t)||yt.isReadableStream(t))return t;if(t&&yt.isString(t)&&(i&&!this.responseType||o)){const h=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(h)throw s.name==="SyntaxError"?we.from(s,we.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ii.classes.FormData,Blob:ii.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yt.forEach(["delete","get","head","post","put","patch"],t=>{Xa.headers[t]={}});const ax=yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lx=t=>{const e={};let i,o,h;return t&&t.split(`
`).forEach(function(s){h=s.indexOf(":"),i=s.substring(0,h).trim().toLowerCase(),o=s.substring(h+1).trim(),!(!i||e[i]&&ax[i])&&(i==="set-cookie"?e[i]?e[i].push(o):e[i]=[o]:e[i]=e[i]?e[i]+", "+o:o)}),e},ef=Symbol("internals");function ha(t){return t&&String(t).trim().toLowerCase()}function iu(t){return t===!1||t==null?t:yt.isArray(t)?t.map(iu):String(t)}function ux(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(t);)e[o[1]]=o[2];return e}const cx=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nh(t,e,i,o,h){if(yt.isFunction(o))return o.call(this,e,i);if(h&&(e=i),!!yt.isString(e)){if(yt.isString(o))return e.indexOf(o)!==-1;if(yt.isRegExp(o))return o.test(e)}}function hx(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,o)=>i.toUpperCase()+o)}function dx(t,e){const i=yt.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+i,{value:function(h,s,u){return this[o].call(this,e,h,s,u)},configurable:!0})})}class ri{constructor(e){e&&this.set(e)}set(e,i,o){const h=this;function s(f,_,v){const b=ha(_);if(!b)throw new Error("header name must be a non-empty string");const w=yt.findKey(h,b);(!w||h[w]===void 0||v===!0||v===void 0&&h[w]!==!1)&&(h[w||_]=iu(f))}const u=(f,_)=>yt.forEach(f,(v,b)=>s(v,b,_));if(yt.isPlainObject(e)||e instanceof this.constructor)u(e,i);else if(yt.isString(e)&&(e=e.trim())&&!cx(e))u(lx(e),i);else if(yt.isHeaders(e))for(const[f,_]of e.entries())s(_,f,o);else e!=null&&s(i,e,o);return this}get(e,i){if(e=ha(e),e){const o=yt.findKey(this,e);if(o){const h=this[o];if(!i)return h;if(i===!0)return ux(h);if(yt.isFunction(i))return i.call(this,h,o);if(yt.isRegExp(i))return i.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=ha(e),e){const o=yt.findKey(this,e);return!!(o&&this[o]!==void 0&&(!i||nh(this,this[o],o,i)))}return!1}delete(e,i){const o=this;let h=!1;function s(u){if(u=ha(u),u){const f=yt.findKey(o,u);f&&(!i||nh(o,o[f],f,i))&&(delete o[f],h=!0)}}return yt.isArray(e)?e.forEach(s):s(e),h}clear(e){const i=Object.keys(this);let o=i.length,h=!1;for(;o--;){const s=i[o];(!e||nh(this,this[s],s,e,!0))&&(delete this[s],h=!0)}return h}normalize(e){const i=this,o={};return yt.forEach(this,(h,s)=>{const u=yt.findKey(o,s);if(u){i[u]=iu(h),delete i[s];return}const f=e?hx(s):String(s).trim();f!==s&&delete i[s],i[f]=iu(h),o[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return yt.forEach(this,(o,h)=>{o!=null&&o!==!1&&(i[h]=e&&yt.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const o=new this(e);return i.forEach(h=>o.set(h)),o}static accessor(e){const i=(this[ef]=this[ef]={accessors:{}}).accessors,o=this.prototype;function h(s){const u=ha(s);i[u]||(dx(o,s),i[u]=!0)}return yt.isArray(e)?e.forEach(h):h(e),this}}ri.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);yt.reduceDescriptors(ri.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[i]=o}}});yt.freezeMethods(ri);function ih(t,e){const i=this||Xa,o=e||i,h=ri.from(o.headers);let s=o.data;return yt.forEach(t,function(u){s=u.call(i,s,h.normalize(),e?e.status:void 0)}),h.normalize(),s}function H_(t){return!!(t&&t.__CANCEL__)}function xs(t,e,i){we.call(this,t??"canceled",we.ERR_CANCELED,e,i),this.name="CanceledError"}yt.inherits(xs,we,{__CANCEL__:!0});function $_(t,e,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?t(i):e(new we("Request failed with status code "+i.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function px(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fx(t,e){t=t||10;const i=new Array(t),o=new Array(t);let h=0,s=0,u;return e=e!==void 0?e:1e3,function(f){const _=Date.now(),v=o[s];u||(u=_),i[h]=f,o[h]=_;let b=s,w=0;for(;b!==h;)w+=i[b++],b=b%t;if(h=(h+1)%t,h===s&&(s=(s+1)%t),_-u<e)return;const P=v&&_-v;return P?Math.round(w*1e3/P):void 0}}function mx(t,e){let i=0,o=1e3/e,h,s;const u=(f,_=Date.now())=>{i=_,h=null,s&&(clearTimeout(s),s=null),t.apply(null,f)};return[(...f)=>{const _=Date.now(),v=_-i;v>=o?u(f,_):(h=f,s||(s=setTimeout(()=>{s=null,u(h)},o-v)))},()=>h&&u(h)]}const yu=(t,e,i=3)=>{let o=0;const h=fx(50,250);return mx(s=>{const u=s.loaded,f=s.lengthComputable?s.total:void 0,_=u-o,v=h(_),b=u<=f;o=u;const w={loaded:u,total:f,progress:f?u/f:void 0,bytes:_,rate:v||void 0,estimated:v&&f&&b?(f-u)/v:void 0,event:s,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(w)},i)},nf=(t,e)=>{const i=t!=null;return[o=>e[0]({lengthComputable:i,total:t,loaded:o}),e[1]]},rf=t=>(...e)=>yt.asap(()=>t(...e)),_x=ii.hasStandardBrowserEnv?function(){const t=ii.navigator&&/(msie|trident)/i.test(ii.navigator.userAgent),e=document.createElement("a");let i;function o(h){let s=h;return t&&(e.setAttribute("href",s),s=e.href),e.setAttribute("href",s),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return i=o(window.location.href),function(h){const s=yt.isString(h)?o(h):h;return s.protocol===i.protocol&&s.host===i.host}}():function(){return function(){return!0}}(),gx=ii.hasStandardBrowserEnv?{write(t,e,i,o,h,s){const u=[t+"="+encodeURIComponent(e)];yt.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),yt.isString(o)&&u.push("path="+o),yt.isString(h)&&u.push("domain="+h),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vx(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Z_(t,e){return t&&!yx(e)?vx(t,e):e}const of=t=>t instanceof ri?{...t}:t;function Co(t,e){e=e||{};const i={};function o(v,b,w){return yt.isPlainObject(v)&&yt.isPlainObject(b)?yt.merge.call({caseless:w},v,b):yt.isPlainObject(b)?yt.merge({},b):yt.isArray(b)?b.slice():b}function h(v,b,w){if(yt.isUndefined(b)){if(!yt.isUndefined(v))return o(void 0,v,w)}else return o(v,b,w)}function s(v,b){if(!yt.isUndefined(b))return o(void 0,b)}function u(v,b){if(yt.isUndefined(b)){if(!yt.isUndefined(v))return o(void 0,v)}else return o(void 0,b)}function f(v,b,w){if(w in e)return o(v,b);if(w in t)return o(void 0,v)}const _={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(v,b)=>h(of(v),of(b),!0)};return yt.forEach(Object.keys(Object.assign({},t,e)),function(v){const b=_[v]||h,w=b(t[v],e[v],v);yt.isUndefined(w)&&b!==f||(i[v]=w)}),i}const q_=t=>{const e=Co({},t);let{data:i,withXSRFToken:o,xsrfHeaderName:h,xsrfCookieName:s,headers:u,auth:f}=e;e.headers=u=ri.from(u),e.url=V_(Z_(e.baseURL,e.url),t.params,t.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let _;if(yt.isFormData(i)){if(ii.hasStandardBrowserEnv||ii.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((_=u.getContentType())!==!1){const[v,...b]=_?_.split(";").map(w=>w.trim()).filter(Boolean):[];u.setContentType([v||"multipart/form-data",...b].join("; "))}}if(ii.hasStandardBrowserEnv&&(o&&yt.isFunction(o)&&(o=o(e)),o||o!==!1&&_x(e.url))){const v=h&&s&&gx.read(s);v&&u.set(h,v)}return e},bx=typeof XMLHttpRequest<"u",xx=bx&&function(t){return new Promise(function(e,i){const o=q_(t);let h=o.data;const s=ri.from(o.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:_}=o,v,b,w,P,O;function j(){P&&P(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let V=new XMLHttpRequest;V.open(o.method.toUpperCase(),o.url,!0),V.timeout=o.timeout;function rt(){if(!V)return;const ct=ri.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),U={data:!u||u==="text"||u==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:ct,config:t,request:V};$_(function(et){e(et),j()},function(et){i(et),j()},U),V=null}"onloadend"in V?V.onloadend=rt:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(rt)},V.onabort=function(){V&&(i(new we("Request aborted",we.ECONNABORTED,t,V)),V=null)},V.onerror=function(){i(new we("Network Error",we.ERR_NETWORK,t,V)),V=null},V.ontimeout=function(){let ct=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const U=o.transitional||U_;o.timeoutErrorMessage&&(ct=o.timeoutErrorMessage),i(new we(ct,U.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,V)),V=null},h===void 0&&s.setContentType(null),"setRequestHeader"in V&&yt.forEach(s.toJSON(),function(ct,U){V.setRequestHeader(U,ct)}),yt.isUndefined(o.withCredentials)||(V.withCredentials=!!o.withCredentials),u&&u!=="json"&&(V.responseType=o.responseType),_&&([w,O]=yu(_,!0),V.addEventListener("progress",w)),f&&V.upload&&([b,P]=yu(f),V.upload.addEventListener("progress",b),V.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(v=ct=>{V&&(i(!ct||ct.type?new xs(null,t,V):ct),V.abort(),V=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const ht=px(o.url);if(ht&&ii.protocols.indexOf(ht)===-1){i(new we("Unsupported protocol "+ht+":",we.ERR_BAD_REQUEST,t));return}V.send(h||null)})},wx=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let o=new AbortController,h;const s=function(v){if(!h){h=!0,f();const b=v instanceof Error?v:this.reason;o.abort(b instanceof we?b:new xs(b instanceof Error?b.message:b))}};let u=e&&setTimeout(()=>{u=null,s(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const f=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(v=>{v.unsubscribe?v.unsubscribe(s):v.removeEventListener("abort",s)}),t=null)};t.forEach(v=>v.addEventListener("abort",s));const{signal:_}=o;return _.unsubscribe=()=>yt.asap(f),_}},Lx=function*(t,e){let i=t.byteLength;if(i<e){yield t;return}let o=0,h;for(;o<i;)h=o+e,yield t.slice(o,h),o=h},Cx=async function*(t,e){for await(const i of kx(t))yield*Lx(i,e)},kx=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:i,value:o}=await e.read();if(i)break;yield o}}finally{await e.cancel()}},sf=(t,e,i,o)=>{const h=Cx(t,e);let s=0,u,f=_=>{u||(u=!0,o&&o(_))};return new ReadableStream({async pull(_){try{const{done:v,value:b}=await h.next();if(v){f(),_.close();return}let w=b.byteLength;if(i){let P=s+=w;i(P)}_.enqueue(new Uint8Array(b))}catch(v){throw f(v),v}},cancel(_){return f(_),h.return()}},{highWaterMark:2})},Vu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",K_=Vu&&typeof ReadableStream=="function",Ex=Vu&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),W_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Mx=K_&&W_(()=>{let t=!1;const e=new Request(ii.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),af=64*1024,Bh=K_&&W_(()=>yt.isReadableStream(new Response("").body)),vu={stream:Bh&&(t=>t.body)};Vu&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!vu[e]&&(vu[e]=yt.isFunction(t[e])?i=>i[e]():(i,o)=>{throw new we(`Response type '${e}' is not supported`,we.ERR_NOT_SUPPORT,o)})})})(new Response);const Px=async t=>{if(t==null)return 0;if(yt.isBlob(t))return t.size;if(yt.isSpecCompliantForm(t))return(await new Request(ii.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(yt.isArrayBufferView(t)||yt.isArrayBuffer(t))return t.byteLength;if(yt.isURLSearchParams(t)&&(t=t+""),yt.isString(t))return(await Ex(t)).byteLength},Sx=async(t,e)=>yt.toFiniteNumber(t.getContentLength())??Px(e),Bx=Vu&&(async t=>{let{url:e,method:i,data:o,signal:h,cancelToken:s,timeout:u,onDownloadProgress:f,onUploadProgress:_,responseType:v,headers:b,withCredentials:w="same-origin",fetchOptions:P}=q_(t);v=v?(v+"").toLowerCase():"text";let O=wx([h,s&&s.toAbortSignal()],u),j;const V=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let rt;try{if(_&&Mx&&i!=="get"&&i!=="head"&&(rt=await Sx(b,o))!==0){let gt=new Request(e,{method:"POST",body:o,duplex:"half"}),Bt;if(yt.isFormData(o)&&(Bt=gt.headers.get("content-type"))&&b.setContentType(Bt),gt.body){const[jt,Dt]=nf(rt,yu(rf(_)));o=sf(gt.body,af,jt,Dt)}}yt.isString(w)||(w=w?"include":"omit");const ht="credentials"in Request.prototype;j=new Request(e,{...P,signal:O,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:ht?w:void 0});let ct=await fetch(j);const U=Bh&&(v==="stream"||v==="response");if(Bh&&(f||U&&V)){const gt={};["status","statusText","headers"].forEach(Ct=>{gt[Ct]=ct[Ct]});const Bt=yt.toFiniteNumber(ct.headers.get("content-length")),[jt,Dt]=f&&nf(Bt,yu(rf(f),!0))||[];ct=new Response(sf(ct.body,af,jt,()=>{Dt&&Dt(),V&&V()}),gt)}v=v||"text";let et=await vu[yt.findKey(vu,v)||"text"](ct,t);return!U&&V&&V(),await new Promise((gt,Bt)=>{$_(gt,Bt,{data:et,headers:ri.from(ct.headers),status:ct.status,statusText:ct.statusText,config:t,request:j})})}catch(ht){throw V&&V(),ht&&ht.name==="TypeError"&&/fetch/i.test(ht.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,t,j),{cause:ht.cause||ht}):we.from(ht,ht&&ht.code,t,j)}}),Th={http:$4,xhr:xx,fetch:Bx};yt.forEach(Th,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lf=t=>`- ${t}`,Tx=t=>yt.isFunction(t)||t===null||t===!1,J_={getAdapter:t=>{t=yt.isArray(t)?t:[t];const{length:e}=t;let i,o;const h={};for(let s=0;s<e;s++){i=t[s];let u;if(o=i,!Tx(i)&&(o=Th[(u=String(i)).toLowerCase()],o===void 0))throw new we(`Unknown adapter '${u}'`);if(o)break;h[u||"#"+s]=o}if(!o){const s=Object.entries(h).map(([f,_])=>`adapter ${f} `+(_===!1?"is not supported by the environment":"is not available in the build"));let u=e?s.length>1?`since :
`+s.map(lf).join(`
`):" "+lf(s[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o},adapters:Th};function rh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xs(null,t)}function uf(t){return rh(t),t.headers=ri.from(t.headers),t.data=ih.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),J_.getAdapter(t.adapter||Xa.adapter)(t).then(function(e){return rh(t),e.data=ih.call(t,t.transformResponse,e),e.headers=ri.from(e.headers),e},function(e){return H_(e)||(rh(t),e&&e.response&&(e.response.data=ih.call(t,t.transformResponse,e.response),e.response.headers=ri.from(e.response.headers))),Promise.reject(e)})}const Y_="1.7.7",xd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xd[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const cf={};xd.transitional=function(t,e,i){function o(h,s){return"[Axios v"+Y_+"] Transitional option '"+h+"'"+s+(i?". "+i:"")}return(h,s,u)=>{if(t===!1)throw new we(o(s," has been removed"+(e?" in "+e:"")),we.ERR_DEPRECATED);return e&&!cf[s]&&(cf[s]=!0,console.warn(o(s," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(h,s,u):!0}};function Ax(t,e,i){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let h=o.length;for(;h-- >0;){const s=o[h],u=e[s];if(u){const f=t[s],_=f===void 0||u(f,s,t);if(_!==!0)throw new we("option "+s+" must be "+_,we.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new we("Unknown option "+s,we.ERR_BAD_OPTION)}}const Ah={assertOptions:Ax,validators:xd},Or=Ah.validators;class xo{constructor(e){this.defaults=e,this.interceptors={request:new tf,response:new tf}}async request(e,i){try{return await this._request(e,i)}catch(o){if(o instanceof Error){let h;Error.captureStackTrace?Error.captureStackTrace(h={}):h=new Error;const s=h.stack?h.stack.replace(/^.+\n/,""):"";try{o.stack?s&&!String(o.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+s):o.stack=s}catch{}}throw o}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Co(this.defaults,i);const{transitional:o,paramsSerializer:h,headers:s}=i;o!==void 0&&Ah.assertOptions(o,{silentJSONParsing:Or.transitional(Or.boolean),forcedJSONParsing:Or.transitional(Or.boolean),clarifyTimeoutError:Or.transitional(Or.boolean)},!1),h!=null&&(yt.isFunction(h)?i.paramsSerializer={serialize:h}:Ah.assertOptions(h,{encode:Or.function,serialize:Or.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let u=s&&yt.merge(s.common,s[i.method]);s&&yt.forEach(["delete","get","head","post","put","patch","common"],j=>{delete s[j]}),i.headers=ri.concat(u,s);const f=[];let _=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(i)===!1||(_=_&&j.synchronous,f.unshift(j.fulfilled,j.rejected))});const v=[];this.interceptors.response.forEach(function(j){v.push(j.fulfilled,j.rejected)});let b,w=0,P;if(!_){const j=[uf.bind(this),void 0];for(j.unshift.apply(j,f),j.push.apply(j,v),P=j.length,b=Promise.resolve(i);w<P;)b=b.then(j[w++],j[w++]);return b}P=f.length;let O=i;for(w=0;w<P;){const j=f[w++],V=f[w++];try{O=j(O)}catch(rt){V.call(this,rt);break}}try{b=uf.call(this,O)}catch(j){return Promise.reject(j)}for(w=0,P=v.length;w<P;)b=b.then(v[w++],v[w++]);return b}getUri(e){e=Co(this.defaults,e);const i=Z_(e.baseURL,e.url);return V_(i,e.params,e.paramsSerializer)}}yt.forEach(["delete","get","head","options"],function(t){xo.prototype[t]=function(e,i){return this.request(Co(i||{},{method:t,url:e,data:(i||{}).data}))}});yt.forEach(["post","put","patch"],function(t){function e(i){return function(o,h,s){return this.request(Co(s||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:h}))}}xo.prototype[t]=e(),xo.prototype[t+"Form"]=e(!0)});class wd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const o=this;this.promise.then(h=>{if(!o._listeners)return;let s=o._listeners.length;for(;s-- >0;)o._listeners[s](h);o._listeners=null}),this.promise.then=h=>{let s;const u=new Promise(f=>{o.subscribe(f),s=f}).then(h);return u.cancel=function(){o.unsubscribe(s)},u},e(function(h,s,u){o.reason||(o.reason=new xs(h,s,u),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=o=>{e.abort(o)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new wd(function(i){e=i}),cancel:e}}}function Ox(t){return function(e){return t.apply(null,e)}}function Rx(t){return yt.isObject(t)&&t.isAxiosError===!0}const Oh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oh).forEach(([t,e])=>{Oh[e]=t});function X_(t){const e=new xo(t),i=S_(xo.prototype.request,e);return yt.extend(i,xo.prototype,e,{allOwnKeys:!0}),yt.extend(i,e,null,{allOwnKeys:!0}),i.create=function(o){return X_(Co(t,o))},i}const bn=X_(Xa);bn.Axios=xo;bn.CanceledError=xs;bn.CancelToken=wd;bn.isCancel=H_;bn.VERSION=Y_;bn.toFormData=zu;bn.AxiosError=we;bn.Cancel=bn.CanceledError;bn.all=function(t){return Promise.all(t)};bn.spread=Ox;bn.isAxiosError=Rx;bn.mergeConfig=Co;bn.AxiosHeaders=ri;bn.formToJSON=t=>G_(yt.isHTMLForm(t)?new FormData(t):t);bn.getAdapter=J_.getAdapter;bn.HttpStatusCode=Oh;bn.default=bn;const Q_=(t={})=>{const e=Mo(),{baseURL:i,projectId:o,projectToken:h,userToken:s,csrfToken:u}=e.getAPIConfig,f={baseURL:i,params:{project_id:o,project_token:h,token:s},...t};return(!h||!(o&&s)&&u)&&Object.assign(f,{headers:{"X-CSRF-Token":u}}),bn.create({...f})};class Dx{static key(e,i){return Q_().get(`/observation_matrices/${e}/key`,i)}}const ka={Used:"used",Useful:"useful",Useless:"useless"},Ix=t=>({characterStateId:t.id,depictionIds:t.depiction_ids,label:t.label,position:t.position,...tg(t)}),Fx=t=>({depictionId:t.id,caption:t.caption,figureLabel:t.figure_label,imageUrl:t.image.medium}),fa={Qualitative:"Descriptor::Qualitative",Continuous:"Descriptor::Continuous",Sample:"Descriptor::Sample",PresenceAbsence:"Descriptor::PresenceAbsence"},Qa=t=>({descriptorId:t.id,name:t.name,description:t.description,position:t.position,status:t.status,type:t.type,depictionIds:t.depiction_ids,usefulness:t.usefulness,weight:t.weight}),jx=t=>({...Qa(t),defaultUnit:t.default_unit,max:t.max,min:t.min}),Nx=t=>({...Qa(t),defaultUnit:t.default_unit,max:t.max,min:t.min}),zx=t=>({...Qa(t),states:t.states.map(e=>tg(e))}),Vx=t=>({...Qa(t),characterStates:t.states.map(e=>Ix(e))}),Ux=t=>{switch(t.type){case fa.Continuous:return jx(t);case fa.Sample:return Nx(t);case fa.PresenceAbsence:return zx(t);case fa.Qualitative:return Vx(t);default:return Qa(t)}},Gx=t=>({observationMatrixId:t.observation_matrix_id,name:t.observation_matrix.name,globalId:t.observation_matrix.global_id}),tg=t=>({name:t.name,numberOfObjects:t.number_of_objects,status:t.status}),hf=t=>({errorDescriptors:t.error_descriptors,errors:t.errors,objectLabel:t.object.object_label,objectTag:t.object.object_tag,observationObjectId:t.object.observation_object_id,observationObjectType:t.object.observation_object_type,rowId:t.object.id}),Hx=t=>({keywordId:t.id,definition:t.description,name:t.name}),$x=t=>({languageId:t.id,name:t.english_name}),yr=Zr("observationMatrix",{state:()=>({observationMatrix:void 0,citation:void 0,descriptors:[],eliminated:[],remaining:[],availableKeywords:[],availableLanguages:[]}),getters:{getCitation:t=>t.citation,getObservationMatrix:t=>t.observationMatrix,getDescriptors:t=>t.descriptors,getDescriptorById:t=>e=>t.descriptors.find(i=>i.descriptorId===e),getDescriptorsUsed:t=>t.descriptors.filter(e=>e.status===ka.Used),getDescriptorsUseless:t=>t.descriptors.filter(e=>e.status===ka.Useless),getDescriptorsUseful:t=>t.descriptors.filter(e=>e.status===ka.Useful),getEliminated:t=>t.eliminated,getKeywords:t=>t.availableKeywords,getLanguages:t=>t.availableLanguages,getRemaining:t=>t.remaining},actions:{setDescriptors(t){this.descriptors=t},setEliminated(t){this.eliminated=t},setRemaining(t){this.remaining=t},setLanguages(t){this.availableLanguages=t},setKeywords(t){this.availableKeywords=t},setObservationMatrix(t){this.observationMatrix=t},async requestInteractiveKey({observationMatrixId:t,params:e={},opt:i={}}){const o=await Dx.key(t,{params:e}),{data:h}=o;return i.refreshOnlyTaxa||(this.setObservationMatrix(Gx(h)),this.setDescriptors(h.list_of_descriptors.map(s=>Ux(s))),this.setKeywords(h.descriptor_available_keywords.map(s=>Hx(s))),this.setLanguages(h.descriptor_available_languages.map(s=>$x(s)))),this.setEliminated(h.eliminated.map(s=>hf(s))),this.setRemaining(h.remaining.map(s=>hf(s))),o}}}),In=Zr("filter",{state:()=>({descriptors:{},eliminateUnknown:void 0,rowFilter:!0,errorTolerance:void 0,identifiedToRank:void 0,keywordIds:[],languageId:void 0,rowIds:[],sorting:void 0}),getters:{getKeywordIds:t=>t.keywordIds,getLanguageId:t=>t.languageId,getRowIds:t=>t.rowIds,getRowFilter:t=>t.rowFilter,getDescriptors:t=>t.descriptors,getIdentifiedToRank:t=>t.identifiedToRank,getEliminateUknown:t=>t.eliminateUnknown,getErrorTolerance:t=>t.errorTolerance,getSorting:t=>t.sorting,getDescriptorValueById:t=>e=>{const i=t.descriptors[e];return typeof i=="boolean"?i:i||""},getFilterParams:t=>({selected_descriptors:Object.entries(t.descriptors).map(([e,i])=>Array.isArray(i)?`${e}:${i.join("|")}`:`${e}:${i}`).join("||"),language_id:t.languageId,keyword_ids:t.keywordIds,sorting:t.sorting,identified_to_rank:t.identifiedToRank,error_tolerance:t.errorTolerance,eliminate_unknown:t.eliminateUnknown,row_filter:t.rowFilter?t.rowIds.join("|"):[]})},actions:{setDescriptor({descriptorId:t,value:e}){this.descriptors[t]=e},removeDescriptor(t){delete this.descriptors[t]},removeKeywordId(t){const e=this.keywordIds.findIndex(i=>i===t);e>-1&&this.keywordIds.splice(e,1)},addKeywordId(t){this.keywordIds.push(t)},setLanguageId(t){this.languageId=t},setErrorTolerance(t){this.errorTolerance=t},setEliminateUnknown(t){this.eliminateUnknown=t}}}),Mo=Zr("settings",{state:()=>({gridLayout:"distinguish-layout-mode-1",isLoading:!1,isRefreshing:!1,refreshOnlyTaxa:!1,shouldUpdate:!0,observationMatrixId:void 0,errorMessage:"",apiConfig:{baseURL:"",projectId:void 0,projectToken:void 0,userToken:void 0}}),getters:{getErrorMessage:t=>t.errorMessage,getIsLoading:t=>t.isLoading,getLayout:t=>t.gridLayout,getRefreshOnlyTaxa:t=>t.refreshOnlyTaxa,getShouldUpdate:t=>t.shouldUpdate,getObservationMatrixId:t=>t.observationMatrixId,getAPIConfig:t=>t.apiConfig},actions:{setObservationMatrixId(t){this.observationMatrixId=t},setShouldUpdate(t){this.shouldUpdate=t},setRefreshOnlyTaxa(t){this.refreshOnlyTaxa=t},setAPIConfig(t){this.apiConfig=t},checkUpdate(){const t=In(),e=yr(),i=this.observationMatrixId;this.shouldUpdate&&i&&(this.isLoading=!0,e.requestInteractiveKey({observationMatrixId:i,params:t.getFilterParams,opt:{refreshOnlyTaxa:this.refreshOnlyTaxa}}).then(o=>this.errorMessage="").catch(o=>this.errorMessage=o.message).finally(()=>this.isLoading=!1))}}}),Zx=Oe({__name:"FilterEliminateUnknowns",setup(t){const e=In(),i=Yt({get:()=>!!e.getEliminateUknown,set:o=>{e.setEliminateUnknown(o)}});return(o,h)=>(A(),Z("label",null,[An($("input",{"onUpdate:modelValue":h[0]||(h[0]=s=>i.value=s),type:"checkbox"},null,512),[[vs,i.value]]),h[1]||(h[1]=Qt(" Eliminate unknowns "))]))}}),qx=["value"],Kx=Oe({__name:"FilterErrorTolerance",setup(t){const e=[0,1,2],i=In(),o=Yt({get:()=>i.getErrorTolerance,set:h=>{i.setErrorTolerance(h)}});return(h,s)=>(A(),Z("div",null,[s[2]||(s[2]=$("label",{for:"languages",class:"distinguish-input-label"}," Error tolerance ",-1)),An($("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u),name:"languages",role:"listbox"},[s[1]||(s[1]=$("option",{value:""},null,-1)),(A(),Z(Ut,null,fe(e,u=>$("option",{key:u,value:u},Ft(u),9,qx)),64))],512),[[Ka,o.value]])]))}}),Wx=["otu","subspecies","species","subgenus","genus","subtribe","tribe","subfamily","family"],Jx=Oe({__name:"FilterRank",setup(t){const e=In(),i=Yt({get(){return e.getIdentifiedToRank},set(o){e.$patch({identifiedToRank:o})}});return(o,h)=>(A(),Z("div",null,[h[2]||(h[2]=$("label",{class:"distinguish-input-label"},"Identified to rank",-1)),An($("select",{"onUpdate:modelValue":h[0]||(h[0]=s=>i.value=s)},[h[1]||(h[1]=$("option",{value:void 0},null,-1)),(A(!0),Z(Ut,null,fe(zt(Wx),s=>(A(),Z("option",{key:s},Ft(s),1))),128))],512),[[Ka,i.value]])]))}}),Yx=Oe({__name:"FilterSort",setup(t){const e=["ordered","weighted","optimized"],i=In(),o=Yt({get(){return i.getSorting},set(h){i.$patch({sorting:h})}});return(h,s)=>(A(),Z("div",null,[s[2]||(s[2]=$("label",{class:"distinguish-input-label"},"Descriptor sorting",-1)),An($("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u)},[s[1]||(s[1]=$("option",{value:void 0},null,-1)),(A(),Z(Ut,null,fe(e,u=>$("option",{key:u},Ft(u),1)),64))],512),[[Ka,o.value]])]))}}),Xx=["value"],Qx=Oe({__name:"FilterLanguage",setup(t){const e=In(),i=yr(),o=Yt({get:()=>e.getLanguageId,set:h=>{e.setLanguageId(Number(h))}});return(h,s)=>(A(),Z("div",null,[s[1]||(s[1]=$("label",{for:"languages",class:"distinguish-input-label"}," Languages ",-1)),An($("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u),name:"languages",role:"listbox"},[(A(!0),Z(Ut,null,fe(zt(i).getLanguages,({languageId:u,name:f})=>(A(),Z("option",{key:u,value:u},Ft(f),9,Xx))),128))],512),[[Ka,o.value]])]))}}),tw=["disabled"],fs=Oe({__name:"VBtn",props:{color:{default:"primary"},size:{default:"medium"},disabled:{type:Boolean}},setup(t){const e=t,i=Yt(()=>[`distinguish-btn-${e.color}-color`,`distinguish-btn-${e.size}-size`]);return(o,h)=>(A(),Z("button",{type:"button",class:hn(["distinguish-btn",i.value]),disabled:o.disabled},[be(o.$slots,"default")],10,tw))}}),ew={class:"distinguish-modal-wrapper"},nw={class:"distinguish-modal-header"},iw={class:"distinguish-modal-body"},rw={class:"distinguish-modal-footer"},Ld=Oe({__name:"VModal",props:{containerClass:{},containerStyle:{}},emits:["close"],setup(t,{emit:e}){const i=e,o=h=>{h.preventDefault(),h.key==="Escape"&&i("close")};return On(()=>document.addEventListener("keydown",o)),gr(()=>document.removeEventListener("keydown",o)),(h,s)=>(A(),wt(Au,{name:"distinguish-modal"},{default:nt(()=>[$("div",{class:"distinguish-modal-mask",onClick:s[2]||(s[2]=u=>i("close")),onKey:s[3]||(s[3]=u=>i("close"))},[$("div",ew,[$("div",{class:hn(["distinguish-modal-container",h.containerClass]),style:Ci({...h.containerStyle}),onClick:s[1]||(s[1]=Da(()=>{},["stop"]))},[$("div",nw,[$("div",{class:"distinguish-modal-close",onClick:s[0]||(s[0]=u=>i("close"))}),be(h.$slots,"header")]),$("div",iw,[be(h.$slots,"body")]),$("div",rw,[be(h.$slots,"footer")])],6)])],32)]),_:3}))}}),ow={class:"distinguish-list-checkboxes"},sw=["value"],aw=Oe({__name:"FilterKeywords",setup(t){const e=yr(),i=In(),o=Jt(!1),h=Yt({get:()=>i.getKeywordIds,set:s=>{i.$patch({keywordIds:s})}});return(s,u)=>(A(),Z(Ut,null,[X(fs,{color:"primary",size:"medium",disabled:!zt(e).getKeywords.length,title:zt(e).getKeywords.length?"":"No tags defined.",onClick:u[0]||(u[0]=f=>o.value=!0)},{default:nt(()=>u[3]||(u[3]=[Qt(" Keyword ")])),_:1},8,["disabled","title"]),o.value?(A(),wt(Ld,{key:0,onClose:u[2]||(u[2]=f=>o.value=!1)},{header:nt(()=>u[4]||(u[4]=[$("h3",null,"Keywords",-1)])),body:nt(()=>[$("ul",ow,[(A(!0),Z(Ut,null,fe(zt(e).getKeywords,({keywordId:f,name:_})=>(A(),Z("li",{key:f},[$("label",null,[An($("input",{"onUpdate:modelValue":u[1]||(u[1]=v=>h.value=v),value:f,type:"checkbox"},null,8,sw),[[vs,h.value]]),Qt(" "+Ft(_),1)])]))),128))])]),_:1})):Rt("",!0)],64))}}),lw=Oe({__name:"SettingRefresh",setup(t){const e=Mo(),i=Yt({get:()=>e.getRefreshOnlyTaxa,set:o=>{e.setRefreshOnlyTaxa(o)}});return(o,h)=>(A(),Z("label",null,[An($("input",{"onUpdate:modelValue":h[0]||(h[0]=s=>i.value=s),type:"checkbox"},null,512),[[vs,i.value]]),h[1]||(h[1]=Qt(" Refresh only taxa "))]))}}),Uu=(t,e)=>{const i=t.__vccOpts||t;for(const[o,h]of e)i[o]=h;return i},uw={},cw={class:"distinguish-menu-list"};function hw(t,e){return A(),Z("ul",cw,[be(t.$slots,"default")])}const dw=Uu(uw,[["render",hw]]),pw={},fw={class:"distinguish-list-item"};function mw(t,e){return A(),Z("li",fw,[be(t.$slots,"default")])}const ho=Uu(pw,[["render",mw]]),df={"distinguish-layout-mode-1":"distinguish-layout-mode-2","distinguish-layout-mode-2":"distinguish-layout-mode-1"},_w={},gw={class:"distinguish-grid"};function yw(t,e){return A(),Z("div",gw,[be(t.$slots,"default")])}const eg=Uu(_w,[["render",yw]]),vw=Oe({__name:"GridToggle",setup(t){const e=Mo(),i=Yt(()=>e.getLayout),o=()=>{e.$patch({gridLayout:df[i.value]})};return(h,s)=>(A(),wt(fs,{class:hn(zt(df)[i.value]),onClick:o},{default:nt(()=>[X(eg,{class:"distinguish-grid-icon"},{default:nt(()=>s[0]||(s[0]=[$("div",{class:"distinguish-panel-descriptors"},null,-1),$("div",{class:"distinguish-panel-remaining"},null,-1),$("div",{class:"distinguish-panel-eliminated"},null,-1)])),_:1})]),_:1},8,["class"]))}}),bw=Oe({__name:"ResetButton",setup(t){const e=In();return(i,o)=>(A(),wt(fs,{color:"primary",size:"medium",onClick:o[0]||(o[0]=h=>zt(e).$reset())},{default:nt(()=>o[1]||(o[1]=[Qt(" Reset ")])),_:1}))}}),xw={class:"distinguish-header-error-message"},ww=Oe({__name:"ErrorMessage",setup(t){const e=Mo();return(i,o)=>(A(),Z("span",xw,Ft(zt(e).getErrorMessage),1))}}),Lw={class:"distinguish-header-bar"},Cw={class:"distinguish-header-bar__buttons"},kw=Oe({__name:"HeaderBar",setup(t){return(e,i)=>(A(),Z("div",Lw,[X(ww),X(dw,null,{default:nt(()=>[X(ho,null,{default:nt(()=>[X(lw)]),_:1}),X(ho,null,{default:nt(()=>[X(Zx)]),_:1}),X(ho,null,{default:nt(()=>[X(Kx)]),_:1}),X(ho,null,{default:nt(()=>[X(Jx)]),_:1}),X(ho,null,{default:nt(()=>[X(Qx)]),_:1}),X(ho,null,{default:nt(()=>[X(Yx)]),_:1}),X(ho,null,{default:nt(()=>[X(aw)]),_:1})]),_:1}),$("div",Cw,[X(bw),X(vw)])]))}}),Ew={},Mw={class:"distinguish-panel"};function Pw(t,e){return A(),Z("div",Mw,[be(t.$slots,"default")])}const Cd=Uu(Ew,[["render",Pw]]),Sw=["innerHTML"],Bw=Oe({__name:"PanelEliminated",props:{render:{type:Function}},setup(t){const e=yr(),i=Yt(()=>e.getEliminated);return(o,h)=>(A(),wt(Cd,{class:"distinguish-panel-eliminated"},{default:nt(()=>[$("h2",null,"Eliminated ("+Ft(i.value.length)+")",1),$("ul",null,[(A(!0),Z(Ut,null,fe(i.value,s=>(A(),Z("li",{key:s.rowId,class:"distinguish-row-item"},[be(o.$slots,"default",{item:s},()=>[$("span",{innerHTML:o.render?o.render(s):s.objectTag},null,8,Sw)])]))),128))])]),_:3}))}}),Tw={class:"distinguish-row-filter-buttons"},Aw={class:"distinguish-list-checkboxes"},Ow=["value"],Rw=Oe({__name:"FilterRow",setup(t){const e=yr(),i=Mo(),o=In(),h=Jt(!1),s=Jt([]),u=Yt(()=>{const _=o.getRowIds,v=s.value;return _.length!==v.length||!_.every(b=>v.includes(b))}),f=Yt({get:()=>o.getRowIds,set:_=>{o.$patch({rowIds:_})}});return vn(h,_=>{i.setShouldUpdate(!_),!_&&u.value&&(o.rowFilter=!0,i.checkUpdate()),s.value=o.getRowIds}),(_,v)=>(A(),Z(Ut,null,[X(fs,{color:"primary",size:"medium",onClick:v[0]||(v[0]=b=>h.value=!0)},{default:nt(()=>v[5]||(v[5]=[Qt(" Select ")])),_:1}),h.value?(A(),wt(Ld,{key:0,onClose:v[4]||(v[4]=b=>h.value=!1)},{header:nt(()=>v[6]||(v[6]=[$("h3",null,"Filter row",-1)])),body:nt(()=>[$("div",null,[$("div",Tw,[zt(e).getRemaining.length!==f.value.length||f.value.length==0?(A(),wt(fs,{key:0,color:"primary",size:"medium",onClick:v[1]||(v[1]=()=>f.value=zt(e).getRemaining.map(b=>b.rowId))},{default:nt(()=>v[7]||(v[7]=[Qt(" Select all ")])),_:1})):(A(),wt(fs,{key:1,color:"primary",size:"medium",onClick:v[2]||(v[2]=()=>f.value=[])},{default:nt(()=>v[8]||(v[8]=[Qt(" Unselect all ")])),_:1}))]),$("ul",Aw,[(A(!0),Z(Ut,null,fe(zt(e).getRemaining,b=>(A(),Z("li",{key:b.rowId},[$("label",null,[An($("input",{"onUpdate:modelValue":v[3]||(v[3]=w=>f.value=w),value:b.rowId,type:"checkbox"},null,8,Ow),[[vs,f.value]]),Qt(" "+Ft(b.objectLabel),1)])]))),128))])])]),_:1})):Rt("",!0)],64))}}),Dw={class:"distinguish-title-section"},Iw=["innerHTML"],Fw=Oe({__name:"PanelRemaining",props:{render:{type:Function}},setup(t){const e=yr(),i=Yt(()=>e.getRemaining);return(o,h)=>(A(),wt(Cd,{class:"distinguish-panel-remaining"},{default:nt(()=>[$("div",Dw,[$("h2",null,"Remaining ("+Ft(i.value.length)+")",1),X(Rw)]),$("ul",null,[(A(!0),Z(Ut,null,fe(i.value,s=>(A(),Z("li",{key:s.rowId,class:"distinguish-row-item"},[be(o.$slots,"default",{item:s},()=>[$("span",{innerHTML:o.render?o.render(s):s.objectTag},null,8,Iw)])]))),128))])]),_:3}))}});class jw{static find(e){return Q_().get(`/depictions/${e}.json`,{params:{extend:["image"]}})}}const Nw={key:0,class:"distinguish-depiction-box"},zw=["src"],ng=Oe({__name:"VDepiction",props:{depictionId:{}},setup(t){const e=t,i=Jt();return jw.find(e.depictionId).then(({data:o})=>{i.value=Fx(o)}),(o,h)=>i.value?(A(),Z("div",Nw,[$("img",{src:i.value.imageUrl},null,8,zw)])):Rt("",!0)}}),Vw={class:"distinguish-character-descriptor__cell"},Uw=["value"],Gw=Oe({__name:"CharacterStateCell",props:{characterState:{},descriptorId:{}},setup(t){const e=t,i=In(),o=Yt({get:()=>i.getDescriptorValueById(e.descriptorId)||[],set:h=>{h.length?i.setDescriptor({descriptorId:e.descriptorId,value:h}):i.removeDescriptor(e.descriptorId)}});return(h,s)=>(A(),Z("div",Vw,[$("label",null,[(A(!0),Z(Ut,null,fe(h.characterState.depictionIds,u=>(A(),wt(ng,{key:u,"depiction-id":u},null,8,["depiction-id"]))),128)),An($("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u),value:h.characterState.characterStateId,type:"checkbox"},null,8,Uw),[[vs,o.value]]),Qt(" "+Ft(h.characterState.name),1)])]))}}),Hw={class:"distinguish-character-states-grid"},$w=Oe({__name:"CharacterStateGrid",props:{descriptor:{}},setup(t){const e=t,i=In(),o=Mo(),h=Jt(),s=Yt(()=>{const u=i.getDescriptorValueById(e.descriptor.descriptorId)||[],f=h.value||[];return u.length!==f.length||!u.every(_=>f.includes(_))});return On(()=>{o.setShouldUpdate(!1),h.value=i.getDescriptorValueById(e.descriptor.descriptorId)}),gr(()=>{o.setShouldUpdate(!0),s.value&&o.checkUpdate()}),(u,f)=>(A(),Z("div",Hw,[(A(!0),Z(Ut,null,fe(u.descriptor.characterStates,_=>(A(),wt(Gw,{key:_.characterStateId,"descriptor-id":u.descriptor.descriptorId,"character-state":_},null,8,["descriptor-id","character-state"]))),128))]))}}),Zw={key:0},qw={key:1},Kw={class:"descriptor-modal__depiction"},Ww=Oe({__name:"DescriptorModal",props:{descriptor:{}},setup(t){return(e,i)=>(A(),wt(Ld,{"container-class":"distinguish-descriptor-modal"},{header:nt(()=>[$("h3",null,Ft(e.descriptor.name),1),e.descriptor.description?(A(),Z("span",Zw,Ft(e.descriptor.description),1)):(A(),Z("i",qw," No further description available. "))]),body:nt(()=>[$("div",Kw,[(A(!0),Z(Ut,null,fe(e.descriptor.depictionIds,o=>(A(),wt(ng,{key:o,"depiction-id":o},null,8,["depiction-id"]))),128))]),i[0]||(i[0]=$("hr",null,null,-1)),e.descriptor.type===zt(fa).Qualitative?(A(),wt($w,{key:0,descriptor:e.descriptor},null,8,["descriptor"])):Rt("",!0)]),_:1}))}}),Jw=["id"],Yw={class:"distinguish-input-label"},Gu=Oe({__name:"DescriptorContainer",props:{descriptor:{}},setup(t){const e=Jt(!1);return(i,o)=>(A(),Z("div",{id:`descriptor-${i.descriptor.descriptorId}`,class:"distinguish-descriptor-container"},[$("div",Yw,[$("span",{class:"distinguish-link",onClick:o[0]||(o[0]=h=>e.value=!0)},[be(i.$slots,"title",{},()=>[Qt(Ft(i.descriptor.name),1)])])]),be(i.$slots,"default"),e.value?(A(),wt(Ww,{key:0,descriptor:i.descriptor,onClose:o[1]||(o[1]=h=>e.value=!1)},null,8,["descriptor"])):Rt("",!0)],8,Jw))}}),Xw=Oe({__name:"DescriptorContinuous",props:{descriptor:{}},setup(t){const e=t,i=In(),o=Jt(String(i.getDescriptorValueById(e.descriptor.descriptorId))),h=()=>{const{descriptorId:s}=e.descriptor,u=o.value.trim();u?i.setDescriptor({descriptorId:s,value:u}):i.removeDescriptor(s)};return(s,u)=>(A(),wt(Gu,{class:"distinguish-descriptor-continuous",descriptor:s.descriptor},{title:nt(()=>[Qt(Ft(s.descriptor.name)+" ("+Ft(s.descriptor.min)+"-"+Ft(s.descriptor.max)+" "+Ft(s.descriptor.defaultUnit)+") ",1)]),default:nt(()=>[An($("input",{"onUpdate:modelValue":u[0]||(u[0]=f=>o.value=f),type:"text",onBlur:h,onKeyup:o_(h,["enter"])},null,544),[[pd,o.value]])]),_:1},8,["descriptor"]))}}),Qw=["value"],tL={key:0},eL=Oe({__name:"DescriptorPresenceAbsence",props:{descriptor:{}},setup(t){const e={Presence:!0,Absent:!1},i=t,o=In(),h=Yt({get:()=>o.getDescriptorValueById(i.descriptor.descriptorId),set:u=>{const{descriptorId:f}=i.descriptor;typeof u=="boolean"?o.setDescriptor({descriptorId:f,value:!!u}):o.removeDescriptor(f)}}),s=u=>{var f;const{states:_}=i.descriptor;return((f=_.find(v=>v.name===String(u)))==null?void 0:f.numberOfObjects)||0};return(u,f)=>(A(),wt(Gu,{class:"distinguish-descriptor-presence-absence",descriptor:u.descriptor},{default:nt(()=>[An($("select",{"onUpdate:modelValue":f[0]||(f[0]=_=>h.value=_)},[f[1]||(f[1]=$("option",null,null,-1)),(A(),Z(Ut,null,fe(e,(_,v)=>$("option",{key:v,value:_},[u.descriptor.status===zt(ka).Useless?(A(),Z("span",tL,"-")):Rt("",!0),Qt(" "+Ft(v)+" ("+Ft(s(_))+") ",1)],8,Qw)),64))],512),[[Ka,h.value]])]),_:1},8,["descriptor"]))}}),nL=["value","selected"],iL={key:0},rL={key:1},oL=Oe({__name:"DescriptorQualitative",props:{descriptor:{}},setup(t){const e=t,i=In(),o=s=>{const u=s.target,{descriptorId:f}=e.descriptor;u.value?i.setDescriptor({descriptorId:f,value:[Number(u.value)]}):i.removeDescriptor(f)},h=s=>i.getDescriptorValueById(e.descriptor.descriptorId).includes(s.characterStateId);return(s,u)=>(A(),wt(Gu,{class:"distinguish-descriptor-qualitative",descriptor:s.descriptor},{default:nt(()=>[$("select",{name:"listbox",onChange:o},[u[0]||(u[0]=$("option",{value:""},null,-1)),(A(!0),Z(Ut,null,fe(s.descriptor.characterStates,f=>(A(),Z("option",{key:f.characterStateId,value:f.characterStateId,selected:h(f)},[h(f)?(A(),Z("span",iL,">")):Rt("",!0),f.status===zt(ka).Useless?(A(),Z("span",rL,"-")):Rt("",!0),Qt(" "+Ft(f.name)+" ("+Ft(f.numberOfObjects)+") ",1)],8,nL))),128))],32)]),_:1},8,["descriptor"]))}}),sL=Oe({__name:"DescriptorSample",props:{descriptor:{}},setup(t){const e=t,i=In(),o=Jt(String(i.getDescriptorValueById(e.descriptor.descriptorId))),h=()=>{const{descriptorId:s}=e.descriptor,u=o.value.trim();u?i.setDescriptor({descriptorId:s,value:u}):i.removeDescriptor(s)};return(s,u)=>(A(),wt(Gu,{class:"distinguish-descriptor-sample",descriptor:s.descriptor},{title:nt(()=>[Qt(Ft(s.descriptor.name)+" ("+Ft(s.descriptor.min)+"-"+Ft(s.descriptor.max)+" "+Ft(s.descriptor.defaultUnit)+") ",1)]),default:nt(()=>[An($("input",{"onUpdate:modelValue":u[0]||(u[0]=f=>o.value=f),type:"text",onBlur:h,onKeyup:o_(h,["enter"])},null,544),[[pd,o.value]])]),_:1},8,["descriptor"]))}}),oh=Oe({__name:"DescriptorsList",props:{title:{},descriptors:{}},setup(t){const e={DescriptorContinuous:Xw,DescriptorPresenceAbsence:eL,DescriptorQualitative:oL,DescriptorSample:sL},i=o=>{const h=o.replace("::","");return e[h]};return(o,h)=>(A(),Z(Ut,null,[$("h2",null,Ft(o.title),1),$("ol",null,[(A(!0),Z(Ut,null,fe(o.descriptors,s=>(A(),Z("li",{key:s.descriptorId},[(A(),wt(Eo(i(s.type)),{descriptor:s},null,8,["descriptor"]))]))),128))])],64))}}),aL={key:0},lL=Oe({__name:"FilterRowCheckbox",setup(t){const e=In(),i=Yt({get:()=>e.getRowFilter,set:o=>e.$patch({rowFilter:o})});return(o,h)=>zt(e).rowIds.length?(A(),Z("label",aL,[An($("input",{"onUpdate:modelValue":h[0]||(h[0]=s=>i.value=s),type:"checkbox"},null,512),[[vs,i.value]]),h[1]||(h[1]=Qt(" Filter "))])):Rt("",!0)}}),uL=Oe({__name:"PanelDescriptors",setup(t){const e=yr();return(i,o)=>(A(),wt(Cd,{class:"distinguish-panel-descriptors"},{default:nt(()=>[X(lL),zt(e).getDescriptorsUsed.length?(A(),wt(oh,{key:0,descriptors:zt(e).getDescriptorsUsed,title:"Used Descriptors"},null,8,["descriptors"])):Rt("",!0),zt(e).getDescriptorsUseful.length?(A(),wt(oh,{key:1,descriptors:zt(e).getDescriptorsUseful,title:"Descriptors Useful for Identification"},null,8,["descriptors"])):Rt("",!0),zt(e).getDescriptorsUseless.length?(A(),wt(oh,{key:2,descriptors:zt(e).getDescriptorsUseless,title:"Descriptors no longer relevant for identification"},null,8,["descriptors"])):Rt("",!0)]),_:1}))}}),cL={class:"distinguish-spinner-container"},hL={class:"distinguish-spinner-legend"},dL=["innerHTML"],pL=Oe({__name:"VSpinner",props:{legend:{type:String,default:"Loading, please wait."}},setup(t){return(e,i)=>(A(),wt(Au,{name:"fade"},{default:nt(()=>[$("div",cL,[$("div",null,[i[0]||(i[0]=$("div",{class:"distinguish-spinner"},null,-1)),$("div",hL,[$("span",{innerHTML:t.legend},null,8,dL),be(e.$slots,"default")])])])]),_:3}))}}),fL={class:"distinguish-title"},mL={key:0},_L=Oe({__name:"TitleMatrix",setup(t){const e=yr();return(i,o)=>(A(),Z("h1",fL,[o[0]||(o[0]=Qt(" Interactive key ")),zt(e).getObservationMatrix?(A(),Z("span",mL,"| "+Ft(zt(e).getObservationMatrix.name),1)):Rt("",!0)]))}}),gL=["title"],yL=Oe({__name:"TitleMatrixCitation",setup(t){const e=yr(),i=Yt(()=>{const o=e.getCitation;return Object.values(o||{}).filter(Boolean).join(", ")});return(o,h)=>(A(),Z("span",{class:"distinguish-title-citation",title:i.value},Ft(i.value),9,gL))}}),vL={class:"distinguish-title-section"},bL=Oe({__name:"TitleKey",setup(t){return(e,i)=>(A(),Z("div",vL,[X(_L),X(yL)]))}}),xL={class:"distinguish-app-container"},ig=Oe({name:"Distinguish",__name:"App",props:{observationMatrixId:{},apiConfig:{},renderItem:{type:Function}},setup(t){const e=t,i=Mo(),o=In(),h=Yt(()=>i.getIsLoading),s=Yt(()=>i.getLayout);return i.setAPIConfig(e.apiConfig),i.setObservationMatrixId(e.observationMatrixId),i.checkUpdate(),o.$subscribe(u=>{i.shouldUpdate&&i.checkUpdate()}),(u,f)=>(A(),Z("div",xL,[X(bL),X(kw),X(eg,{class:hn(s.value)},{default:nt(()=>[X(uL),X(Fw,{render:e.renderItem},{default:nt(_=>[be(u.$slots,"remaining-item",dh(mu(_)))]),_:3},8,["render"]),X(Bw,{render:e.renderItem},{default:nt(_=>[be(u.$slots,"eliminated-item",dh(mu(_)))]),_:3},8,["render"])]),_:3},8,["class"]),h.value?(A(),wt(pL,{key:0,legend:"Loading interactive key..."})):Rt("",!0)]))}});function wL(t){return[...document.querySelectorAll('[data-interactive-key="true"]')].map(i=>kL(i,CL(i)))}function LL(){wL()}function CL(t){return{observationMatrixId:Number(t.getAttribute("data-observation-matrix-id")),apiConfig:{baseURL:t.getAttribute("data-base-url")||"",projectToken:t.getAttribute("data-project-token")||void 0,projectId:Number(t.getAttribute("data-project-id"))||void 0,userToken:t.getAttribute("data-user-token")||void 0,csrfToken:t.getAttribute("data-csrf-token")||void 0}}}function kL(t,e){const{apiConfig:i,observationMatrixId:o}=e;if(!o)throw"Missing observation matrix ID";if(!i||!i.projectToken&&!i.csrfToken&&!(i.projectId&&i.userToken))throw"Missing API configuration";const h=Vv(ig,{observationMatrixId:o,apiConfig:i});return h.use(k_()),h.mount(t),h}typeof window<"u"&&window.addEventListener("DOMContentLoaded",LL);var pf={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const EL={class:"flex flex-col h-full overflow-y-hidden container mx-auto interactive-key-container"},ML=["innerHTML"],PL=["innerHTML"],SL={__name:"InteractiveKey",setup(t){const e=Ja(),i=Jt({observationMatrixId:e.params.id,apiConfig:{baseURL:pf.url,projectToken:pf.project_token}});return(o,h)=>{const s=_t("RouterLink"),u=_t("ClientOnly");return A(),Z("div",EL,[X(u,null,{default:nt(()=>[X(zt(ig),dh(mu(i.value)),{"remaining-item":nt(({item:f})=>[f.observationObjectType===zt(Wp)?(A(),wt(s,{key:0,to:{name:"otus-id",params:{id:f.observationObjectId}},innerHTML:f.objectTag},null,8,["to","innerHTML"])):(A(),Z("span",{key:1,innerHTML:f.objectTag},null,8,ML))]),"eliminated-item":nt(({item:f})=>[f.observationObjectType===zt(Wp)?(A(),wt(s,{key:0,to:{name:"otus-id",params:{id:f.observationObjectId}},innerHTML:f.objectTag},null,8,["to","innerHTML"])):(A(),Z("span",{key:1,innerHTML:f.objectTag},null,8,PL))]),_:1},16)]),_:1})])}}},BL=[{name:"interactive-keys-id",path:"/interactive_keys/:id",component:SL}],Hu=Zr("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:t=>e=>t.requests[e],datamap:t=>{const e=Object.keys(t.requests).sort();return Object.fromEntries(e.map(i=>[i,t.requests[i].url]))}},actions:{setRequest(t,{data:e,request:i}){var h;const o=((h=i.res)==null?void 0:h.responseUrl)||i.responseURL;this.requests[t]={url:o,data:e}}}}),TL="FamilyGroup",AL="GenusGroup",OL="SpeciesGroup",RL="SpeciesAndInfraspeciesGroup",Na={CanceledError:"CanceledError"},ff=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paratype","paratypes"];function mr(t,e){const i=Hu(),o=e();return o.then(h=>{i.setRequest(t,h)}).catch(h=>{h.name!==Na.CanceledError&&i.setRequest(t,h.response)}),o}function rg(t,e){return function(){return t.apply(e,arguments)}}const{toString:DL}=Object.prototype,{getPrototypeOf:kd}=Object,$u=(t=>e=>{const i=DL.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),ji=t=>(t=t.toLowerCase(),e=>$u(e)===t),Zu=t=>e=>typeof e===t,{isArray:ws}=Array,za=Zu("undefined");function IL(t){return t!==null&&!za(t)&&t.constructor!==null&&!za(t.constructor)&&pi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const og=ji("ArrayBuffer");function FL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&og(t.buffer),e}const jL=Zu("string"),pi=Zu("function"),sg=Zu("number"),qu=t=>t!==null&&typeof t=="object",NL=t=>t===!0||t===!1,ru=t=>{if($u(t)!=="object")return!1;const e=kd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zL=ji("Date"),VL=ji("File"),UL=ji("Blob"),GL=ji("FileList"),HL=t=>qu(t)&&pi(t.pipe),$L=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||pi(t.append)&&((e=$u(t))==="formdata"||e==="object"&&pi(t.toString)&&t.toString()==="[object FormData]"))},ZL=ji("URLSearchParams"),[qL,KL,WL,JL]=["ReadableStream","Request","Response","Headers"].map(ji),YL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tl(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let o,h;if(typeof t!="object"&&(t=[t]),ws(t))for(o=0,h=t.length;o<h;o++)e.call(null,t[o],o,t);else{const s=i?Object.getOwnPropertyNames(t):Object.keys(t),u=s.length;let f;for(o=0;o<u;o++)f=s[o],e.call(null,t[f],f,t)}}function ag(t,e){e=e.toLowerCase();const i=Object.keys(t);let o=i.length,h;for(;o-- >0;)if(h=i[o],e===h.toLowerCase())return h;return null}const _o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lg=t=>!za(t)&&t!==_o;function Rh(){const{caseless:t}=lg(this)&&this||{},e={},i=(o,h)=>{const s=t&&ag(e,h)||h;ru(e[s])&&ru(o)?e[s]=Rh(e[s],o):ru(o)?e[s]=Rh({},o):ws(o)?e[s]=o.slice():e[s]=o};for(let o=0,h=arguments.length;o<h;o++)arguments[o]&&tl(arguments[o],i);return e}const XL=(t,e,i,{allOwnKeys:o}={})=>(tl(e,(h,s)=>{i&&pi(h)?t[s]=rg(h,i):t[s]=h},{allOwnKeys:o}),t),QL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),tC=(t,e,i,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},eC=(t,e,i,o)=>{let h,s,u;const f={};if(e=e||{},t==null)return e;do{for(h=Object.getOwnPropertyNames(t),s=h.length;s-- >0;)u=h[s],(!o||o(u,t,e))&&!f[u]&&(e[u]=t[u],f[u]=!0);t=i!==!1&&kd(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},nC=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const o=t.indexOf(e,i);return o!==-1&&o===i},iC=t=>{if(!t)return null;if(ws(t))return t;let e=t.length;if(!sg(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},rC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&kd(Uint8Array)),oC=(t,e)=>{const o=(t&&t[Symbol.iterator]).call(t);let h;for(;(h=o.next())&&!h.done;){const s=h.value;e.call(t,s[0],s[1])}},sC=(t,e)=>{let i;const o=[];for(;(i=t.exec(e))!==null;)o.push(i);return o},aC=ji("HTMLFormElement"),lC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,h){return o.toUpperCase()+h}),mf=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),uC=ji("RegExp"),ug=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),o={};tl(i,(h,s)=>{let u;(u=e(h,s,t))!==!1&&(o[s]=u||h)}),Object.defineProperties(t,o)},cC=t=>{ug(t,(e,i)=>{if(pi(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=t[i];if(pi(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},hC=(t,e)=>{const i={},o=h=>{h.forEach(s=>{i[s]=!0})};return ws(t)?o(t):o(String(t).split(e)),i},dC=()=>{},pC=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,sh="abcdefghijklmnopqrstuvwxyz",_f="0123456789",cg={DIGIT:_f,ALPHA:sh,ALPHA_DIGIT:sh+sh.toUpperCase()+_f},fC=(t=16,e=cg.ALPHA_DIGIT)=>{let i="";const{length:o}=e;for(;t--;)i+=e[Math.random()*o|0];return i};function mC(t){return!!(t&&pi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _C=t=>{const e=new Array(10),i=(o,h)=>{if(qu(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[h]=o;const s=ws(o)?[]:{};return tl(o,(u,f)=>{const _=i(u,h+1);!za(_)&&(s[f]=_)}),e[h]=void 0,s}}return o};return i(t,0)},gC=ji("AsyncFunction"),yC=t=>t&&(qu(t)||pi(t))&&pi(t.then)&&pi(t.catch),hg=((t,e)=>t?setImmediate:e?((i,o)=>(_o.addEventListener("message",({source:h,data:s})=>{h===_o&&s===i&&o.length&&o.shift()()},!1),h=>{o.push(h),_o.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",pi(_o.postMessage)),vC=typeof queueMicrotask<"u"?queueMicrotask.bind(_o):typeof process<"u"&&process.nextTick||hg,vt={isArray:ws,isArrayBuffer:og,isBuffer:IL,isFormData:$L,isArrayBufferView:FL,isString:jL,isNumber:sg,isBoolean:NL,isObject:qu,isPlainObject:ru,isReadableStream:qL,isRequest:KL,isResponse:WL,isHeaders:JL,isUndefined:za,isDate:zL,isFile:VL,isBlob:UL,isRegExp:uC,isFunction:pi,isStream:HL,isURLSearchParams:ZL,isTypedArray:rC,isFileList:GL,forEach:tl,merge:Rh,extend:XL,trim:YL,stripBOM:QL,inherits:tC,toFlatObject:eC,kindOf:$u,kindOfTest:ji,endsWith:nC,toArray:iC,forEachEntry:oC,matchAll:sC,isHTMLForm:aC,hasOwnProperty:mf,hasOwnProp:mf,reduceDescriptors:ug,freezeMethods:cC,toObjectSet:hC,toCamelCase:lC,noop:dC,toFiniteNumber:pC,findKey:ag,global:_o,isContextDefined:lg,ALPHABET:cg,generateString:fC,isSpecCompliantForm:mC,toJSONObject:_C,isAsyncFn:gC,isThenable:yC,setImmediate:hg,asap:vC};function Le(t,e,i,o,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),o&&(this.request=o),h&&(this.response=h,this.status=h.status?h.status:null)}vt.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vt.toJSONObject(this.config),code:this.code,status:this.status}}});const dg=Le.prototype,pg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pg[t]={value:t}});Object.defineProperties(Le,pg);Object.defineProperty(dg,"isAxiosError",{value:!0});Le.from=(t,e,i,o,h,s)=>{const u=Object.create(dg);return vt.toFlatObject(t,u,function(_){return _!==Error.prototype},f=>f!=="isAxiosError"),Le.call(u,t.message,e,i,o,h),u.cause=t,u.name=t.name,s&&Object.assign(u,s),u};const bC=null;function Dh(t){return vt.isPlainObject(t)||vt.isArray(t)}function fg(t){return vt.endsWith(t,"[]")?t.slice(0,-2):t}function gf(t,e,i){return t?t.concat(e).map(function(h,s){return h=fg(h),!i&&s?"["+h+"]":h}).join(i?".":""):e}function xC(t){return vt.isArray(t)&&!t.some(Dh)}const wC=vt.toFlatObject(vt,{},null,function(e){return/^is[A-Z]/.test(e)});function Ku(t,e,i){if(!vt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,i=vt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,rt){return!vt.isUndefined(rt[V])});const o=i.metaTokens,h=i.visitor||b,s=i.dots,u=i.indexes,_=(i.Blob||typeof Blob<"u"&&Blob)&&vt.isSpecCompliantForm(e);if(!vt.isFunction(h))throw new TypeError("visitor must be a function");function v(j){if(j===null)return"";if(vt.isDate(j))return j.toISOString();if(!_&&vt.isBlob(j))throw new Le("Blob is not supported. Use a Buffer instead.");return vt.isArrayBuffer(j)||vt.isTypedArray(j)?_&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function b(j,V,rt){let ht=j;if(j&&!rt&&typeof j=="object"){if(vt.endsWith(V,"{}"))V=o?V:V.slice(0,-2),j=JSON.stringify(j);else if(vt.isArray(j)&&xC(j)||(vt.isFileList(j)||vt.endsWith(V,"[]"))&&(ht=vt.toArray(j)))return V=fg(V),ht.forEach(function(U,et){!(vt.isUndefined(U)||U===null)&&e.append(u===!0?gf([V],et,s):u===null?V:V+"[]",v(U))}),!1}return Dh(j)?!0:(e.append(gf(rt,V,s),v(j)),!1)}const w=[],P=Object.assign(wC,{defaultVisitor:b,convertValue:v,isVisitable:Dh});function O(j,V){if(!vt.isUndefined(j)){if(w.indexOf(j)!==-1)throw Error("Circular reference detected in "+V.join("."));w.push(j),vt.forEach(j,function(ht,ct){(!(vt.isUndefined(ht)||ht===null)&&h.call(e,ht,vt.isString(ct)?ct.trim():ct,V,P))===!0&&O(ht,V?V.concat(ct):[ct])}),w.pop()}}if(!vt.isObject(t))throw new TypeError("data must be an object");return O(t),e}function yf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function Ed(t,e){this._pairs=[],t&&Ku(t,this,e)}const mg=Ed.prototype;mg.append=function(e,i){this._pairs.push([e,i])};mg.toString=function(e){const i=e?function(o){return e.call(this,o,yf)}:yf;return this._pairs.map(function(h){return i(h[0])+"="+i(h[1])},"").join("&")};function LC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _g(t,e,i){if(!e)return t;const o=i&&i.encode||LC,h=i&&i.serialize;let s;if(h?s=h(e,i):s=vt.isURLSearchParams(e)?e.toString():new Ed(e,i).toString(o),s){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class vf{constructor(){this.handlers=[]}use(e,i,o){return this.handlers.push({fulfilled:e,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vt.forEach(this.handlers,function(o){o!==null&&e(o)})}}const gg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CC=typeof URLSearchParams<"u"?URLSearchParams:Ed,kC=typeof FormData<"u"?FormData:null,EC=typeof Blob<"u"?Blob:null,MC={isBrowser:!0,classes:{URLSearchParams:CC,FormData:kC,Blob:EC},protocols:["http","https","file","blob","url","data"]},Md=typeof window<"u"&&typeof document<"u",Ih=typeof navigator=="object"&&navigator||void 0,PC=Md&&(!Ih||["ReactNative","NativeScript","NS"].indexOf(Ih.product)<0),SC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BC=Md&&window.location.href||"http://localhost",TC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Md,hasStandardBrowserEnv:PC,hasStandardBrowserWebWorkerEnv:SC,navigator:Ih,origin:BC},Symbol.toStringTag,{value:"Module"})),oi={...TC,...MC};function AC(t,e){return Ku(t,new oi.classes.URLSearchParams,Object.assign({visitor:function(i,o,h,s){return oi.isNode&&vt.isBuffer(i)?(this.append(o,i.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function OC(t){return vt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function RC(t){const e={},i=Object.keys(t);let o;const h=i.length;let s;for(o=0;o<h;o++)s=i[o],e[s]=t[s];return e}function yg(t){function e(i,o,h,s){let u=i[s++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),_=s>=i.length;return u=!u&&vt.isArray(h)?h.length:u,_?(vt.hasOwnProp(h,u)?h[u]=[h[u],o]:h[u]=o,!f):((!h[u]||!vt.isObject(h[u]))&&(h[u]=[]),e(i,o,h[u],s)&&vt.isArray(h[u])&&(h[u]=RC(h[u])),!f)}if(vt.isFormData(t)&&vt.isFunction(t.entries)){const i={};return vt.forEachEntry(t,(o,h)=>{e(OC(o),h,i,0)}),i}return null}function DC(t,e,i){if(vt.isString(t))try{return(e||JSON.parse)(t),vt.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(t)}const el={transitional:gg,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){const o=i.getContentType()||"",h=o.indexOf("application/json")>-1,s=vt.isObject(e);if(s&&vt.isHTMLForm(e)&&(e=new FormData(e)),vt.isFormData(e))return h?JSON.stringify(yg(e)):e;if(vt.isArrayBuffer(e)||vt.isBuffer(e)||vt.isStream(e)||vt.isFile(e)||vt.isBlob(e)||vt.isReadableStream(e))return e;if(vt.isArrayBufferView(e))return e.buffer;if(vt.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(s){if(o.indexOf("application/x-www-form-urlencoded")>-1)return AC(e,this.formSerializer).toString();if((f=vt.isFileList(e))||o.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return Ku(f?{"files[]":e}:e,_&&new _,this.formSerializer)}}return s||h?(i.setContentType("application/json",!1),DC(e)):e}],transformResponse:[function(e){const i=this.transitional||el.transitional,o=i&&i.forcedJSONParsing,h=this.responseType==="json";if(vt.isResponse(e)||vt.isReadableStream(e))return e;if(e&&vt.isString(e)&&(o&&!this.responseType||h)){const u=!(i&&i.silentJSONParsing)&&h;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?Le.from(f,Le.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oi.classes.FormData,Blob:oi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vt.forEach(["delete","get","head","post","put","patch"],t=>{el.headers[t]={}});const IC=vt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FC=t=>{const e={};let i,o,h;return t&&t.split(`
`).forEach(function(u){h=u.indexOf(":"),i=u.substring(0,h).trim().toLowerCase(),o=u.substring(h+1).trim(),!(!i||e[i]&&IC[i])&&(i==="set-cookie"?e[i]?e[i].push(o):e[i]=[o]:e[i]=e[i]?e[i]+", "+o:o)}),e},bf=Symbol("internals");function da(t){return t&&String(t).trim().toLowerCase()}function ou(t){return t===!1||t==null?t:vt.isArray(t)?t.map(ou):String(t)}function jC(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(t);)e[o[1]]=o[2];return e}const NC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ah(t,e,i,o,h){if(vt.isFunction(o))return o.call(this,e,i);if(h&&(e=i),!!vt.isString(e)){if(vt.isString(o))return e.indexOf(o)!==-1;if(vt.isRegExp(o))return o.test(e)}}function zC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,o)=>i.toUpperCase()+o)}function VC(t,e){const i=vt.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+i,{value:function(h,s,u){return this[o].call(this,e,h,s,u)},configurable:!0})})}class si{constructor(e){e&&this.set(e)}set(e,i,o){const h=this;function s(f,_,v){const b=da(_);if(!b)throw new Error("header name must be a non-empty string");const w=vt.findKey(h,b);(!w||h[w]===void 0||v===!0||v===void 0&&h[w]!==!1)&&(h[w||_]=ou(f))}const u=(f,_)=>vt.forEach(f,(v,b)=>s(v,b,_));if(vt.isPlainObject(e)||e instanceof this.constructor)u(e,i);else if(vt.isString(e)&&(e=e.trim())&&!NC(e))u(FC(e),i);else if(vt.isHeaders(e))for(const[f,_]of e.entries())s(_,f,o);else e!=null&&s(i,e,o);return this}get(e,i){if(e=da(e),e){const o=vt.findKey(this,e);if(o){const h=this[o];if(!i)return h;if(i===!0)return jC(h);if(vt.isFunction(i))return i.call(this,h,o);if(vt.isRegExp(i))return i.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=da(e),e){const o=vt.findKey(this,e);return!!(o&&this[o]!==void 0&&(!i||ah(this,this[o],o,i)))}return!1}delete(e,i){const o=this;let h=!1;function s(u){if(u=da(u),u){const f=vt.findKey(o,u);f&&(!i||ah(o,o[f],f,i))&&(delete o[f],h=!0)}}return vt.isArray(e)?e.forEach(s):s(e),h}clear(e){const i=Object.keys(this);let o=i.length,h=!1;for(;o--;){const s=i[o];(!e||ah(this,this[s],s,e,!0))&&(delete this[s],h=!0)}return h}normalize(e){const i=this,o={};return vt.forEach(this,(h,s)=>{const u=vt.findKey(o,s);if(u){i[u]=ou(h),delete i[s];return}const f=e?zC(s):String(s).trim();f!==s&&delete i[s],i[f]=ou(h),o[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return vt.forEach(this,(o,h)=>{o!=null&&o!==!1&&(i[h]=e&&vt.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const o=new this(e);return i.forEach(h=>o.set(h)),o}static accessor(e){const o=(this[bf]=this[bf]={accessors:{}}).accessors,h=this.prototype;function s(u){const f=da(u);o[f]||(VC(h,u),o[f]=!0)}return vt.isArray(e)?e.forEach(s):s(e),this}}si.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);vt.reduceDescriptors(si.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[i]=o}}});vt.freezeMethods(si);function lh(t,e){const i=this||el,o=e||i,h=si.from(o.headers);let s=o.data;return vt.forEach(t,function(f){s=f.call(i,s,h.normalize(),e?e.status:void 0)}),h.normalize(),s}function vg(t){return!!(t&&t.__CANCEL__)}function Ls(t,e,i){Le.call(this,t??"canceled",Le.ERR_CANCELED,e,i),this.name="CanceledError"}vt.inherits(Ls,Le,{__CANCEL__:!0});function bg(t,e,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?t(i):e(new Le("Request failed with status code "+i.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function UC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function GC(t,e){t=t||10;const i=new Array(t),o=new Array(t);let h=0,s=0,u;return e=e!==void 0?e:1e3,function(_){const v=Date.now(),b=o[s];u||(u=v),i[h]=_,o[h]=v;let w=s,P=0;for(;w!==h;)P+=i[w++],w=w%t;if(h=(h+1)%t,h===s&&(s=(s+1)%t),v-u<e)return;const O=b&&v-b;return O?Math.round(P*1e3/O):void 0}}function HC(t,e){let i=0,o=1e3/e,h,s;const u=(v,b=Date.now())=>{i=b,h=null,s&&(clearTimeout(s),s=null),t.apply(null,v)};return[(...v)=>{const b=Date.now(),w=b-i;w>=o?u(v,b):(h=v,s||(s=setTimeout(()=>{s=null,u(h)},o-w)))},()=>h&&u(h)]}const bu=(t,e,i=3)=>{let o=0;const h=GC(50,250);return HC(s=>{const u=s.loaded,f=s.lengthComputable?s.total:void 0,_=u-o,v=h(_),b=u<=f;o=u;const w={loaded:u,total:f,progress:f?u/f:void 0,bytes:_,rate:v||void 0,estimated:v&&f&&b?(f-u)/v:void 0,event:s,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(w)},i)},xf=(t,e)=>{const i=t!=null;return[o=>e[0]({lengthComputable:i,total:t,loaded:o}),e[1]]},wf=t=>(...e)=>vt.asap(()=>t(...e)),$C=oi.hasStandardBrowserEnv?function(){const e=oi.navigator&&/(msie|trident)/i.test(oi.navigator.userAgent),i=document.createElement("a");let o;function h(s){let u=s;return e&&(i.setAttribute("href",u),u=i.href),i.setAttribute("href",u),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return o=h(window.location.href),function(u){const f=vt.isString(u)?h(u):u;return f.protocol===o.protocol&&f.host===o.host}}():function(){return function(){return!0}}(),ZC=oi.hasStandardBrowserEnv?{write(t,e,i,o,h,s){const u=[t+"="+encodeURIComponent(e)];vt.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),vt.isString(o)&&u.push("path="+o),vt.isString(h)&&u.push("domain="+h),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function KC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function xg(t,e){return t&&!qC(e)?KC(t,e):e}const Lf=t=>t instanceof si?{...t}:t;function ko(t,e){e=e||{};const i={};function o(v,b,w){return vt.isPlainObject(v)&&vt.isPlainObject(b)?vt.merge.call({caseless:w},v,b):vt.isPlainObject(b)?vt.merge({},b):vt.isArray(b)?b.slice():b}function h(v,b,w){if(vt.isUndefined(b)){if(!vt.isUndefined(v))return o(void 0,v,w)}else return o(v,b,w)}function s(v,b){if(!vt.isUndefined(b))return o(void 0,b)}function u(v,b){if(vt.isUndefined(b)){if(!vt.isUndefined(v))return o(void 0,v)}else return o(void 0,b)}function f(v,b,w){if(w in e)return o(v,b);if(w in t)return o(void 0,v)}const _={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(v,b)=>h(Lf(v),Lf(b),!0)};return vt.forEach(Object.keys(Object.assign({},t,e)),function(b){const w=_[b]||h,P=w(t[b],e[b],b);vt.isUndefined(P)&&w!==f||(i[b]=P)}),i}const wg=t=>{const e=ko({},t);let{data:i,withXSRFToken:o,xsrfHeaderName:h,xsrfCookieName:s,headers:u,auth:f}=e;e.headers=u=si.from(u),e.url=_g(xg(e.baseURL,e.url),t.params,t.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let _;if(vt.isFormData(i)){if(oi.hasStandardBrowserEnv||oi.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((_=u.getContentType())!==!1){const[v,...b]=_?_.split(";").map(w=>w.trim()).filter(Boolean):[];u.setContentType([v||"multipart/form-data",...b].join("; "))}}if(oi.hasStandardBrowserEnv&&(o&&vt.isFunction(o)&&(o=o(e)),o||o!==!1&&$C(e.url))){const v=h&&s&&ZC.read(s);v&&u.set(h,v)}return e},WC=typeof XMLHttpRequest<"u",JC=WC&&function(t){return new Promise(function(i,o){const h=wg(t);let s=h.data;const u=si.from(h.headers).normalize();let{responseType:f,onUploadProgress:_,onDownloadProgress:v}=h,b,w,P,O,j;function V(){O&&O(),j&&j(),h.cancelToken&&h.cancelToken.unsubscribe(b),h.signal&&h.signal.removeEventListener("abort",b)}let rt=new XMLHttpRequest;rt.open(h.method.toUpperCase(),h.url,!0),rt.timeout=h.timeout;function ht(){if(!rt)return;const U=si.from("getAllResponseHeaders"in rt&&rt.getAllResponseHeaders()),gt={data:!f||f==="text"||f==="json"?rt.responseText:rt.response,status:rt.status,statusText:rt.statusText,headers:U,config:t,request:rt};bg(function(jt){i(jt),V()},function(jt){o(jt),V()},gt),rt=null}"onloadend"in rt?rt.onloadend=ht:rt.onreadystatechange=function(){!rt||rt.readyState!==4||rt.status===0&&!(rt.responseURL&&rt.responseURL.indexOf("file:")===0)||setTimeout(ht)},rt.onabort=function(){rt&&(o(new Le("Request aborted",Le.ECONNABORTED,t,rt)),rt=null)},rt.onerror=function(){o(new Le("Network Error",Le.ERR_NETWORK,t,rt)),rt=null},rt.ontimeout=function(){let et=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const gt=h.transitional||gg;h.timeoutErrorMessage&&(et=h.timeoutErrorMessage),o(new Le(et,gt.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,rt)),rt=null},s===void 0&&u.setContentType(null),"setRequestHeader"in rt&&vt.forEach(u.toJSON(),function(et,gt){rt.setRequestHeader(gt,et)}),vt.isUndefined(h.withCredentials)||(rt.withCredentials=!!h.withCredentials),f&&f!=="json"&&(rt.responseType=h.responseType),v&&([P,j]=bu(v,!0),rt.addEventListener("progress",P)),_&&rt.upload&&([w,O]=bu(_),rt.upload.addEventListener("progress",w),rt.upload.addEventListener("loadend",O)),(h.cancelToken||h.signal)&&(b=U=>{rt&&(o(!U||U.type?new Ls(null,t,rt):U),rt.abort(),rt=null)},h.cancelToken&&h.cancelToken.subscribe(b),h.signal&&(h.signal.aborted?b():h.signal.addEventListener("abort",b)));const ct=UC(h.url);if(ct&&oi.protocols.indexOf(ct)===-1){o(new Le("Unsupported protocol "+ct+":",Le.ERR_BAD_REQUEST,t));return}rt.send(s||null)})},YC=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let o=new AbortController,h;const s=function(v){if(!h){h=!0,f();const b=v instanceof Error?v:this.reason;o.abort(b instanceof Le?b:new Ls(b instanceof Error?b.message:b))}};let u=e&&setTimeout(()=>{u=null,s(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const f=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(v=>{v.unsubscribe?v.unsubscribe(s):v.removeEventListener("abort",s)}),t=null)};t.forEach(v=>v.addEventListener("abort",s));const{signal:_}=o;return _.unsubscribe=()=>vt.asap(f),_}},XC=function*(t,e){let i=t.byteLength;if(!e||i<e){yield t;return}let o=0,h;for(;o<i;)h=o+e,yield t.slice(o,h),o=h},QC=async function*(t,e){for await(const i of tk(t))yield*XC(i,e)},tk=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:i,value:o}=await e.read();if(i)break;yield o}}finally{await e.cancel()}},Cf=(t,e,i,o)=>{const h=QC(t,e);let s=0,u,f=_=>{u||(u=!0,o&&o(_))};return new ReadableStream({async pull(_){try{const{done:v,value:b}=await h.next();if(v){f(),_.close();return}let w=b.byteLength;if(i){let P=s+=w;i(P)}_.enqueue(new Uint8Array(b))}catch(v){throw f(v),v}},cancel(_){return f(_),h.return()}},{highWaterMark:2})},Wu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Lg=Wu&&typeof ReadableStream=="function",ek=Wu&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Cg=(t,...e)=>{try{return!!t(...e)}catch{return!1}},nk=Lg&&Cg(()=>{let t=!1;const e=new Request(oi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),kf=64*1024,Fh=Lg&&Cg(()=>vt.isReadableStream(new Response("").body)),xu={stream:Fh&&(t=>t.body)};Wu&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!xu[e]&&(xu[e]=vt.isFunction(t[e])?i=>i[e]():(i,o)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,o)})})})(new Response);const ik=async t=>{if(t==null)return 0;if(vt.isBlob(t))return t.size;if(vt.isSpecCompliantForm(t))return(await new Request(oi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(vt.isArrayBufferView(t)||vt.isArrayBuffer(t))return t.byteLength;if(vt.isURLSearchParams(t)&&(t=t+""),vt.isString(t))return(await ek(t)).byteLength},rk=async(t,e)=>{const i=vt.toFiniteNumber(t.getContentLength());return i??ik(e)},ok=Wu&&(async t=>{let{url:e,method:i,data:o,signal:h,cancelToken:s,timeout:u,onDownloadProgress:f,onUploadProgress:_,responseType:v,headers:b,withCredentials:w="same-origin",fetchOptions:P}=wg(t);v=v?(v+"").toLowerCase():"text";let O=YC([h,s&&s.toAbortSignal()],u),j;const V=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let rt;try{if(_&&nk&&i!=="get"&&i!=="head"&&(rt=await rk(b,o))!==0){let gt=new Request(e,{method:"POST",body:o,duplex:"half"}),Bt;if(vt.isFormData(o)&&(Bt=gt.headers.get("content-type"))&&b.setContentType(Bt),gt.body){const[jt,Dt]=xf(rt,bu(wf(_)));o=Cf(gt.body,kf,jt,Dt)}}vt.isString(w)||(w=w?"include":"omit");const ht="credentials"in Request.prototype;j=new Request(e,{...P,signal:O,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:ht?w:void 0});let ct=await fetch(j);const U=Fh&&(v==="stream"||v==="response");if(Fh&&(f||U&&V)){const gt={};["status","statusText","headers"].forEach(Ct=>{gt[Ct]=ct[Ct]});const Bt=vt.toFiniteNumber(ct.headers.get("content-length")),[jt,Dt]=f&&xf(Bt,bu(wf(f),!0))||[];ct=new Response(Cf(ct.body,kf,jt,()=>{Dt&&Dt(),V&&V()}),gt)}v=v||"text";let et=await xu[vt.findKey(xu,v)||"text"](ct,t);return!U&&V&&V(),await new Promise((gt,Bt)=>{bg(gt,Bt,{data:et,headers:si.from(ct.headers),status:ct.status,statusText:ct.statusText,config:t,request:j})})}catch(ht){throw V&&V(),ht&&ht.name==="TypeError"&&/fetch/i.test(ht.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,t,j),{cause:ht.cause||ht}):Le.from(ht,ht&&ht.code,t,j)}}),jh={http:bC,xhr:JC,fetch:ok};vt.forEach(jh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ef=t=>`- ${t}`,sk=t=>vt.isFunction(t)||t===null||t===!1,kg={getAdapter:t=>{t=vt.isArray(t)?t:[t];const{length:e}=t;let i,o;const h={};for(let s=0;s<e;s++){i=t[s];let u;if(o=i,!sk(i)&&(o=jh[(u=String(i)).toLowerCase()],o===void 0))throw new Le(`Unknown adapter '${u}'`);if(o)break;h[u||"#"+s]=o}if(!o){const s=Object.entries(h).map(([f,_])=>`adapter ${f} `+(_===!1?"is not supported by the environment":"is not available in the build"));let u=e?s.length>1?`since :
`+s.map(Ef).join(`
`):" "+Ef(s[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o},adapters:jh};function uh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ls(null,t)}function Mf(t){return uh(t),t.headers=si.from(t.headers),t.data=lh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kg.getAdapter(t.adapter||el.adapter)(t).then(function(o){return uh(t),o.data=lh.call(t,t.transformResponse,o),o.headers=si.from(o.headers),o},function(o){return vg(o)||(uh(t),o&&o.response&&(o.response.data=lh.call(t,t.transformResponse,o.response),o.response.headers=si.from(o.response.headers))),Promise.reject(o)})}const Eg="1.7.7",Pd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pd[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const Pf={};Pd.transitional=function(e,i,o){function h(s,u){return"[Axios v"+Eg+"] Transitional option '"+s+"'"+u+(o?". "+o:"")}return(s,u,f)=>{if(e===!1)throw new Le(h(u," has been removed"+(i?" in "+i:"")),Le.ERR_DEPRECATED);return i&&!Pf[u]&&(Pf[u]=!0,console.warn(h(u," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(s,u,f):!0}};function ak(t,e,i){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let h=o.length;for(;h-- >0;){const s=o[h],u=e[s];if(u){const f=t[s],_=f===void 0||u(f,s,t);if(_!==!0)throw new Le("option "+s+" must be "+_,Le.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Le("Unknown option "+s,Le.ERR_BAD_OPTION)}}const Nh={assertOptions:ak,validators:Pd},Rr=Nh.validators;class wo{constructor(e){this.defaults=e,this.interceptors={request:new vf,response:new vf}}async request(e,i){try{return await this._request(e,i)}catch(o){if(o instanceof Error){let h;Error.captureStackTrace?Error.captureStackTrace(h={}):h=new Error;const s=h.stack?h.stack.replace(/^.+\n/,""):"";try{o.stack?s&&!String(o.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+s):o.stack=s}catch{}}throw o}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=ko(this.defaults,i);const{transitional:o,paramsSerializer:h,headers:s}=i;o!==void 0&&Nh.assertOptions(o,{silentJSONParsing:Rr.transitional(Rr.boolean),forcedJSONParsing:Rr.transitional(Rr.boolean),clarifyTimeoutError:Rr.transitional(Rr.boolean)},!1),h!=null&&(vt.isFunction(h)?i.paramsSerializer={serialize:h}:Nh.assertOptions(h,{encode:Rr.function,serialize:Rr.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let u=s&&vt.merge(s.common,s[i.method]);s&&vt.forEach(["delete","get","head","post","put","patch","common"],j=>{delete s[j]}),i.headers=si.concat(u,s);const f=[];let _=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(i)===!1||(_=_&&V.synchronous,f.unshift(V.fulfilled,V.rejected))});const v=[];this.interceptors.response.forEach(function(V){v.push(V.fulfilled,V.rejected)});let b,w=0,P;if(!_){const j=[Mf.bind(this),void 0];for(j.unshift.apply(j,f),j.push.apply(j,v),P=j.length,b=Promise.resolve(i);w<P;)b=b.then(j[w++],j[w++]);return b}P=f.length;let O=i;for(w=0;w<P;){const j=f[w++],V=f[w++];try{O=j(O)}catch(rt){V.call(this,rt);break}}try{b=Mf.call(this,O)}catch(j){return Promise.reject(j)}for(w=0,P=v.length;w<P;)b=b.then(v[w++],v[w++]);return b}getUri(e){e=ko(this.defaults,e);const i=xg(e.baseURL,e.url);return _g(i,e.params,e.paramsSerializer)}}vt.forEach(["delete","get","head","options"],function(e){wo.prototype[e]=function(i,o){return this.request(ko(o||{},{method:e,url:i,data:(o||{}).data}))}});vt.forEach(["post","put","patch"],function(e){function i(o){return function(s,u,f){return this.request(ko(f||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}wo.prototype[e]=i(),wo.prototype[e+"Form"]=i(!0)});class Sd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(s){i=s});const o=this;this.promise.then(h=>{if(!o._listeners)return;let s=o._listeners.length;for(;s-- >0;)o._listeners[s](h);o._listeners=null}),this.promise.then=h=>{let s;const u=new Promise(f=>{o.subscribe(f),s=f}).then(h);return u.cancel=function(){o.unsubscribe(s)},u},e(function(s,u,f){o.reason||(o.reason=new Ls(s,u,f),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=o=>{e.abort(o)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new Sd(function(h){e=h}),cancel:e}}}function lk(t){return function(i){return t.apply(null,i)}}function uk(t){return vt.isObject(t)&&t.isAxiosError===!0}const zh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zh).forEach(([t,e])=>{zh[e]=t});function Mg(t){const e=new wo(t),i=rg(wo.prototype.request,e);return vt.extend(i,wo.prototype,e,{allOwnKeys:!0}),vt.extend(i,e,null,{allOwnKeys:!0}),i.create=function(h){return Mg(ko(t,h))},i}const xn=Mg(el);xn.Axios=wo;xn.CanceledError=Ls;xn.CancelToken=Sd;xn.isCancel=vg;xn.VERSION=Eg;xn.toFormData=Ku;xn.AxiosError=Le;xn.Cancel=xn.CanceledError;xn.all=function(e){return Promise.all(e)};xn.spread=lk;xn.isAxiosError=uk;xn.mergeConfig=ko;xn.AxiosHeaders=si;xn.formToJSON=t=>yg(vt.isHTMLForm(t)?new FormData(t):t);xn.getAdapter=kg.getAdapter;xn.HttpStatusCode=zh;xn.default=xn;var ck={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const{url:hk,project_token:dk}=ck,kn=xn.create({baseURL:hk,params:{project_token:dk}});class Jn{static getTaxonNameCitations(e,i){return kn.get(`/taxon_names/${e}/inventory/catalog`,i)}static getOtu(e){return kn.get(`/otus/${e}`,{params:{extend:["parents"]}})}static getOtus(e){return kn.get("/otus.json",{params:e})}static getTaxon(e,i){return kn.get(`/taxon_names/${e}`,i)}static summary(e,i){return kn.get(`/taxon_names/${e}/inventory/summary`,i)}static getTaxonTypeDesignation(e){return kn.get(`/taxon_names/${e}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(e,i){return kn.get(`/otus/${e}/inventory/images.json`,i)}static getTaxonomy(e,i){return kn.get(`/otus/${e}/inventory/taxonomy.json`,i)}static getOtuTypeMaterial(e){return kn.get(`/otus/${e}/inventory/type_material.json`)}static getOtuDistribution(e,i={}){return kn.get(`/otus/${e}/inventory/distribution.json`,i)}static getOtuGeoJSONDistribution(e){return kn.get(`/otus/${e}/inventory/distribution.geojson`)}static getCachedMap(e,i){return kn.get(`/cached_maps/${e}`,i)}static getOtuContent(e,i){return kn.get(`/otus/${e}/inventory/content`,i)}static getCachedMap(e){return kn.get(`/cached_maps/${e}`)}static getKeys(e){return kn.get(`/otus/${e}/inventory/keys`)}}const Po=Zr("otuStore",{state:()=>({otu:null,taxon:null,images:null,catalog:{sources:[],stats:{},timeline:[],isLoading:!1},taxonomy:{commonNames:[],synonyms:[]}}),actions:{async loadTaxon(t,{signal:e}){const i=gd(),o=await Promise.all([Jn.getTaxon(t,{params:{extend:["type_taxon_name_relationship"]}}),mr("summary",()=>Jn.summary(t,{signal:e}))]);this.taxon=Object.assign({},...o.map(h=>h.data)),i.setNextAuthorText(this.taxon.full_name_tag+".")},async loadOtu(t,{signal:e}){const i=await Jn.getOtu(t,{signal:e});this.otu=i.data},async loadTaxonomy(t,{signal:e}){const{data:i}=await Jn.getTaxonomy(t,{params:{max_descendants_depth:0,extend:["common_names"]},signal:e});this.taxonomy={commonNames:i.common_names,synonyms:i.nomenclatural_synonyms}},async loadCatalog(t,{signal:e}){this.catalog.isLoading=!0;const i=await mr("taxonomy",()=>Jn.getTaxonNameCitations(t,{signal:e}));this.catalog={...i.data,sources:i.data.sources.map(({cached:o,url:h})=>o.replace(h,`<a href="${h}">${h}</a>`)),isLoading:!1}},async loadInit({otuId:t,controller:e}){Hu().$reset();try{await this.loadOtu(t,e),await this.loadTaxon(this.otu.taxon_name_id,e),await this.loadCatalog(this.otu.taxon_name_id,e),await this.loadTaxonomy(t,e)}catch(o){return Promise.reject(o)}}}});function pk(t,e){return t||(t={}),t._resolver=e,t}function fk(t){return pk(t,"taxon")}function mk(t){return fd({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:t}]})}function Vh(t,e){return!t.length||t.some(i=>e==null?void 0:e.includes(i))}function _k(t,e){return e.split("::").at(2)===t}function gk(t,e){return{type:"Feature",geometry:t,properties:{base:[{type:e}]}}}function yk(t){const e=[],i=[];return t.features.forEach(o=>{const h=o.properties.shape.id,s=o.properties.shape.type;i.includes(o.properties.base.type)||i.push(o.properties.base.type);const u=e.findIndex(f=>f.properties.shape.id===h&&f.properties.shape.type===s);if(u>-1){const f=e[u];f.properties.base.push(o.properties.base),f.properties.target.push(o.properties.target)}else{const f=structuredClone(o);f.properties.base=[f.properties.base],f.properties.target=[f.properties.target],e.push(f)}}),i.sort(),{shapeTypes:i,features:e}}function vk(t){return t.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,e=>e.toUpperCase())}function bk(){const t=Wa(),e=Ja(),i=Jt();vn(e,()=>{i.value=o()},{immediate:!0});function o(){const{children:h}=t.getRoutes().find(s=>s.name==="otus-id");return h.map(({path:s,name:u,meta:f})=>({label:s&&(f.label||vk(s)),path:s,name:u,meta:f}))}return i}const ss=Object.values(Object.assign({}))[0];function xk({taxon:t,otu:e}){const i=Ja(),h={router:Wa(),route:i,taxon:t,otu:e};return{onCreatePage:()=>ss==null?void 0:ss.onCreatePage(h),onSSRCreatePage:()=>ss==null?void 0:ss.onSSRCreatePage(h)}}const wk={class:"p-4 pt-0"},Lk=["href"],Ck={__name:"DataMap",setup(t){const e=Jt(!1),i=Hu();return(o,h)=>{const s=_t("IconJson"),u=_t("VButton"),f=_t("VTableHeaderCell"),_=_t("VTableHeaderRow"),v=_t("VTableHeader"),b=_t("VTableBodyCell"),w=_t("VTableBodyRow"),P=_t("VTableBody"),O=_t("VTable"),j=_t("VModal");return A(),Z("div",null,[X(u,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",title:"Links used to obtain the information present on this page in JSON format.",onClick:h[0]||(h[0]=V=>e.value=!0)},{default:nt(()=>[X(s,{class:"w-4 h-4"}),h[2]||(h[2]=Qt(" Datamap "))]),_:1}),e.value?(A(),wt(j,{key:0,onClose:h[1]||(h[1]=V=>e.value=!1)},{header:nt(()=>h[3]||(h[3]=[$("h3",{class:"font-medium"},"Datamap",-1)])),default:nt(()=>[$("div",wk,[h[6]||(h[6]=$("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1)),X(O,null,{default:nt(()=>[X(v,null,{default:nt(()=>[X(_,null,{default:nt(()=>[X(f,null,{default:nt(()=>h[4]||(h[4]=[Qt(" Request Key ")])),_:1}),X(f,null,{default:nt(()=>h[5]||(h[5]=[Qt(" URL ")])),_:1})]),_:1})]),_:1}),X(P,null,{default:nt(()=>[(A(!0),Z(Ut,null,fe(zt(i).datamap,(V,rt)=>(A(),wt(w,{key:rt},{default:nt(()=>[X(b,{class:"capitalize"},{default:nt(()=>[Qt(Ft(rt.replaceAll(":"," ")),1)]),_:2},1024),X(b,null,{default:nt(()=>[$("a",{href:V},Ft(V),9,Lk)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Rt("",!0)])}}},kk={class:"relative"},Ek={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},Mk={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(t){const e=Jt(!1);return(i,o)=>{const h=_t("router-link");return A(),Z("div",kk,[$("div",null,[$("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:o[0]||(o[0]=s=>e.value=!e.value)},[be(i.$slots,"default"),o[2]||(o[2]=$("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[$("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))]),e.value?(A(),Z("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:o[1]||(o[1]=s=>e.value=!1)})):Rt("",!0),e.value?(A(),Z("div",Ek,[(A(!0),Z(Ut,null,fe(t.list,s=>(A(),wt(h,{key:s.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:s.id}}},{default:nt(()=>[Qt(Ft(s.name||i.key),1)]),_:2},1032,["to"]))),128))])):Rt("",!0)])])}}},Pk={class:"inline-flex items-center flex-wrap"},Sk={class:"inline-flex items-center ml-0 text-sm"},Bk=["innerHTML"],Tk={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(t){return(e,i)=>{const o=_t("IconArrowRight"),h=_t("router-link");return A(),Z("ul",Pk,[(A(!0),Z(Ut,null,fe(t.list,(s,u,f)=>(A(),Z("li",{key:s.id,class:"inline-flex items-center"},[f?(A(),wt(o,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Rt("",!0),s.length===1?(A(),wt(h,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:s[0].id}}},{default:nt(()=>[Qt(Ft(u),1)]),_:2},1032,["to"])):(A(),wt(Mk,{key:2,list:s.map(_=>({..._,name:_.name||u}))},{default:nt(()=>[Qt(Ft(u),1)]),_:2},1032,["list"]))]))),128)),$("li",Sk,[X(o,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),$("span",{innerHTML:t.current.full_name_tag},null,8,Bk)])])}}},Ak={__name:"CommonNames",setup(t){const e=Po(),i=Yt(()=>e.taxonomy.commonNames.map(o=>o.name).join("; "));return(o,h)=>(A(),Z("span",null,Ft(i.value),1))}},Ok={class:"text-1xl capitalize"},Rk={class:"text-xl dark:text-gray-100"},Dk=["title","innerHTML"],Ik={key:0,class:"ml-1 text-red-600",title:"Invalid"},Fk={class:"text-1xl"},jk={__name:"TaxaInfo",setup(t){const e=Po();return(i,o)=>(A(),Z("div",null,[$("h2",Ok,Ft(zt(e).taxon.rank||"Combination"),1),$("h1",Rk,[$("span",null,[$("span",{title:zt(e).taxon.short_status,innerHTML:zt(e).taxon.full_name_tag},null,8,Dk),zt(e).taxon.is_valid?Rt("",!0):(A(),Z("span",Ik," ✕ "))])]),$("h2",Fk,[X(Ak)])]))}};var Nk={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const zk={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(t){const{url:e,project_token:i}=Nk,o=t;function h(){window.open(`${e}/otus/${o.otu.id}/inventory/dwc.csv?project_token=${i}`,"_self")}return(s,u)=>{const f=_t("IconDownload"),_=_t("VButton");return A(),wt(_,{primary:"",class:"text-sm flex items-center",title:"Download DwC Occurrences",onClick:u[0]||(u[0]=()=>{h()})},{default:nt(()=>[X(f,{class:"w-4 h-4 mr-1"}),u[1]||(u[1]=Qt(" DwC "))]),_:1})}}};var Vk={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const Uk={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},Gk={class:"container mx-auto"},Hk={class:"pt-6 pb-6"},$k={class:"flex flex-col-reverse md:flex-row justify-between items-start"},Zk={class:"mt-8 flex justify-between items-end"},qk={class:"flex flex-row gap-2"},Kk={class:"pt-3 pb-4"},Wk={class:"container mx-auto box-border"},Jk={__name:"Index",setup(t){const e=Ja(),i=Wa(),o=Jt(e.params),h=bk(),s=Po(),u=gd();let f=new AbortController;i.afterEach(ct=>{o.value=ct.params});const _=Yt(()=>s.otu),v=Yt(()=>s.taxon),b=Yt(()=>{var ct,U;return((ct=_.value)==null?void 0:ct.id)&&((U=v.value)==null?void 0:U.id)}),w=Yt(()=>h.value.filter(ct=>Vh(ct.meta.rankGroup,v.value.rank_string))),{onCreatePage:P,onSSRCreatePage:O}=xk({taxon:v,otu:_});ad(async()=>{await j(),await O()}),P(),vn(()=>e.params.id,async()=>{f.abort(),f=new AbortController,j()}),On(async()=>{var ct,U;((ct=_.value)==null?void 0:ct.id)!==Number(e.params.id)||!((U=v.value)!=null&&U.id)?await j():rt()}),Ji(()=>{s.$reset(),u.$reset()});async function j(){s.$reset(),u.$reset();try{await s.loadInit({otuId:e.params.id,controller:f}),rt()}catch(ct){ct.name!==Na.CanceledError&&V(ct)}}function V(ct){var U;switch((U=ct==null?void 0:ct.response)==null?void 0:U.status){case 404:i.replace({name:"httpError404"});break;case 500:i.replace({name:"httpError500"});break}}function rt(){fd({title:`${Vk.project_name} - ${v.value.full_name}`}),mk([fk({id:e.fullPath,name:v.value.full_name,scientificName:{name:v.value.full_name,author:v.value.author,taxonRank:v.value.rank},parentTaxon:{name:v.value.parent.full_name,taxonRank:v.value.parent.rank},commonNames:s.taxonomy.commonNames,alternateName:s.taxonomy.synonyms})])}function ht({id:ct,otu_valid_id:U}){i.push({name:"otus-id-overview",params:{id:U||ct}})}return(ct,U)=>{const et=_t("VSkeleton"),gt=_t("Autocomplete"),Bt=_t("ClientOnly"),jt=_t("TabItem"),Dt=_t("TabMenu"),Ct=_t("RouterView");return A(),Z("main",null,[$("div",Uk,[$("div",Gk,[$("div",Hk,[$("div",$k,[X(et,{class:"w-full md:w-3/4"},{default:nt(()=>{var Ot;return[b.value?(A(),wt(Tk,{key:0,class:"w-full md:w-3/4",list:((Ot=_.value)==null?void 0:Ot.parents)||{},current:v.value},null,8,["list","current"])):Rt("",!0)]}),_:1}),X(gt,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:ht})]),$("div",Zk,[X(et,{lines:2,class:"w-96"},{default:nt(()=>[b.value?(A(),wt(jk,{key:0})):Rt("",!0)]),_:1}),$("div",qk,[X(Bt,null,{default:nt(()=>[X(Ck)]),_:1}),b.value?(A(),wt(zk,{key:0,otu:_.value},null,8,["otu"])):Rt("",!0)])])]),b.value&&zt(h).length>1?(A(),wt(Dt,{key:0,class:"m-[-1px] print:hidden"},{default:nt(()=>[(A(!0),Z(Ut,null,fe(w.value,({name:Ot,label:Zt})=>(A(),wt(jt,{key:Ot,to:{name:Ot}},{default:nt(()=>[Qt(Ft(Zt),1)]),_:2},1032,["to"]))),128))]),_:1})):Rt("",!0)])]),$("div",Kk,[$("div",Wk,[b.value?(A(),wt(Ct,{key:zt(e).fullPath,"taxon-id":v.value.id,taxon:v.value,"taxon-rank":v.value.rank_string,"otu-id":_.value.id,otu:_.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Rt("",!0)])])])}}},Yk=["innerHTML"],Xk={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(t){return(e,i)=>{const o=_t("VCardHeader"),h=_t("VCardContent");return A(),Z(Ut,null,[X(o,{class:"border-t border-base-muted first:border-t-0"},{default:nt(()=>[Qt(Ft(t.title),1)]),_:1}),X(h,{class:"panel-content-list"},{default:nt(()=>[(A(!0),Z(Ut,null,fe(t.textList,(s,u)=>(A(),Z("div",{key:u,class:"pt-1 text-sm",innerHTML:s},null,8,Yk))),128))]),_:1})],64)}}},Qk={__name:"PanelContent",props:{otuId:{type:Number,required:!0}},setup(t){const e=t,i=Jt([]),o=new AbortController,h=Yt(()=>i.value.reduce((s,u)=>(s[u.name]?s[u.name].push(u.text):s[u.name]=[u.text],s),{}));return Cm(()=>{mr("panel:content",()=>Jn.getOtuContent(e.otuId,{params:{extend:["depiction"]},signal:o.signal})).then(({data:s})=>{i.value=s}).catch(s=>{})}),Ji(()=>{o.abort()}),(s,u)=>{const f=_t("VCard");return i.value.length?(A(),wt(f,{key:0},{default:nt(()=>[(A(!0),Z(Ut,null,fe(h.value,(_,v)=>(A(),wt(Xk,{key:v,title:v,"text-list":_},null,8,["title","text-list"]))),128))]),_:1})):Rt("",!0)}}},t3={id:"panel:content",component:Qk},e3={class:"synonyms"},n3=["innerHTML"],i3={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(t){const e=t;return(i,o)=>(A(),Z("ul",e3,[(A(!0),Z(Ut,null,fe(e.list,h=>(A(),Z("li",{key:h},[o[0]||(o[0]=$("span",{class:"text-orange-500 mr-1"},"=",-1)),$("span",{innerHTML:h},null,8,n3)]))),128))]))}},r3={key:0,class:"tree"},o3={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(t){const e=t,i=Jt(!!e.taxonomy.descendants.length),o=Jt([...e.taxonomy.descendants]);vn(i,s=>{s&&h()});const h=()=>{o.value.length||Jn.getTaxonomy(e.taxonomy.otu_id,{params:{max_descendants_depth:1}}).then(({data:s})=>{o.value=s.descendants})};return(s,u)=>{const f=_t("button-expand"),_=_t("router-link"),v=_t("AnimationOpacity");return Object.keys(t.taxonomy).length?(A(),Z("li",{key:t.taxonomy.otu_id},[t.taxonomy.leaf_node?Rt("",!0):(A(),wt(f,{key:0,modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=b=>i.value=b),class:"absolute -left-2.5"},null,8,["modelValue"])),X(_,{class:"text-primary-500",to:{name:"otus-id",params:{id:t.taxonomy.otu_id}},innerHTML:t.taxonomy.name},null,8,["to","innerHTML"]),t.taxonomy.nomenclatural_synonyms.length?(A(),wt(i3,{key:1,class:"pb-4",list:t.taxonomy.nomenclatural_synonyms},null,8,["list"])):Rt("",!0),X(v,null,{default:nt(()=>[o.value.length?(A(),Z("ul",r3,[(A(!0),Z(Ut,null,fe(o.value,b=>(A(),wt(v,{key:b.otu_id},{default:nt(()=>[i.value?(A(),wt(Pg,{key:0,taxonomy:b},null,8,["taxonomy"])):Rt("",!0)]),_:2},1024))),128))])):Rt("",!0)]),_:1})])):Rt("",!0)}}},Pg=xe(o3,[["__scopeId","data-v-b79ba271"]]),s3={key:0,class:"p-5 font-normal"},a3={class:"pb-2 text-sm"},l3=["href"],u3={class:"relative"},c3=["innerHTML"],Cs={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(t){const e=t,i=Yt(()=>o.getRequest(e.panelKey)),o=Hu(),h=Jt(!1),s=Yt(()=>[...e.menuOptions,{label:"JSON Data",action:()=>h.value=!0}]);return(u,f)=>{const _=_t("IconHamburger"),v=_t("Dropdown"),b=_t("VClipboard"),w=_t("VModal");return A(),Z(Ut,null,[X(v,{items:s.value},{button:nt(()=>[X(_,{class:"text-base-soft h-4"})]),_:1},8,["items"]),h.value?(A(),wt(w,{key:0,onClose:f[0]||(f[0]=P=>h.value=!1)},{header:nt(()=>f[1]||(f[1]=[$("h3",null,"JSON Data",-1)])),default:nt(()=>[i.value?(A(),Z("div",s3,[$("h3",a3,[f[2]||(f[2]=Qt(" URL: ")),$("a",{href:i.value.url},Ft(i.value.url),9,l3)]),$("div",u3,[$("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(i.value.data,null,4)},null,8,c3),X(b,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(i.value.data,null,2)},null,8,["text"])])])):Rt("",!0)]),_:1})):Rt("",!0)],64)}}},h3={class:"tree ml-2"},d3={key:0},p3={__name:"PanelDescendants",props:{otuId:{type:[String,Number],required:!0}},setup(t){const e=t,i=Jt(null),o=Jt(!1),h=Yt(()=>i.value&&(i.value.nomenclatural_synonyms.length||i.value.descendants.length));return vn(()=>e.otuId,async()=>{e.otuId&&(o.value=!0,mr("panel:descendants",()=>Jn.getTaxonomy(e.otuId,{params:{max_descendants_depth:1}})).then(({data:s})=>{i.value=s}).finally(()=>o.value=!1))},{immediate:!0}),(s,u)=>{const f=_t("VSpinner"),_=_t("ClientOnly"),v=_t("VCardHeader"),b=_t("AnimationOpacity"),w=_t("VCardContent"),P=_t("VCard");return A(),wt(P,null,{default:nt(()=>[X(_,null,{default:nt(()=>[o.value?(A(),wt(f,{key:0,"logo-class":"w-8 h-8",legend:""})):Rt("",!0)]),_:1}),X(v,{class:"flex justify-between"},{default:nt(()=>[u[0]||(u[0]=$("h2",{class:"text-md"},"Descendants and synonyms",-1)),X(Cs,{"panel-key":"panel:descendants"})]),_:1}),X(w,{class:"text-sm"},{default:nt(()=>[$("ul",h3,[X(b,null,{default:nt(()=>[h.value?(A(),wt(Pg,{key:0,taxonomy:i.value},null,8,["taxonomy"])):Rt("",!0)]),_:1})]),!h.value&&!o.value?(A(),Z("span",d3,"No records found.")):Rt("",!0)]),_:1})]),_:1})}}},f3=xe(p3,[["__scopeId","data-v-fd5dad5c"]]),m3={id:"panel:descendants",component:f3};var _3={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const g3=Zr("imageStore",{state:()=>({images:null,controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},async loadImages(t){const e=["image/tiff"],i={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.controller=new AbortController;try{const o=await mr("panel:images",()=>Jn.getOtuImages(t,{params:i,signal:this.controller.signal}));this.images=o.data.map(h=>{var _;const s={...h},{url:u,project_token:f}=_3;return e.includes(s.content_type)&&h.original_png&&(s.original=`${u}/${(_=h.original_png)==null?void 0:_.substring(8)}?project_token=${f}`),s}),this.controller=null}catch(o){o.name!==Na.CanceledError&&(this.controller=null)}}}}),y3={__name:"PanelGallery",props:{otuId:{type:[String,Number],required:!0}},setup(t){const e=t,i=g3(),o=Yt(()=>i.images||[]);return ad(async()=>{await i.loadImages(e.otuId)}),On(()=>{i.images||i.loadImages(e.otuId)}),Ji(()=>{i.resetRequest(),i.$reset()}),(h,s)=>{const u=_t("GalleryImage"),f=_t("VCardContent"),_=_t("VCard");return o.value.length?(A(),wt(_,{key:0},{default:nt(()=>[X(f,null,{default:nt(()=>[X(u,{images:o.value},null,8,["images"])]),_:1})]),_:1})):Rt("",!0)}}},v3={id:"panel:gallery",component:y3,rankGroup:[]},b3={key:0},x3={__name:"PanelKeys",props:{otuId:{type:Object}},setup(t){const e=t,i=new AbortController,o=Jt({to:{},in:{}}),h=Yt(()=>[].concat(...Object.values(o.value)).filter(s=>Object.keys(s).length).length);return On(()=>{const s={otu_id:e.otuId};mr("panel keys",()=>Jn.getKeys(e.otuId,{signal:i.signal,params:s})).then(({data:u})=>{o.value={to:u.observation_matrices.scoped,in:u.observation_matrices.in}}).catch(()=>{})}),Ji(()=>{i==null||i.abort()}),(s,u)=>{const f=_t("VCardHeader"),_=_t("VTableHeaderCell"),v=_t("VTableHeaderRow"),b=_t("VTableHeader"),w=_t("RouterLink"),P=_t("VTableBodyCell"),O=_t("VTableBodyRow"),j=_t("VTableBody"),V=_t("VTable"),rt=_t("VCardContent"),ht=_t("VCard");return h.value?(A(),wt(ht,{key:0},{default:nt(()=>[X(f,null,{default:nt(()=>[Qt("Keys ("+Ft(h.value)+")",1)]),_:1}),X(rt,null,{default:nt(()=>[(A(!0),Z(Ut,null,fe(o.value,(ct,U)=>(A(),Z(Ut,{key:U},[Object.keys(ct).length?(A(),Z("div",b3,[X(V,null,{default:nt(()=>[X(b,null,{default:nt(()=>[X(v,null,{default:nt(()=>[X(_,null,{default:nt(()=>[Qt(Ft(U),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),X(j,null,{default:nt(()=>[(A(!0),Z(Ut,null,fe(ct,(et,gt)=>(A(),wt(O,null,{default:nt(()=>[X(P,null,{default:nt(()=>[X(w,{to:{name:"interactive-keys-id",params:{id:gt}},textContent:Ft(et)},null,8,["to","textContent"])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)])):Rt("",!0)],64))),128))]),_:1})]),_:1})):Rt("",!0)}}},w3={id:"panel:keys",component:x3},L3=Zr("distributionStore",{state:()=>({distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},loadCachedMap(t){Jn.getCachedMap(t,{signal:this.controller.signal}).then(e=>{this.distribution.cachedMap=e.data})},async getAggregateShape(t){mr("panel:map",()=>Jn.getOtuDistribution(t,{signal:this.controller.signal})).then(({data:e})=>{const i=JSON.parse(e.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[gk(i,"Aggregate")]},this.loadCachedMap(e.cached_map.id)}).catch(e=>{e.name!=Na.CanceledError&&(this.distribution.errorMessage=e.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[])})},async loadDistribution({otuId:t,rankString:e}){const i=e&&_k("SpeciesGroup",e);this.controller=new AbortController,i?mr("panel:map",()=>Jn.getOtuGeoJSONDistribution(t,{signal:this.controller.signal})).then(({data:o})=>{if(o.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=o.message;else{const{features:h,shapeTypes:s}=yk(o);this.distribution.currentShapeTypes=s,this.distribution.geojson={features:h}}}).catch(o=>{o.name!==Na.CanceledError&&this.getAggregateShape(t)}):this.getAggregateShape(t)}}});function Sg(t){return{html:`<div class="bg-map-collection-object"><span>${t.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive bg-map-collection-object bg-opacity-60 marker-cluster text-white",iconSize:[40,40]}}function Bg(t){return{html:`
    <div class="relative flex w-[40px] h-[40px]">
      <div class="rounded-l-full bg-map-collection-object bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-l-full bg-map-collection-object ml-[5px] mt-[5px]"></div>
      </div>
      <div class="rounded-r-full bg-map-type-material bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-r-full bg-map-type-material mr-[5px] mt-[5px]"></div>
      </div>
      <span class="absolute text-xs top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white">
        ${t.getChildCount()}
      </span>
    </div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive",iconSize:[40,40]}}function C3(t){return{html:`<div class="bg-map-type-material"><span>${t.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive marker-cluster bg-map-type-material bg-opacity-60 text-white",iconSize:[40,40]}}const k3=Object.freeze(Object.defineProperty({__proto__:null,CollectionObject:Sg,Mixed:Bg,TypeMaterial:C3},Symbol.toStringTag,{value:"Module"}));function E3({L:t,cluster:e}){const i=e.getAllChildMarkers().map(u=>u.feature.properties.base.map(f=>f.type)).flat(),o=[...new Set(i)],h=o.pop(),s=o.length?Bg:k3[h]||Sg;return t.divIcon(s(e))}const Uh={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function M3({popupElement:t,popupItem:e}){return function(){return{onEachFeature:(i,o)=>{o.pm.setOptions(Uh),o.pm.disable(),o.on("popupopen",()=>e.value=i.properties),o.on("popupclose",()=>e.value=null),o.bindPopup(t.value,{minWidth:400,maxWidth:400})}}}}function Tg({popupElement:t}){const e=Jt(null);return{geojsonOptions:Yt(()=>M3({popupElement:t,popupItem:e})),popupItem:e}}const P3={class:"max-h-32 overflow-y-auto text-xs min-w-80"},S3={class:"py-2 last:border-0 truncate border-b",title:"label"},B3=["textContent","onClick"],T3={key:1},Ag={__name:"MapPopup",props:{items:{type:Array,required:!0}},emits:["selected"],setup(t,{emit:e}){const i=e;return(o,h)=>(A(),Z("div",P3,[$("ul",null,[(A(!0),Z(Ut,null,fe(t.items,s=>(A(),Z("li",S3,[s.type===zt(P_)?(A(),Z("span",{key:0,class:"cursor-pointer text-secondary-color",textContent:Ft(s.label),onClick:()=>i("selected",s)},null,8,B3)):(A(),Z("span",T3,Ft(s.label),1))]))),256))])]))}},A3={class:"p-4 pt-0"},O3={key:0,class:"text-success flex text-sm items-center"},R3={key:1,class:"text-warning flex text-sm items-center"},D3={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(t){const e=Jt(!1);return(i,o)=>{const h=_t("IconCheck"),s=_t("IconWarning"),u=_t("VButton"),f=_t("VTableHeaderCell"),_=_t("VTableHeaderRow"),v=_t("VTableHeader"),b=_t("VTableBodyCell"),w=_t("VTableBodyRow"),P=_t("VTableBody"),O=_t("VTable"),j=_t("VModal");return A(),Z(Ut,null,[X(u,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",title:"Cached map",onClick:o[0]||(o[0]=V=>e.value=!0)},{default:nt(()=>[t.cachedMap.synced?(A(),wt(h,{key:0,class:"w-4 h-4"})):(A(),wt(s,{key:1,class:"w-4 h-4"}))]),_:1}),e.value?(A(),wt(j,{key:0,onClose:o[1]||(o[1]=()=>e.value=!1)},{header:nt(()=>o[2]||(o[2]=[$("h3",{class:"font-medium"},"Cached map",-1)])),default:nt(()=>[$("div",A3,[X(O,null,{default:nt(()=>[X(v,null,{default:nt(()=>[X(_,null,{default:nt(()=>[X(f,null,{default:nt(()=>o[3]||(o[3]=[Qt("Data")])),_:1}),X(f)]),_:1})]),_:1}),X(P,null,{default:nt(()=>[X(w,null,{default:nt(()=>[X(b,null,{default:nt(()=>o[4]||(o[4]=[Qt(" Is synced ")])),_:1}),X(b,null,{default:nt(()=>[t.cachedMap.synced?(A(),Z("p",O3,[X(h,{class:"w-4 h-4"}),o[5]||(o[5]=$("span",{class:"ml-1"}," Map is synchronized with the latest changes * ",-1))])):(A(),Z("p",R3,[X(s,{class:"w-4 h-4"}),o[6]||(o[6]=$("span",{class:"ml-1"}," Map is not synchronized with the latest changes * ",-1))]))]),_:1})]),_:1}),X(w,null,{default:nt(()=>[X(b,null,{default:nt(()=>o[7]||(o[7]=[Qt(" Last update ")])),_:1}),X(b,null,{default:nt(()=>[Qt(Ft(new Date(t.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),X(v,null,{default:nt(()=>[X(_,null,{default:nt(()=>[X(f,null,{default:nt(()=>o[8]||(o[8]=[Qt("Source")])),_:1}),X(f,null,{default:nt(()=>o[9]||(o[9]=[Qt("Total")])),_:1})]),_:1})]),_:1}),X(P,null,{default:nt(()=>[(A(!0),Z(Ut,null,fe(t.cachedMap.source_scope,(V,rt)=>(A(),wt(w,{key:rt},{default:nt(()=>[X(b,{class:"capitalize"},{default:nt(()=>[Qt(Ft(rt.replaceAll("_"," ")),1)]),_:2},1024),X(b,null,{default:nt(()=>[Qt(Ft(V),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),o[10]||(o[10]=$("p",{class:"italic text-xs pt-4"}," * Aggregate maps are generated from georeference and asserted distribution data. Map computation takes time, and as such they are re-calculated periodically rather than when individual georeferences and asserted distributions are created, destroyed, or updated. When a warning notice is present then the map is not syncronized with the latest changes to the underlying data. ",-1))])]),_:1})):Rt("",!0)],64)}}},I3={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},F3=["innerHTML"],j3={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const i=e;return(o,h)=>{const s=_t("IconClose");return A(),Z("div",I3,[$("div",null,[$("span",{class:"ml-2",innerHTML:t.label},null,8,F3)]),X(s,{class:"cursor-pointer",onClick:h[0]||(h[0]=()=>i("close"))})])}}},N3={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},z3={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(t,{emit:e}){const i=e;return(o,h)=>{const s=_t("IconArrowRight"),u=_t("VTableHeaderCell"),f=_t("VTableHeaderRow"),_=_t("VTableHeader"),v=_t("RouterLink"),b=_t("VTableBodyCell"),w=_t("VTableBodyRow"),P=_t("VTableBody"),O=_t("VTable");return t.list.length?(A(),wt(O,{key:0,class:"shadow-md"},{default:nt(()=>[X(_,null,{default:nt(()=>[X(f,null,{default:nt(()=>[X(u,{class:"w-full flex justify-between box-border items-center"},{default:nt(()=>[$("span",null,"OTU ("+Ft(t.list.length)+")",1),X(s,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:h[0]||(h[0]=j=>i("close:table"))})]),_:1})]),_:1})]),_:1}),X(P,null,{default:nt(()=>[(A(!0),Z(Ut,null,fe(t.list,j=>(A(),wt(w,{key:j.id},{default:nt(()=>[X(b,null,{default:nt(()=>[X(v,{innerHTML:j.object_tag,to:{name:"otus-id",params:{id:j.id}},onClick:h[1]||(h[1]=()=>i("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(A(),Z("div",N3," No OTUs found in this area "))}}},V3={class:"font-medium"},Og={__name:"DwcTable",setup(t,{expose:e}){const i=Jt(!1),o=Jt(!1),h=Jt({}),s=Jt();function u({label:f,id:_}){o.value=!0,i.value=!0,h.value={},s.value=f,kn(`/collection_objects/${_}/dwc`).then(({data:v})=>{h.value=v}).catch(()=>{}).finally(()=>{i.value=!1})}return e({show:u}),(f,_)=>{const v=_t("VTableHeaderCell"),b=_t("VTableHeaderRow"),w=_t("VTableHeader"),P=_t("VTableBodyCell"),O=_t("VTableBodyRow"),j=_t("VTableBody"),V=_t("VTable"),rt=_t("VSpinner"),ht=_t("VModal");return o.value?(A(),wt(ht,{key:0,onClose:_[0]||(_[0]=()=>o.value=!1)},{header:nt(()=>[$("h3",V3,Ft(s.value),1)]),default:nt(()=>[X(V,{class:"p-4 pt-0"},{default:nt(()=>[X(w,null,{default:nt(()=>[X(b,null,{default:nt(()=>[X(v,null,{default:nt(()=>_[1]||(_[1]=[Qt("Field")])),_:1}),X(v,null,{default:nt(()=>_[2]||(_[2]=[Qt("Value")])),_:1})]),_:1})]),_:1}),X(j,null,{default:nt(()=>[(A(!0),Z(Ut,null,fe(h.value,(ct,U)=>(A(),wt(O,{key:U},{default:nt(()=>[X(P,null,{default:nt(()=>[Qt(Ft(U),1)]),_:2},1024),X(P,null,{default:nt(()=>[Qt(Ft(ct),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),i.value?(A(),wt(rt,{key:0})):Rt("",!0)]),_:1})):Rt("",!0)}}},U3={class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},G3={__name:"OtuSearch",props:{shapes:{type:Object,default:()=>[]},otu:{type:Object,default:void 0}},emits:["close"],setup(t,{emit:e}){const i=t,o=e,h=Jt(null),s=Jt(null),u=Jt(null),f=Jt([]),_=Jt(!1),v=Jt(),b=Jt(6),w=Jt(6),{popupItem:P,geojsonOptions:O}=Tg({popupElement:h}),j=Yt(()=>!!i.shapes&&w.value<=b.value);On(()=>{document.addEventListener("keyup",V),document.body.classList.add("overflow-hidden")}),gr(()=>{document.removeEventListener("keyup",V),document.body.classList.remove("overflow-hidden")});const V=({key:et})=>{switch(et){case"Escape":o("close");break}};function rt(et){const gt={geo_json:et,taxon_name_id:[i.otu.taxon_name_id],descendants:!0,per:5e3};v.value=!0,Jn.getOtus(gt).then(({data:Bt})=>{f.value=Bt,_.value=!0}).finally(Bt=>{v.value=!1})}function ht(et){ct(),j.value&&u.value.resizeMap()}function ct(){w.value=u.value.getMapObject().getZoom()}function U(){b.value=u.value.getMapObject().getZoom(),ct()}return(et,gt)=>{const Bt=_t("VSpinner"),jt=_t("VMap");return A(),Z("div",U3,[v.value?(A(),wt(Bt,{key:0})):Rt("",!0),X(j3,{label:t.otu.object_tag,onClose:gt[0]||(gt[0]=()=>o("close"))},null,8,["label"]),$("div",{class:hn(["w-full","h-full","relative",{"disable-zoom-out":j.value}])},[X(jt,{ref_key:"mapRef",ref:u,class:"w-full h-full",controls:"",dragging:!j.value,"zoom-bounds":b.value,geojson:t.shapes,geojsonOptions:zt(O),"onGeojson:ready":U,"onAdd:layer":gt[1]||(gt[1]=Dt=>rt(JSON.stringify(Dt.geometry))),"onEdit:layer":gt[2]||(gt[2]=Dt=>rt(JSON.stringify(Dt.geometry))),"onDrag:layer":gt[3]||(gt[3]=Dt=>rt(JSON.stringify(Dt.geometry))),"onZoom:change":ht,zoom:4},null,8,["dragging","zoom-bounds","geojson","geojsonOptions"]),$("div",{ref_key:"popupElement",ref:h},[zt(P)?(A(),wt(Ag,{key:0,items:zt(P).base,onSelected:s.value.show},null,8,["items","onSelected"])):Rt("",!0)],512),$("div",{class:hn(["h-full","md:w-96","absolute","top-0","bg-base-background","z-[2000]","overflow-auto","ease-in-out","duration-300","w-full",{"md:-right-96 -right-full":!_.value,"right-0":_.value}])},[_.value?(A(),wt(z3,{key:0,list:f.value,onClose:gt[4]||(gt[4]=()=>o("close")),"onClose:table":gt[5]||(gt[5]=()=>_.value=!1)},null,8,["list"])):Rt("",!0)],2)],2),X(Og,{ref_key:"dwcTableRef",ref:s},null,512)])}}},H3=xe(G3,[["__scopeId","data-v-a99dffa5"]]),$3={class:"relative"},Z3={key:0,class:"flex flex-row p-2 text-xs italic"},q3={key:1,class:"flex flex-row p-2 gap-2 text-xs"},K3=2,W3={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0},cluster:{type:Boolean,default:!0}},setup(t){const e=t,i=Jt(!0),o=Jt(!1),h=Jt(null),s=L3(),u=Jt(null),{popupItem:f,geojsonOptions:_}=Tg({popupElement:u}),v={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return On(()=>{i.value=!0,s.loadDistribution({otuId:e.otuId,rankString:e.taxon.rank_string})}),Ji(()=>{s.resetRequest(),s.$reset()}),(b,w)=>{const P=_t("VSpinner"),O=_t("VMap"),j=_t("VButton"),V=_t("ClientOnly"),rt=_t("VCard");return A(),wt(rt,null,{default:nt(()=>[$("div",$3,[X(V,null,{default:nt(()=>[i.value?(A(),wt(P,{key:0})):Rt("",!0),X(O,{class:"h-96 max-h-96",dragging:"",cluster:t.cluster,zoom:K3,"zoom-bounds":8,geojson:zt(s).distribution.geojson,"cluster-icon-create-function":zt(E3),"geojson-options":zt(_),"onGeojson:ready":w[0]||(w[0]=()=>i.value=!1)},null,8,["cluster","geojson","cluster-icon-create-function","geojson-options"]),$("div",{ref_key:"popupElement",ref:u},[zt(f)?(A(),wt(Ag,{key:0,items:zt(f).base,onSelected:h.value.show},null,8,["items","onSelected"])):Rt("",!0)],512),X(j,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:w[1]||(w[1]=()=>o.value=!0)},{default:nt(()=>w[3]||(w[3]=[Qt(" Search ")])),_:1}),o.value?(A(),wt(H3,{key:1,otu:t.otu,shapes:zt(s).distribution.geojson,onClose:w[2]||(w[2]=()=>o.value=!1)},null,8,["otu","shapes"])):Rt("",!0),zt(s).distribution.cachedMap?(A(),wt(D3,{key:2,"cached-map":zt(s).distribution.cachedMap},null,8,["cached-map"])):Rt("",!0)]),_:1})]),zt(s).distribution.errorMessage?(A(),Z("div",Z3," * "+Ft(zt(s).distribution.errorMessage),1)):Rt("",!0),zt(s).distribution.currentShapeTypes.length?(A(),Z("div",q3,[(A(!0),Z(Ut,null,fe(zt(s).distribution.currentShapeTypes,ht=>(A(),Z("div",{key:ht,class:"flex flex-row items-center"},[$("div",{class:hn(["w-3","h-3","m-1","rounded-sm",v[ht].background])},null,2),$("span",null,Ft(v[ht].label),1)]))),128))])):Rt("",!0),X(Og,{ref_key:"dwcTableRef",ref:h},null,512)]),_:1})}}},J3={id:"panel:map",component:W3};function Rg(t,e){const i=t.slice(),o=i.splice(0,e),h=i.splice(-e);return{first:o,middle:i,last:h}}const Y3={class:"border-b border-base-muted p-3 px-5"},X3=["title","innerHTML"],Q3=["innerHTML"],ch={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(t){return(e,i)=>(A(),Z("li",Y3,[$("span",{class:"break-all block",title:t.citation.label,innerHTML:t.citation.label},null,8,X3),t.citation.type_label?(A(),Z("p",{key:0,class:"ml-4 text-base-soft",innerHTML:t.citation.type_label},null,8,Q3)):Rt("",!0)]))}},tE={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},Dg={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(t){return(e,i)=>{const o=_t("IconPlusCircle");return A(),Z("li",tE,[$("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:i[0]||(i[0]=()=>e.isExpanded=!e.isExpanded)},[X(o,{class:"h-5 w-5"})]),$("span",null,"... Show all ... ("+Ft(t.count)+")",1)])}}},eE={class:"text-md"},nE={class:"text-sm"},iE={class:"text-sm"},rE={class:"text-sm"},oE=2,sE={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const e=Po(),i=Jt(!1),o=Yt(()=>Rg(e.catalog.timeline,oE)),h=Yt(()=>[{label:i.value?"Show less":"Show all",action:()=>i.value=!i.value}]);return(s,u)=>{const f=_t("VSpinner"),_=_t("VCardHeader"),v=_t("AnimationOpacity"),b=_t("VCard");return A(),wt(b,null,{default:nt(()=>[zt(e).catalog.isLoading?(A(),wt(f,{key:0,"logo-class":"w-8 h-8",legend:""})):Rt("",!0),X(_,{class:"flex justify-between"},{default:nt(()=>[$("h2",eE," Nomenclature ("+Ft(zt(e).catalog.timeline.length)+") ",1),X(Cs,{"menu-options":h.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),$("ul",nE,[(A(!0),Z(Ut,null,fe(o.value.first,w=>(A(),wt(ch,{key:w.label,citation:w},null,8,["citation"]))),128)),!i.value&&o.value.middle.length?(A(),wt(Dg,{key:0,count:o.value.middle.length,onClick:u[0]||(u[0]=w=>i.value=!0)},null,8,["count"])):Rt("",!0)]),X(v,null,{default:nt(()=>[An($("ul",iE,[(A(!0),Z(Ut,null,fe(o.value.middle,w=>(A(),wt(ch,{key:w.label,citation:w},null,8,["citation"]))),128))],512),[[Ou,i.value]])]),_:1}),$("ul",rE,[(A(!0),Z(Ut,null,fe(o.value.last,w=>(A(),wt(ch,{key:w.label,citation:w},null,8,["citation"]))),128))])]),_:1})}}},aE={id:"panel:nomenclature",component:sE},lE={class:"border-b border-base-muted p-3 px-5"},uE=["title","innerHTML"],hh={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(t){return(e,i)=>(A(),Z("li",lE,[$("span",{class:"[&>a]:break-all block",title:t.reference,innerHTML:t.reference},null,8,uE)]))}},cE={class:"text-md"},hE={class:"text-sm"},dE=2,pE={__name:"PanelNomenclatureReferences",setup(t){const e=Po(),i=Jt(!1),o=Yt(()=>Rg(e.catalog.sources,dE)),h=Yt(()=>[{label:i.value?"Show less":"Show all",action:()=>i.value=!i.value}]);return(s,u)=>{const f=_t("VSpinner"),_=_t("VCardHeader"),v=_t("AnimationOpacity"),b=_t("VCard");return A(),wt(b,null,{default:nt(()=>[zt(e).catalog.isLoading?(A(),wt(f,{key:0,"logo-class":"w-8 h-8",legend:""})):Rt("",!0),X(_,{class:"flex justify-between"},{default:nt(()=>[$("h2",cE," Nomenclature references ("+Ft(zt(e).catalog.sources.length)+") ",1),X(Cs,{"menu-options":h.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),$("ul",hE,[(A(!0),Z(Ut,null,fe(o.value.first,w=>(A(),wt(hh,{key:w,reference:w},null,8,["reference"]))),128)),!i.value&&o.value.middle.length?(A(),wt(Dg,{key:0,count:o.value.middle.length,onClick:u[0]||(u[0]=w=>i.value=!0)},null,8,["count"])):Rt("",!0),X(v,null,{default:nt(()=>[An($("div",null,[(A(!0),Z(Ut,null,fe(o.value.middle,w=>(A(),wt(hh,{key:w,reference:w},null,8,["reference"]))),128))],512),[[Ou,i.value]])]),_:1}),(A(!0),Z(Ut,null,fe(o.value.last,w=>(A(),wt(hh,{key:w,reference:w},null,8,["reference"]))),128))])]),_:1})}}},fE={id:"panel:nomenclature-references",component:pE},mE={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const e=Po(),i=Jt(!1),o=Yt(()=>[{label:i.value?"Hide taxa":"Show taxa",action:()=>i.value=!i.value}]);return(h,s)=>{const u=_t("VSpinner"),f=_t("VCardHeader"),_=_t("VTableHeaderCell"),v=_t("VTableHeaderRow"),b=_t("VTableHeader"),w=_t("VTableBodyCell"),P=_t("VTableBodyRow"),O=_t("VTableBody"),j=_t("VTable"),V=_t("VCardContent"),rt=_t("VCard");return A(),wt(rt,null,{default:nt(()=>[zt(e).catalog.isLoading?(A(),wt(u,{key:0,"logo-class":"w-8 h-8",legend:""})):Rt("",!0),X(f,{class:"flex justify-between"},{default:nt(()=>[s[0]||(s[0]=$("h2",{class:"text-md"},"Stats",-1)),X(Cs,{"panel-key":"taxonomy","menu-options":o.value},null,8,["menu-options"])]),_:1}),X(V,{class:"text-sm"},{default:nt(()=>[X(j,null,{default:nt(()=>[X(b,null,{default:nt(()=>[X(v,null,{default:nt(()=>[X(_,{class:"bg-base-foreground"}),i.value?(A(),wt(_,{key:0,title:"OTUs linked to valid protonyms"},{default:nt(()=>s[1]||(s[1]=[Qt(" Taxa ")])),_:1})):Rt("",!0),X(_,{title:"Taxon names",class:"border-l border-base-border"},{default:nt(()=>s[2]||(s[2]=[Qt(" Names ")])),_:1}),X(_,{colspan:"2",class:"bg-base-foreground"})]),_:1}),X(v,null,{default:nt(()=>[X(_,null,{default:nt(()=>s[3]||(s[3]=[Qt("Rank")])),_:1}),i.value?(A(),wt(_,{key:0,title:"OTUs linked to valid protonyms"},{default:nt(()=>s[4]||(s[4]=[Qt("Total")])),_:1})):Rt("",!0),X(_,{title:"Taxon names",class:"border-l border-base-border"},{default:nt(()=>s[5]||(s[5]=[Qt(" Total ")])),_:1}),X(_,null,{default:nt(()=>s[6]||(s[6]=[Qt(" Valid ")])),_:1}),X(_,null,{default:nt(()=>s[7]||(s[7]=[Qt(" Invalid ")])),_:1})]),_:1})]),_:1}),X(O,null,{default:nt(()=>[(A(!0),Z(Ut,null,fe(zt(e).catalog.stats,({rank:ht,taxa:ct,names:U})=>(A(),wt(P,{key:ht},{default:nt(()=>[X(w,{class:"capitalize"},{default:nt(()=>[Qt(Ft(ht),1)]),_:2},1024),i.value?(A(),wt(w,{key:0},{default:nt(()=>[Qt(Ft(ct),1)]),_:2},1024)):Rt("",!0),X(w,{class:"border-l border-base-border"},{default:nt(()=>[Qt(Ft(U.invalid+U.valid),1)]),_:2},1024),X(w,null,{default:nt(()=>[Qt(Ft(U.valid),1)]),_:2},1024),X(w,null,{default:nt(()=>[Qt(Ft(U.invalid),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},_E={id:"panel:statistics",component:mE},gE=["innerHTML"],yE={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(t){const e=Po(),i=Yt(()=>{var h;return((h=e.taxon)==null?void 0:h.type_taxon_name_relationship)||{}}),o=Yt(()=>[i.value.subject_object_tag||"",i.value.subject_status_tag||"",i.value.object_object_tag||""].join(" "));return(h,s)=>{const u=_t("VCardHeader"),f=_t("VCardContent"),_=_t("VCard");return A(),wt(_,null,{default:nt(()=>[X(u,{class:"flex justify-between"},{default:nt(()=>[s[0]||(s[0]=$("h2",{class:"text-md"},"Type",-1)),X(Cs,{"panel-key":"panel:type"})]),_:1}),X(f,{class:"text-sm"},{default:nt(()=>[$("p",{innerHTML:o.value},null,8,gE)]),_:1})]),_:1})}}},vE={id:"panel:type",component:yE,rankGroup:[TL,AL]},bE={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(t){const e=t,i=Jt([]);return vn(()=>e.otuId,()=>{e.otuId&&mr("panel:typeMaterial",()=>Jn.getOtuTypeMaterial(e.otuId)).then(({data:o})=>{i.value=o.type_materials_catalog_labels.sort((h,s)=>ff.indexOf(h.type_type)-ff.indexOf(s.type_type))})},{immediate:!0}),(o,h)=>{const s=_t("VCardHeader"),u=_t("VCardContent"),f=_t("VCard");return i.value.length?(A(),wt(f,{key:0},{default:nt(()=>[X(s,{class:"flex justify-between"},{default:nt(()=>[h[0]||(h[0]=$("h2",{class:"text-md"},"Type specimen",-1)),X(Cs,{"panel-key":"panel:typeMaterial"})]),_:1}),X(u,{class:"text-sm"},{default:nt(()=>[$("p",null,Ft(i.value[0].label),1)]),_:1})]),_:1})):Rt("",!0)}}},xE={id:"panel:type-specimen",component:bE,rankGroup:[OL,RL]},wE={overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:content","panel:keys","panel:statistics"]]]}};var LE={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const CE=Object.values(Object.assign({"/src/modules/otus/components/Panel/PanelContent/main.js":t3,"/src/modules/otus/components/Panel/PanelDescendants/main.js":m3,"/src/modules/otus/components/Panel/PanelGallery/main.js":v3,"/src/modules/otus/components/Panel/PanelKeys/main.js":w3,"/src/modules/otus/components/Panel/PanelMap/main.js":J3,"/src/modules/otus/components/Panel/PanelNomenclature/main.js":aE,"/src/modules/otus/components/Panel/PanelNomenclatureReferences/main.js":fE,"/src/modules/otus/components/Panel/PanelStats/main.js":_E,"/src/modules/otus/components/Panel/PanelTypeDesignation/main.js":vE,"/src/modules/otus/components/Panel/PanelTypeSpecimen/main.js":xE})),{taxa_page:kE}=LE,Sf=Object.assign({...wE,...kE});function EE(t){return t.map(e=>e.map(i=>i.map(o=>{const s=typeof o=="string"?{id:o}:{...o};return{...CE.find(f=>f.id===s.id),...s}})))}const Ea={};for(const t in Sf){const e=Sf[t];Ea[t]={panels:EE((e==null?void 0:e.panels)||{}),rankGroup:e.rank_group||[],label:e.label}}const ME={class:"grid gap-3"},PE={__name:"PageLayout",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){var s;const e=t,i=Wa(),o=Ea[i.currentRoute.value.meta.tab],h={1:["md:grid-cols-1"],2:["md:grid-cols-2"],3:["md:grid-cols-3"]};return(s=o.rankGroup)!=null&&s.length&&!Vh(o.rankGroup,e.taxonRank)&&i.replace({name:"otus-id-overview"}),(u,f)=>(A(),Z("div",ME,[(A(!0),Z(Ut,null,fe(zt(o).panels,_=>(A(),Z("div",{class:hn(["grid","grid-cols-1","gap-3",h[_.length]])},[(A(!0),Z(Ut,null,fe(_,(v,b)=>(A(),Z("div",{class:"grid grid-cols-1 gap-3 auto-rows-min",key:b},[(A(!0),Z(Ut,null,fe(v,({component:w,rankGroup:P,id:O,bind:j})=>(A(),Z(Ut,{key:O},[!P||zt(Vh)(P,t.taxonRank)?(A(),wt(Eo(w),Jm({key:0,"otu-id":t.otuId,otu:t.otu,"taxon-id":t.taxonId,taxon:t.taxon,"panel-key":O,ref_for:!0},j),null,16,["otu-id","otu","taxon-id","taxon","panel-key"])):Rt("",!0)],64))),128))]))),128))],2))),256))]))}};function SE(){return Object.keys(Ea||{}).map(e=>({path:e,name:`otus-id-${e}`,component:PE,meta:{tab:e,rankGroup:Ea[e].rankGroup,label:Ea[e].label}}))}const BE=[{name:"otus-id",path:"/otus/:id",component:Jk,redirect:{name:"otus-id-overview"},children:SE()}],TE="modulepreload",AE=function(t){return"/plecoptera/"+t},Bf={},Bd=function(e,i,o){let h=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));h=Promise.allSettled(i.map(_=>{if(_=AE(_),_ in Bf)return;Bf[_]=!0;const v=_.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${b}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":TE,v||(w.as="script"),w.crossOrigin="",w.href=_,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((P,O)=>{w.addEventListener("load",P),w.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${_}`)))})}))}function s(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return h.then(u=>{for(const f of u||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})},OE=()=>Bd(()=>import("./perla-BkHzpMWe.js"),[]),RE=()=>Bd(()=>import("./home-DDsw7u05.js"),[]),DE=()=>Bd(()=>import("./about-DBQyG-WH.js"),[]),IE=[{name:"perla",path:"/perla",component:OE,props:!0},{name:"home",path:"/",component:RE,props:!0,alias:"/home"},{name:"about",path:"/about",component:DE,props:!0}];var FE={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const jE=Object.assign({"/src/modules/home/router/index.js":Z1,"/src/modules/httpErrorPages/router/index.js":e4,"/src/modules/interactiveKeys/router/index.js":BL,"/src/modules/otus/router/index.js":BE}),NE=Object.assign({}),{base_url:Tf,hash_mode:zE}=FE,VE=[].concat(...Object.values(jE),...Object.values(NE)),UE=[...IE,...VE];function GE(){return zE?Vb(Tf):y_(Tf)}function HE(){return h1({history:GE(),routes:UE,scrollBehavior(t,e,i){return t.hash?{el:t.hash}:{top:0}}})}var $E={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};function ZE({originUrl:t}){const{url:e,project_token:i}=$E,h=Uv(e&&i?F1:V1),s=HE(),u=k_();return h.use(s),h.use(u),{app:h,router:s,store:u}}var qE={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const{map_tile_server:KE,map_tile_attribution:WE,map_tiles:JE}=qE;function YE(t,e){return Object.fromEntries((JE||[{label:"tile",server:KE,attribution:WE}]).map(({server:o,attribution:h,label:s})=>[s,t.tileLayer(o,{...e,attribution:h})]))}var us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(i,o){o(e)})(us,function(i){var o="1.9.4";function h(n){var l,p,y,C;for(p=1,y=arguments.length;p<y;p++){C=arguments[p];for(l in C)n[l]=C[l]}return n}var s=Object.create||function(){function n(){}return function(l){return n.prototype=l,new n}}();function u(n,l){var p=Array.prototype.slice;if(n.bind)return n.bind.apply(n,p.call(arguments,1));var y=p.call(arguments,2);return function(){return n.apply(l,y.length?y.concat(p.call(arguments)):arguments)}}var f=0;function _(n){return"_leaflet_id"in n||(n._leaflet_id=++f),n._leaflet_id}function v(n,l,p){var y,C,B,K;return K=function(){y=!1,C&&(B.apply(p,C),C=!1)},B=function(){y?C=arguments:(n.apply(p,arguments),setTimeout(K,l),y=!0)},B}function b(n,l,p){var y=l[1],C=l[0],B=y-C;return n===y&&p?n:((n-C)%B+B)%B+C}function w(){return!1}function P(n,l){if(l===!1)return n;var p=Math.pow(10,l===void 0?6:l);return Math.round(n*p)/p}function O(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function j(n){return O(n).split(/\s+/)}function V(n,l){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?s(n.options):{});for(var p in l)n.options[p]=l[p];return n.options}function rt(n,l,p){var y=[];for(var C in n)y.push(encodeURIComponent(p?C.toUpperCase():C)+"="+encodeURIComponent(n[C]));return(!l||l.indexOf("?")===-1?"?":"&")+y.join("&")}var ht=/\{ *([\w_ -]+) *\}/g;function ct(n,l){return n.replace(ht,function(p,y){var C=l[y];if(C===void 0)throw new Error("No value provided for variable "+p);return typeof C=="function"&&(C=C(l)),C})}var U=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function et(n,l){for(var p=0;p<n.length;p++)if(n[p]===l)return p;return-1}var gt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Bt(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var jt=0;function Dt(n){var l=+new Date,p=Math.max(0,16-(l-jt));return jt=l+p,window.setTimeout(n,p)}var Ct=window.requestAnimationFrame||Bt("RequestAnimationFrame")||Dt,Ot=window.cancelAnimationFrame||Bt("CancelAnimationFrame")||Bt("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Zt(n,l,p){if(p&&Ct===Dt)n.call(l);else return Ct.call(window,u(n,l))}function Tt(n){n&&Ot.call(window,n)}var ae={__proto__:null,extend:h,create:s,bind:u,get lastId(){return f},stamp:_,throttle:v,wrapNum:b,falseFn:w,formatNum:P,trim:O,splitWords:j,setOptions:V,getParamString:rt,template:ct,isArray:U,indexOf:et,emptyImageUrl:gt,requestFn:Ct,cancelFn:Ot,requestAnimFrame:Zt,cancelAnimFrame:Tt};function Ce(){}Ce.extend=function(n){var l=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=l.__super__=this.prototype,y=s(p);y.constructor=l,l.prototype=y;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(l[C]=this[C]);return n.statics&&h(l,n.statics),n.includes&&(Ge(n.includes),h.apply(null,[y].concat(n.includes))),h(y,n),delete y.statics,delete y.includes,y.options&&(y.options=p.options?s(p.options):{},h(y.options,n.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,K=y._initHooks.length;B<K;B++)y._initHooks[B].call(this)}},l},Ce.include=function(n){var l=this.prototype.options;return h(this.prototype,n),n.options&&(this.prototype.options=l,this.mergeOptions(n.options)),this},Ce.mergeOptions=function(n){return h(this.prototype.options,n),this},Ce.addInitHook=function(n){var l=Array.prototype.slice.call(arguments,1),p=typeof n=="function"?n:function(){this[n].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Ge(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=U(n)?n:[n];for(var l=0;l<n.length;l++)n[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ht={on:function(n,l,p){if(typeof n=="object")for(var y in n)this._on(y,n[y],l);else{n=j(n);for(var C=0,B=n.length;C<B;C++)this._on(n[C],l,p)}return this},off:function(n,l,p){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var y in n)this._off(y,n[y],l);else{n=j(n);for(var C=arguments.length===1,B=0,K=n.length;B<K;B++)C?this._off(n[B]):this._off(n[B],l,p)}return this},_on:function(n,l,p,y){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(n,l,p)===!1){p===this&&(p=void 0);var C={fn:l,ctx:p};y&&(C.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(C)}},_off:function(n,l,p){var y,C,B;if(this._events&&(y=this._events[n],!!y)){if(arguments.length===1){if(this._firingCount)for(C=0,B=y.length;C<B;C++)y[C].fn=w;delete this._events[n];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var K=this._listens(n,l,p);if(K!==!1){var lt=y[K];this._firingCount&&(lt.fn=w,this._events[n]=y=y.slice()),y.splice(K,1)}}},fire:function(n,l,p){if(!this.listens(n,p))return this;var y=h({},l,{type:n,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var C=this._events[n];if(C){this._firingCount=this._firingCount+1||1;for(var B=0,K=C.length;B<K;B++){var lt=C[B],mt=lt.fn;lt.once&&this.off(n,mt,lt.ctx),mt.call(lt.ctx||this,y)}this._firingCount--}}return p&&this._propagateEvent(y),this},listens:function(n,l,p,y){typeof n!="string"&&console.warn('"string" type argument expected');var C=l;typeof l!="function"&&(y=!!l,C=void 0,p=void 0);var B=this._events&&this._events[n];if(B&&B.length&&this._listens(n,C,p)!==!1)return!0;if(y){for(var K in this._eventParents)if(this._eventParents[K].listens(n,l,p,y))return!0}return!1},_listens:function(n,l,p){if(!this._events)return!1;var y=this._events[n]||[];if(!l)return!!y.length;p===this&&(p=void 0);for(var C=0,B=y.length;C<B;C++)if(y[C].fn===l&&y[C].ctx===p)return C;return!1},once:function(n,l,p){if(typeof n=="object")for(var y in n)this._on(y,n[y],l,!0);else{n=j(n);for(var C=0,B=n.length;C<B;C++)this._on(n[C],l,p,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[_(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[_(n)],this},_propagateEvent:function(n){for(var l in this._eventParents)this._eventParents[l].fire(n.type,h({layer:n.target,propagatedFrom:n.target},n),!0)}};Ht.addEventListener=Ht.on,Ht.removeEventListener=Ht.clearAllEventListeners=Ht.off,Ht.addOneTimeEventListener=Ht.once,Ht.fireEvent=Ht.fire,Ht.hasEventListeners=Ht.listens;var ie=Ce.extend(Ht);function Et(n,l,p){this.x=p?Math.round(n):n,this.y=p?Math.round(l):l}var Qe=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};Et.prototype={clone:function(){return new Et(this.x,this.y)},add:function(n){return this.clone()._add(oe(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(oe(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new Et(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new Et(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Qe(this.x),this.y=Qe(this.y),this},distanceTo:function(n){n=oe(n);var l=n.x-this.x,p=n.y-this.y;return Math.sqrt(l*l+p*p)},equals:function(n){return n=oe(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=oe(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function oe(n,l,p){return n instanceof Et?n:U(n)?new Et(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new Et(n.x,n.y):new Et(n,l,p)}function Pe(n,l){if(n)for(var p=l?[n,l]:n,y=0,C=p.length;y<C;y++)this.extend(p[y])}Pe.prototype={extend:function(n){var l,p;if(!n)return this;if(n instanceof Et||typeof n[0]=="number"||"x"in n)l=p=oe(n);else if(n=Ne(n),l=n.min,p=n.max,!l||!p)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=p.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(n){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var l,p;return typeof n[0]=="number"||n instanceof Et?n=oe(n):n=Ne(n),n instanceof Pe?(l=n.min,p=n.max):l=p=n,l.x>=this.min.x&&p.x<=this.max.x&&l.y>=this.min.y&&p.y<=this.max.y},intersects:function(n){n=Ne(n);var l=this.min,p=this.max,y=n.min,C=n.max,B=C.x>=l.x&&y.x<=p.x,K=C.y>=l.y&&y.y<=p.y;return B&&K},overlaps:function(n){n=Ne(n);var l=this.min,p=this.max,y=n.min,C=n.max,B=C.x>l.x&&y.x<p.x,K=C.y>l.y&&y.y<p.y;return B&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var l=this.min,p=this.max,y=Math.abs(l.x-p.x)*n,C=Math.abs(l.y-p.y)*n;return Ne(oe(l.x-y,l.y-C),oe(p.x+y,p.y+C))},equals:function(n){return n?(n=Ne(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function Ne(n,l){return!n||n instanceof Pe?n:new Pe(n,l)}function nn(n,l){if(n)for(var p=l?[n,l]:n,y=0,C=p.length;y<C;y++)this.extend(p[y])}nn.prototype={extend:function(n){var l=this._southWest,p=this._northEast,y,C;if(n instanceof Be)y=n,C=n;else if(n instanceof nn){if(y=n._southWest,C=n._northEast,!y||!C)return this}else return n?this.extend(me(n)||He(n)):this;return!l&&!p?(this._southWest=new Be(y.lat,y.lng),this._northEast=new Be(C.lat,C.lng)):(l.lat=Math.min(y.lat,l.lat),l.lng=Math.min(y.lng,l.lng),p.lat=Math.max(C.lat,p.lat),p.lng=Math.max(C.lng,p.lng)),this},pad:function(n){var l=this._southWest,p=this._northEast,y=Math.abs(l.lat-p.lat)*n,C=Math.abs(l.lng-p.lng)*n;return new nn(new Be(l.lat-y,l.lng-C),new Be(p.lat+y,p.lng+C))},getCenter:function(){return new Be((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Be(this.getNorth(),this.getWest())},getSouthEast:function(){return new Be(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof Be||"lat"in n?n=me(n):n=He(n);var l=this._southWest,p=this._northEast,y,C;return n instanceof nn?(y=n.getSouthWest(),C=n.getNorthEast()):y=C=n,y.lat>=l.lat&&C.lat<=p.lat&&y.lng>=l.lng&&C.lng<=p.lng},intersects:function(n){n=He(n);var l=this._southWest,p=this._northEast,y=n.getSouthWest(),C=n.getNorthEast(),B=C.lat>=l.lat&&y.lat<=p.lat,K=C.lng>=l.lng&&y.lng<=p.lng;return B&&K},overlaps:function(n){n=He(n);var l=this._southWest,p=this._northEast,y=n.getSouthWest(),C=n.getNorthEast(),B=C.lat>l.lat&&y.lat<p.lat,K=C.lng>l.lng&&y.lng<p.lng;return B&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,l){return n?(n=He(n),this._southWest.equals(n.getSouthWest(),l)&&this._northEast.equals(n.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function He(n,l){return n instanceof nn?n:new nn(n,l)}function Be(n,l,p){if(isNaN(n)||isNaN(l))throw new Error("Invalid LatLng object: ("+n+", "+l+")");this.lat=+n,this.lng=+l,p!==void 0&&(this.alt=+p)}Be.prototype={equals:function(n,l){if(!n)return!1;n=me(n);var p=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return p<=(l===void 0?1e-9:l)},toString:function(n){return"LatLng("+P(this.lat,n)+", "+P(this.lng,n)+")"},distanceTo:function(n){return $t.distance(this,me(n))},wrap:function(){return $t.wrapLatLng(this)},toBounds:function(n){var l=180*n/40075017,p=l/Math.cos(Math.PI/180*this.lat);return He([this.lat-l,this.lng-p],[this.lat+l,this.lng+p])},clone:function(){return new Be(this.lat,this.lng,this.alt)}};function me(n,l,p){return n instanceof Be?n:U(n)&&typeof n[0]!="object"?n.length===3?new Be(n[0],n[1],n[2]):n.length===2?new Be(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new Be(n.lat,"lng"in n?n.lng:n.lon,n.alt):l===void 0?null:new Be(n,l,p)}var bt={latLngToPoint:function(n,l){var p=this.projection.project(n),y=this.scale(l);return this.transformation._transform(p,y)},pointToLatLng:function(n,l){var p=this.scale(l),y=this.transformation.untransform(n,p);return this.projection.unproject(y)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var l=this.projection.bounds,p=this.scale(n),y=this.transformation.transform(l.min,p),C=this.transformation.transform(l.max,p);return new Pe(y,C)},infinite:!1,wrapLatLng:function(n){var l=this.wrapLng?b(n.lng,this.wrapLng,!0):n.lng,p=this.wrapLat?b(n.lat,this.wrapLat,!0):n.lat,y=n.alt;return new Be(p,l,y)},wrapLatLngBounds:function(n){var l=n.getCenter(),p=this.wrapLatLng(l),y=l.lat-p.lat,C=l.lng-p.lng;if(y===0&&C===0)return n;var B=n.getSouthWest(),K=n.getNorthEast(),lt=new Be(B.lat-y,B.lng-C),mt=new Be(K.lat-y,K.lng-C);return new nn(lt,mt)}},$t=h({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(n,l){var p=Math.PI/180,y=n.lat*p,C=l.lat*p,B=Math.sin((l.lat-n.lat)*p/2),K=Math.sin((l.lng-n.lng)*p/2),lt=B*B+Math.cos(y)*Math.cos(C)*K*K,mt=2*Math.atan2(Math.sqrt(lt),Math.sqrt(1-lt));return this.R*mt}}),Vt=6378137,ee={R:Vt,MAX_LATITUDE:85.0511287798,project:function(n){var l=Math.PI/180,p=this.MAX_LATITUDE,y=Math.max(Math.min(p,n.lat),-p),C=Math.sin(y*l);return new Et(this.R*n.lng*l,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(n){var l=180/Math.PI;return new Be((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*l,n.x*l/this.R)},bounds:function(){var n=Vt*Math.PI;return new Pe([-n,-n],[n,n])}()};function Se(n,l,p,y){if(U(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=l,this._c=p,this._d=y}Se.prototype={transform:function(n,l){return this._transform(n.clone(),l)},_transform:function(n,l){return l=l||1,n.x=l*(this._a*n.x+this._b),n.y=l*(this._c*n.y+this._d),n},untransform:function(n,l){return l=l||1,new Et((n.x/l-this._b)/this._a,(n.y/l-this._d)/this._c)}};function je(n,l,p,y){return new Se(n,l,p,y)}var z=h({},$t,{code:"EPSG:3857",projection:ee,transformation:function(){var n=.5/(Math.PI*ee.R);return je(n,.5,-n,.5)}()}),q=h({},z,{code:"EPSG:900913"});function dt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Mt(n,l){var p="",y,C,B,K,lt,mt;for(y=0,B=n.length;y<B;y++){for(lt=n[y],C=0,K=lt.length;C<K;C++)mt=lt[C],p+=(C?"L":"M")+mt.x+" "+mt.y;p+=l?se.svg?"z":"x":""}return p||"M0 0"}var xt=document.documentElement.style,Pt="ActiveXObject"in window,Gt=Pt&&!document.addEventListener,Nt="msLaunchUri"in navigator&&!("documentMode"in document),It=ai("webkit"),At=ai("android"),ce=ai("android 2")||ai("android 3"),Kt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),re=At&&ai("Google")&&Kt<537&&!("AudioNode"in window),de=!!window.opera,Ee=!Nt&&ai("chrome"),ze=ai("gecko")&&!It&&!de&&!Pt,Re=!Ee&&ai("safari"),wn=ai("phantom"),dn="OTransition"in xt,mn=navigator.platform.indexOf("Win")===0,Pn=Pt&&"transition"in xt,fi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ce,Pi="MozPerspective"in xt,Sn=!window.L_DISABLE_3D&&(Pn||fi||Pi)&&!dn&&!wn,_n=typeof orientation<"u"||ai("mobile"),So=_n&&It,Ju=_n&&fi,ks=!window.PointerEvent&&window.MSPointerEvent,nl=!!(window.PointerEvent||ks),il="ontouchstart"in window||!!window.TouchEvent,Yu=!window.L_NO_TOUCH&&(il||nl),Xu=_n&&de,rl=_n&&ze,ol=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qu=function(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return n}(),tc=function(){return!!document.createElement("canvas").getContext}(),Es=!!(document.createElementNS&&dt("svg").createSVGRect),sl=!!Es&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ec=!Es&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var l=n.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),nc=navigator.platform.indexOf("Mac")===0,ic=navigator.platform.indexOf("Linux")===0;function ai(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var se={ie:Pt,ielt9:Gt,edge:Nt,webkit:It,android:At,android23:ce,androidStock:re,opera:de,chrome:Ee,gecko:ze,safari:Re,phantom:wn,opera12:dn,win:mn,ie3d:Pn,webkit3d:fi,gecko3d:Pi,any3d:Sn,mobile:_n,mobileWebkit:So,mobileWebkit3d:Ju,msPointer:ks,pointer:nl,touch:Yu,touchNative:il,mobileOpera:Xu,mobileGecko:rl,retina:ol,passiveEvents:Qu,canvas:tc,svg:Es,vml:ec,inlineSvg:sl,mac:nc,linux:ic},al=se.msPointer?"MSPointerDown":"pointerdown",ll=se.msPointer?"MSPointerMove":"pointermove",Ms=se.msPointer?"MSPointerUp":"pointerup",ul=se.msPointer?"MSPointerCancel":"pointercancel",Ps={touchstart:al,touchmove:ll,touchend:Ms,touchcancel:ul},cl={touchstart:lc,touchmove:To,touchend:To,touchcancel:To},vr={},hl=!1;function rc(n,l,p){return l==="touchstart"&&Ss(),cl[l]?(p=cl[l].bind(this,p),n.addEventListener(Ps[l],p,!1),p):(console.warn("wrong event specified:",l),w)}function oc(n,l,p){if(!Ps[l]){console.warn("wrong event specified:",l);return}n.removeEventListener(Ps[l],p,!1)}function sc(n){vr[n.pointerId]=n}function ac(n){vr[n.pointerId]&&(vr[n.pointerId]=n)}function Bo(n){delete vr[n.pointerId]}function Ss(){hl||(document.addEventListener(al,sc,!0),document.addEventListener(ll,ac,!0),document.addEventListener(Ms,Bo,!0),document.addEventListener(ul,Bo,!0),hl=!0)}function To(n,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var p in vr)l.touches.push(vr[p]);l.changedTouches=[l],n(l)}}function lc(n,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ln(l),To(n,l)}function uc(n){var l={},p,y;for(y in n)p=n[y],l[y]=p&&p.bind?p.bind(n):p;return n=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var cc=200;function hc(n,l){n.addEventListener("dblclick",l);var p=0,y;function C(B){if(B.detail!==1){y=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var K=_l(B);if(!(K.some(function(mt){return mt instanceof HTMLLabelElement&&mt.attributes.for})&&!K.some(function(mt){return mt instanceof HTMLInputElement||mt instanceof HTMLSelectElement}))){var lt=Date.now();lt-p<=cc?(y++,y===2&&l(uc(B))):y=1,p=lt}}}return n.addEventListener("click",C),{dblclick:l,simDblclick:C}}function dc(n,l){n.removeEventListener("dblclick",l.dblclick),n.removeEventListener("click",l.simDblclick)}var Bs=Oo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qr=Oo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dl=qr==="webkitTransition"||qr==="OTransition"?qr+"End":"transitionend";function pl(n){return typeof n=="string"?document.getElementById(n):n}function Ni(n,l){var p=n.style[l]||n.currentStyle&&n.currentStyle[l];if((!p||p==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(n,null);p=y?y[l]:null}return p==="auto"?null:p}function De(n,l,p){var y=document.createElement(n);return y.className=l||"",p&&p.appendChild(y),y}function Ye(n){var l=n.parentNode;l&&l.removeChild(n)}function Kr(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function br(n){var l=n.parentNode;l&&l.lastChild!==n&&l.appendChild(n)}function Yi(n){var l=n.parentNode;l&&l.firstChild!==n&&l.insertBefore(n,l.firstChild)}function Ts(n,l){if(n.classList!==void 0)return n.classList.contains(l);var p=Ao(n);return p.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(p)}function ve(n,l){if(n.classList!==void 0)for(var p=j(l),y=0,C=p.length;y<C;y++)n.classList.add(p[y]);else if(!Ts(n,l)){var B=Ao(n);As(n,(B?B+" ":"")+l)}}function rn(n,l){n.classList!==void 0?n.classList.remove(l):As(n,O((" "+Ao(n)+" ").replace(" "+l+" "," ")))}function As(n,l){n.className.baseVal===void 0?n.className=l:n.className.baseVal=l}function Ao(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Yn(n,l){"opacity"in n.style?n.style.opacity=l:"filter"in n.style&&pc(n,l)}function pc(n,l){var p=!1,y="DXImageTransform.Microsoft.Alpha";try{p=n.filters.item(y)}catch{if(l===1)return}l=Math.round(l*100),p?(p.Enabled=l!==100,p.Opacity=l):n.style.filter+=" progid:"+y+"(opacity="+l+")"}function Oo(n){for(var l=document.documentElement.style,p=0;p<n.length;p++)if(n[p]in l)return n[p];return!1}function Xi(n,l,p){var y=l||new Et(0,0);n.style[Bs]=(se.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(p?" scale("+p+")":"")}function an(n,l){n._leaflet_pos=l,se.any3d?Xi(n,l):(n.style.left=l.x+"px",n.style.top=l.y+"px")}function Qi(n){return n._leaflet_pos||new Et(0,0)}var Wr,Jr,Os;if("onselectstart"in document)Wr=function(){ge(window,"selectstart",Ln)},Jr=function(){Ze(window,"selectstart",Ln)};else{var Yr=Oo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Wr=function(){if(Yr){var n=document.documentElement.style;Os=n[Yr],n[Yr]="none"}},Jr=function(){Yr&&(document.documentElement.style[Yr]=Os,Os=void 0)}}function Rs(){ge(window,"dragstart",Ln)}function Ds(){Ze(window,"dragstart",Ln)}var Ro,Is;function Fs(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Do(),Ro=n,Is=n.style.outlineStyle,n.style.outlineStyle="none",ge(window,"keydown",Do))}function Do(){Ro&&(Ro.style.outlineStyle=Is,Ro=void 0,Is=void 0,Ze(window,"keydown",Do))}function fl(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function js(n){var l=n.getBoundingClientRect();return{x:l.width/n.offsetWidth||1,y:l.height/n.offsetHeight||1,boundingClientRect:l}}var fc={__proto__:null,TRANSFORM:Bs,TRANSITION:qr,TRANSITION_END:dl,get:pl,getStyle:Ni,create:De,remove:Ye,empty:Kr,toFront:br,toBack:Yi,hasClass:Ts,addClass:ve,removeClass:rn,setClass:As,getClass:Ao,setOpacity:Yn,testProp:Oo,setTransform:Xi,setPosition:an,getPosition:Qi,get disableTextSelection(){return Wr},get enableTextSelection(){return Jr},disableImageDrag:Rs,enableImageDrag:Ds,preventOutline:Fs,restoreOutline:Do,getSizedParentNode:fl,getScale:js};function ge(n,l,p,y){if(l&&typeof l=="object")for(var C in l)tr(n,C,l[C],p);else{l=j(l);for(var B=0,K=l.length;B<K;B++)tr(n,l[B],p,y)}return this}var mi="_leaflet_events";function Ze(n,l,p,y){if(arguments.length===1)ml(n),delete n[mi];else if(l&&typeof l=="object")for(var C in l)zs(n,C,l[C],p);else if(l=j(l),arguments.length===2)ml(n,function(lt){return et(l,lt)!==-1});else for(var B=0,K=l.length;B<K;B++)zs(n,l[B],p,y);return this}function ml(n,l){for(var p in n[mi]){var y=p.split(/\d/)[0];(!l||l(y))&&zs(n,y,null,null,p)}}var Ns={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function tr(n,l,p,y){var C=l+_(p)+(y?"_"+_(y):"");if(n[mi]&&n[mi][C])return this;var B=function(lt){return p.call(y||n,lt||window.event)},K=B;!se.touchNative&&se.pointer&&l.indexOf("touch")===0?B=rc(n,l,B):se.touch&&l==="dblclick"?B=hc(n,B):"addEventListener"in n?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?n.addEventListener(Ns[l]||l,B,se.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(B=function(lt){lt=lt||window.event,xr(n,lt)&&K(lt)},n.addEventListener(Ns[l],B,!1)):n.addEventListener(l,K,!1):n.attachEvent("on"+l,B),n[mi]=n[mi]||{},n[mi][C]=B}function zs(n,l,p,y,C){C=C||l+_(p)+(y?"_"+_(y):"");var B=n[mi]&&n[mi][C];if(!B)return this;!se.touchNative&&se.pointer&&l.indexOf("touch")===0?oc(n,l,B):se.touch&&l==="dblclick"?dc(n,B):"removeEventListener"in n?n.removeEventListener(Ns[l]||l,B,!1):n.detachEvent("on"+l,B),n[mi][C]=null}function er(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Vs(n){return tr(n,"wheel",er),this}function Xr(n){return ge(n,"mousedown touchstart dblclick contextmenu",er),n._leaflet_disable_click=!0,this}function Ln(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function nr(n){return Ln(n),er(n),this}function _l(n){if(n.composedPath)return n.composedPath();for(var l=[],p=n.target;p;)l.push(p),p=p.parentNode;return l}function gl(n,l){if(!l)return new Et(n.clientX,n.clientY);var p=js(l),y=p.boundingClientRect;return new Et((n.clientX-y.left)/p.x-l.clientLeft,(n.clientY-y.top)/p.y-l.clientTop)}var mc=se.linux&&se.chrome?window.devicePixelRatio:se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yl(n){return se.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/mc:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function xr(n,l){var p=l.relatedTarget;if(!p)return!0;try{for(;p&&p!==n;)p=p.parentNode}catch{return!1}return p!==n}var _c={__proto__:null,on:ge,off:Ze,stopPropagation:er,disableScrollPropagation:Vs,disableClickPropagation:Xr,preventDefault:Ln,stop:nr,getPropagationPath:_l,getMousePosition:gl,getWheelDelta:yl,isExternalTarget:xr,addListener:ge,removeListener:Ze},vl=ie.extend({run:function(n,l,p,y){this.stop(),this._el=n,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Qi(n),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Zt(this._animate,this),this._step()},_step:function(n){var l=+new Date-this._startTime,p=this._duration*1e3;l<p?this._runFrame(this._easeOut(l/p),n):(this._runFrame(1),this._complete())},_runFrame:function(n,l){var p=this._startPos.add(this._offset.multiplyBy(n));l&&p._round(),an(this._el,p),this.fire("step")},_complete:function(){Tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Me=ie.extend({options:{crs:z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,l){l=V(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(me(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qr&&se.any3d&&!se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ge(this._proxy,dl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,l,p){if(l=l===void 0?this._zoom:this._limitZoom(l),n=this._limitCenter(me(n),l,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=h({animate:p.animate},p.zoom),p.pan=h({animate:p.animate,duration:p.duration},p.pan));var y=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,l,p.zoom):this._tryAnimatedPan(n,p.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(n,l,p.pan&&p.pan.noMoveStart),this},setZoom:function(n,l){return this._loaded?this.setView(this.getCenter(),n,{zoom:l}):(this._zoom=n,this)},zoomIn:function(n,l){return n=n||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,l)},zoomOut:function(n,l){return n=n||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,l)},setZoomAround:function(n,l,p){var y=this.getZoomScale(l),C=this.getSize().divideBy(2),B=n instanceof Et?n:this.latLngToContainerPoint(n),K=B.subtract(C).multiplyBy(1-1/y),lt=this.containerPointToLatLng(C.add(K));return this.setView(lt,l,{zoom:p})},_getBoundsCenterZoom:function(n,l){l=l||{},n=n.getBounds?n.getBounds():He(n);var p=oe(l.paddingTopLeft||l.padding||[0,0]),y=oe(l.paddingBottomRight||l.padding||[0,0]),C=this.getBoundsZoom(n,!1,p.add(y));if(C=typeof l.maxZoom=="number"?Math.min(l.maxZoom,C):C,C===1/0)return{center:n.getCenter(),zoom:C};var B=y.subtract(p).divideBy(2),K=this.project(n.getSouthWest(),C),lt=this.project(n.getNorthEast(),C),mt=this.unproject(K.add(lt).divideBy(2).add(B),C);return{center:mt,zoom:C}},fitBounds:function(n,l){if(n=He(n),!n.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(n,l);return this.setView(p.center,p.zoom,l)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,l){return this.setView(n,this._zoom,{pan:l})},panBy:function(n,l){if(n=oe(n).round(),l=l||{},!n.x&&!n.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ve(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,p,l.duration||.25,l.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,l,p){if(p=p||{},p.animate===!1||!se.any3d)return this.setView(n,l,p);this._stop();var y=this.project(this.getCenter()),C=this.project(n),B=this.getSize(),K=this._zoom;n=me(n),l=l===void 0?K:l;var lt=Math.max(B.x,B.y),mt=lt*this.getZoomScale(K,l),kt=C.distanceTo(y)||1,Wt=1.42,pe=Wt*Wt;function ke(on){var Qo=on?-1:1,vi=on?mt:lt,Dc=mt*mt-lt*lt+Qo*pe*pe*kt*kt,ts=2*vi*pe*kt,es=Dc/ts,Dl=Math.sqrt(es*es+1)-es,Il=Dl<1e-9?-18:Math.log(Dl);return Il}function Dn(on){return(Math.exp(on)-Math.exp(-on))/2}function ln(on){return(Math.exp(on)+Math.exp(-on))/2}function un(on){return Dn(on)/ln(on)}var yn=ke(0);function Hi(on){return lt*(ln(yn)/ln(yn+Wt*on))}function Yo(on){return lt*(ln(yn)*un(yn+Wt*on)-Dn(yn))/pe}function Ol(on){return 1-Math.pow(1-on,1.5)}var Xo=Date.now(),Rl=(ke(1)-yn)/Wt,Rc=p.duration?1e3*p.duration:1e3*Rl*.8;function ra(){var on=(Date.now()-Xo)/Rc,Qo=Ol(on)*Rl;on<=1?(this._flyToFrame=Zt(ra,this),this._move(this.unproject(y.add(C.subtract(y).multiplyBy(Yo(Qo)/kt)),K),this.getScaleZoom(lt/Hi(Qo),K),{flyTo:!0})):this._move(n,l)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),ra.call(this),this},flyToBounds:function(n,l){var p=this._getBoundsCenterZoom(n,l);return this.flyTo(p.center,p.zoom,l)},setMaxBounds:function(n){return n=He(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var l=this.options.minZoom;return this.options.minZoom=n,this._loaded&&l!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var l=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&l!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,l){this._enforcingBounds=!0;var p=this.getCenter(),y=this._limitCenter(p,this._zoom,He(n));return p.equals(y)||this.panTo(y,l),this._enforcingBounds=!1,this},panInside:function(n,l){l=l||{};var p=oe(l.paddingTopLeft||l.padding||[0,0]),y=oe(l.paddingBottomRight||l.padding||[0,0]),C=this.project(this.getCenter()),B=this.project(n),K=this.getPixelBounds(),lt=Ne([K.min.add(p),K.max.subtract(y)]),mt=lt.getSize();if(!lt.contains(B)){this._enforcingBounds=!0;var kt=B.subtract(lt.getCenter()),Wt=lt.extend(B).getSize().subtract(mt);C.x+=kt.x<0?-Wt.x:Wt.x,C.y+=kt.y<0?-Wt.y:Wt.y,this.panTo(this.unproject(C),l),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=h({animate:!1,pan:!0},n===!0?{animate:!0}:n);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),y=l.divideBy(2).round(),C=p.divideBy(2).round(),B=y.subtract(C);return!B.x&&!B.y?this:(n.animate&&n.pan?this.panBy(B):(n.pan&&this._rawPanBy(B),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=h({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=u(this._handleGeolocationResponse,this),p=u(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,p,n):navigator.geolocation.getCurrentPosition(l,p,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var l=n.code,p=n.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var l=n.coords.latitude,p=n.coords.longitude,y=new Be(l,p),C=y.toBounds(n.coords.accuracy*2),B=this._locateOptions;if(B.setView){var K=this.getBoundsZoom(C);this.setView(y,B.maxZoom?Math.min(K,B.maxZoom):K)}var lt={latlng:y,bounds:C,timestamp:n.timestamp};for(var mt in n.coords)typeof n.coords[mt]=="number"&&(lt[mt]=n.coords[mt]);this.fire("locationfound",lt)}},addHandler:function(n,l){if(!l)return this;var p=this[n]=new l(this);return this._handlers.push(p),this.options[n]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Ye(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,l){var p="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),y=De("div",p,l||this._mapPane);return n&&(this._panes[n]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),l=this.unproject(n.getBottomLeft()),p=this.unproject(n.getTopRight());return new nn(l,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,l,p){n=He(n),p=oe(p||[0,0]);var y=this.getZoom()||0,C=this.getMinZoom(),B=this.getMaxZoom(),K=n.getNorthWest(),lt=n.getSouthEast(),mt=this.getSize().subtract(p),kt=Ne(this.project(lt,y),this.project(K,y)).getSize(),Wt=se.any3d?this.options.zoomSnap:1,pe=mt.x/kt.x,ke=mt.y/kt.y,Dn=l?Math.max(pe,ke):Math.min(pe,ke);return y=this.getScaleZoom(Dn,y),Wt&&(y=Math.round(y/(Wt/100))*(Wt/100),y=l?Math.ceil(y/Wt)*Wt:Math.floor(y/Wt)*Wt),Math.max(C,Math.min(B,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Et(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,l){var p=this._getTopLeftPoint(n,l);return new Pe(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,l){var p=this.options.crs;return l=l===void 0?this._zoom:l,p.scale(n)/p.scale(l)},getScaleZoom:function(n,l){var p=this.options.crs;l=l===void 0?this._zoom:l;var y=p.zoom(n*p.scale(l));return isNaN(y)?1/0:y},project:function(n,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(me(n),l)},unproject:function(n,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(oe(n),l)},layerPointToLatLng:function(n){var l=oe(n).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(n){var l=this.project(me(n))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(me(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(He(n))},distance:function(n,l){return this.options.crs.distance(me(n),me(l))},containerPointToLayerPoint:function(n){return oe(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return oe(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var l=this.containerPointToLayerPoint(oe(n));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(n)))},mouseEventToContainerPoint:function(n){return gl(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var l=this._container=pl(n);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ge(l,"scroll",this._onScroll,this),this._containerId=_(l)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&se.any3d,ve(n,"leaflet-container"+(se.touch?" leaflet-touch":"")+(se.retina?" leaflet-retina":"")+(se.ielt9?" leaflet-oldie":"")+(se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ni(n,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),an(this._mapPane,new Et(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ve(n.markerPane,"leaflet-zoom-hide"),ve(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,l,p){an(this._mapPane,new Et(0,0));var y=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var C=this._zoom!==l;this._moveStart(C,p)._move(n,l)._moveEnd(C),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(n,l){return n&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(n,l,p,y){l===void 0&&(l=this._zoom);var C=this._zoom!==l;return this._zoom=l,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),y?p&&p.pinch&&this.fire("zoom",p):((C||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){an(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[_(this._container)]=this;var l=n?Ze:ge;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),se.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Tt(this._resizeRequest),this._resizeRequest=Zt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,l){for(var p=[],y,C=l==="mouseout"||l==="mouseover",B=n.target||n.srcElement,K=!1;B;){if(y=this._targets[_(B)],y&&(l==="click"||l==="preclick")&&this._draggableMoved(y)){K=!0;break}if(y&&y.listens(l,!0)&&(C&&!xr(B,n)||(p.push(y),C))||B===this._container)break;B=B.parentNode}return!p.length&&!K&&!C&&this.listens(l,!0)&&(p=[this]),p},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var l=n.target||n.srcElement;if(!(!this._loaded||l._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(l))){var p=n.type;p==="mousedown"&&Fs(l),this._fireDOMEvent(n,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,l,p){if(n.type==="click"){var y=h({},n);y.type="preclick",this._fireDOMEvent(y,y.type,p)}var C=this._findEventTargets(n,l);if(p){for(var B=[],K=0;K<p.length;K++)p[K].listens(l,!0)&&B.push(p[K]);C=B.concat(C)}if(C.length){l==="contextmenu"&&Ln(n);var lt=C[0],mt={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var kt=lt.getLatLng&&(!lt._radius||lt._radius<=10);mt.containerPoint=kt?this.latLngToContainerPoint(lt.getLatLng()):this.mouseEventToContainerPoint(n),mt.layerPoint=this.containerPointToLayerPoint(mt.containerPoint),mt.latlng=kt?lt.getLatLng():this.layerPointToLatLng(mt.layerPoint)}for(K=0;K<C.length;K++)if(C[K].fire(l,mt,!0),mt.originalEvent._stopped||C[K].options.bubblingMouseEvents===!1&&et(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,l=this._handlers.length;n<l;n++)this._handlers[n].disable()},whenReady:function(n,l){return this._loaded?n.call(l||this,{target:this}):this.on("load",n,l),this},_getMapPanePos:function(){return Qi(this._mapPane)||new Et(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,l){var p=n&&l!==void 0?this._getNewPixelOrigin(n,l):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,l){var p=this.getSize()._divideBy(2);return this.project(n,l)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,l,p){var y=this._getNewPixelOrigin(p,l);return this.project(n,l)._subtract(y)},_latLngBoundsToNewLayerBounds:function(n,l,p){var y=this._getNewPixelOrigin(p,l);return Ne([this.project(n.getSouthWest(),l)._subtract(y),this.project(n.getNorthWest(),l)._subtract(y),this.project(n.getSouthEast(),l)._subtract(y),this.project(n.getNorthEast(),l)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,l,p){if(!p)return n;var y=this.project(n,l),C=this.getSize().divideBy(2),B=new Pe(y.subtract(C),y.add(C)),K=this._getBoundsOffset(B,p,l);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?n:this.unproject(y.add(K),l)},_limitOffset:function(n,l){if(!l)return n;var p=this.getPixelBounds(),y=new Pe(p.min.add(n),p.max.add(n));return n.add(this._getBoundsOffset(y,l))},_getBoundsOffset:function(n,l,p){var y=Ne(this.project(l.getNorthEast(),p),this.project(l.getSouthWest(),p)),C=y.min.subtract(n.min),B=y.max.subtract(n.max),K=this._rebound(C.x,-B.x),lt=this._rebound(C.y,-B.y);return new Et(K,lt)},_rebound:function(n,l){return n+l>0?Math.round(n-l)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(l))},_limitZoom:function(n){var l=this.getMinZoom(),p=this.getMaxZoom(),y=se.any3d?this.options.zoomSnap:1;return y&&(n=Math.round(n/y)*y),Math.max(l,Math.min(p,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){rn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,l){var p=this._getCenterOffset(n)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,l),!0)},_createAnimProxy:function(){var n=this._proxy=De("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(l){var p=Bs,y=this._proxy.style[p];Xi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),y===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),l=this.getZoom();Xi(this._proxy,this.project(n,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,l,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(l),C=this._getCenterOffset(n)._divideBy(1-1/y);return p.animate!==!0&&!this.getSize().contains(C)?!1:(Zt(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(n,l,!0)},this),!0)},_animateZoom:function(n,l,p,y){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=l,ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:l,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&rn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Te(n,l){return new Me(n,l)}var Hn=Ce.extend({options:{position:"topright"},initialize:function(n){V(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var l=this._map;return l&&l.removeControl(this),this.options.position=n,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var l=this._container=this.onAdd(n),p=this.getPosition(),y=n._controlCorners[p];return ve(l,"leaflet-control"),p.indexOf("bottom")!==-1?y.insertBefore(l,y.firstChild):y.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),zi=function(n){return new Hn(n)};Me.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},l="leaflet-",p=this._controlContainer=De("div",l+"control-container",this._container);function y(C,B){var K=l+C+" "+l+B;n[C+B]=De("div",K,p)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Ye(this._controlCorners[n]);Ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bl=Hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,l,p,y){return p<y?-1:y<p?1:0}},initialize:function(n,l,p){V(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in n)this._addLayer(n[y],y);for(y in l)this._addLayer(l[y],y,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Hn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,l){return this._addLayer(n,l),this._map?this._update():this},addOverlay:function(n,l){return this._addLayer(n,l,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var l=this._getLayer(_(n));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):rn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return rn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",l=this._container=De("div",n),p=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Xr(l),Vs(l);var y=this._section=De("section",n+"-list");p&&(this._map.on("click",this.collapse,this),ge(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=De("a",n+"-toggle",l);C.href="#",C.title="Layers",C.setAttribute("role","button"),ge(C,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){Ln(B),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=De("div",n+"-base",y),this._separator=De("div",n+"-separator",y),this._overlaysList=De("div",n+"-overlays",y),l.appendChild(y)},_getLayer:function(n){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&_(this._layers[l].layer)===n)return this._layers[l]},_addLayer:function(n,l,p){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:l,overlay:p}),this.options.sortLayers&&this._layers.sort(u(function(y,C){return this.options.sortFunction(y.layer,C.layer,y.name,C.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kr(this._baseLayersList),Kr(this._overlaysList),this._layerControlInputs=[];var n,l,p,y,C=0;for(p=0;p<this._layers.length;p++)y=this._layers[p],this._addItem(y),l=l||y.overlay,n=n||!y.overlay,C+=y.overlay?0:1;return this.options.hideSingleBase&&(n=n&&C>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=l&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var l=this._getLayer(_(n.target)),p=l.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;p&&this._map.fire(p,l)},_createRadioElement:function(n,l){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(l?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=p,y.firstChild},_addItem:function(n){var l=document.createElement("label"),p=this._map.hasLayer(n.layer),y;n.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=p):y=this._createRadioElement("leaflet-base-layers_"+_(this),p),this._layerControlInputs.push(y),y.layerId=_(n.layer),ge(y,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+n.name;var B=document.createElement("span");l.appendChild(B),B.appendChild(y),B.appendChild(C);var K=n.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,l,p,y=[],C=[];this._handlingClick=!0;for(var B=n.length-1;B>=0;B--)l=n[B],p=this._getLayer(l.layerId).layer,l.checked?y.push(p):l.checked||C.push(p);for(B=0;B<C.length;B++)this._map.hasLayer(C[B])&&this._map.removeLayer(C[B]);for(B=0;B<y.length;B++)this._map.hasLayer(y[B])||this._map.addLayer(y[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,l,p,y=this._map.getZoom(),C=n.length-1;C>=0;C--)l=n[C],p=this._getLayer(l.layerId).layer,l.disabled=p.options.minZoom!==void 0&&y<p.options.minZoom||p.options.maxZoom!==void 0&&y>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ge(n,"click",Ln),this.expand();var l=this;setTimeout(function(){Ze(n,"click",Ln),l._preventClick=!1})}}),xl=function(n,l,p){return new bl(n,l,p)},Us=Hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var l="leaflet-control-zoom",p=De("div",l+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,l+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,l+"-out",p,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,l,p,y,C){var B=De("a",p,y);return B.innerHTML=n,B.href="#",B.title=l,B.setAttribute("role","button"),B.setAttribute("aria-label",l),Xr(B),ge(B,"click",nr),ge(B,"click",C,this),ge(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var n=this._map,l="leaflet-disabled";rn(this._zoomInButton,l),rn(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(ve(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(ve(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Me.mergeOptions({zoomControl:!0}),Me.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Us,this.addControl(this.zoomControl))});var Gs=function(n){return new Us(n)},Qr=Hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var l="leaflet-control-scale",p=De("div",l),y=this.options;return this._addScales(y,l+"-line",p),n.on(y.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),p},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,l,p){n.metric&&(this._mScale=De("div",l,p)),n.imperial&&(this._iScale=De("div",l,p))},_update:function(){var n=this._map,l=n.getSize().y/2,p=n.distance(n.containerPointToLatLng([0,l]),n.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(p)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var l=this._getRoundNum(n),p=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,p,l/n)},_updateImperial:function(n){var l=n*3.2808399,p,y,C;l>5280?(p=l/5280,y=this._getRoundNum(p),this._updateScale(this._iScale,y+" mi",y/p)):(C=this._getRoundNum(l),this._updateScale(this._iScale,C+" ft",C/l))},_updateScale:function(n,l,p){n.style.width=Math.round(this.options.maxWidth*p)+"px",n.innerHTML=l},_getRoundNum:function(n){var l=Math.pow(10,(Math.floor(n)+"").length-1),p=n/l;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,l*p}}),gc=function(n){return new Qr(n)},Vi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Io=Hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(se.inlineSvg?Vi+" ":"")+"Leaflet</a>"},initialize:function(n){V(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=De("div","leaflet-control-attribution"),Xr(this._container);for(var l in n._layers)n._layers[l].getAttribution&&this.addAttribution(n._layers[l].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var l in this._attributions)this._attributions[l]&&n.push(l);var p=[];this.options.prefix&&p.push(this.options.prefix),n.length&&p.push(n.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Me.mergeOptions({attributionControl:!0}),Me.addInitHook(function(){this.options.attributionControl&&new Io().addTo(this)});var wr=function(n){return new Io(n)};Hn.Layers=bl,Hn.Zoom=Us,Hn.Scale=Qr,Hn.Attribution=Io,zi.layers=xl,zi.zoom=Gs,zi.scale=gc,zi.attribution=wr;var _i=Ce.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_i.addTo=function(n,l){return n.addHandler(l,this),this};var yc={Events:Ht},wl=se.touch?"touchstart mousedown":"mousedown",Ui=ie.extend({options:{clickTolerance:3},initialize:function(n,l,p,y){V(this,y),this._element=n,this._dragStartTarget=l||n,this._preventOutline=p},enable:function(){this._enabled||(ge(this._dragStartTarget,wl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ui._dragging===this&&this.finishDrag(!0),Ze(this._dragStartTarget,wl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Ts(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Ui._dragging===this&&this.finishDrag();return}if(!(Ui._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Ui._dragging=this,this._preventOutline&&Fs(this._element),Rs(),Wr(),!this._moving)){this.fire("down");var l=n.touches?n.touches[0]:n,p=fl(this._element);this._startPoint=new Et(l.clientX,l.clientY),this._startPos=Qi(this._element),this._parentScale=js(p);var y=n.type==="mousedown";ge(document,y?"mousemove":"touchmove",this._onMove,this),ge(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var l=n.touches&&n.touches.length===1?n.touches[0]:n,p=new Et(l.clientX,l.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Ln(n),this._moved||(this.fire("dragstart"),this._moved=!0,ve(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),an(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){rn(document.body,"leaflet-dragging"),this._lastTarget&&(rn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ze(document,"mousemove touchmove",this._onMove,this),Ze(document,"mouseup touchend touchcancel",this._onUp,this),Ds(),Jr();var l=this._moved&&this._moving;this._moving=!1,Ui._dragging=!1,l&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Ll(n,l,p){var y,C=[1,4,2,8],B,K,lt,mt,kt,Wt,pe,ke;for(B=0,Wt=n.length;B<Wt;B++)n[B]._code=rr(n[B],l);for(lt=0;lt<4;lt++){for(pe=C[lt],y=[],B=0,Wt=n.length,K=Wt-1;B<Wt;K=B++)mt=n[B],kt=n[K],mt._code&pe?kt._code&pe||(ke=li(kt,mt,pe,l,p),ke._code=rr(ke,l),y.push(ke)):(kt._code&pe&&(ke=li(kt,mt,pe,l,p),ke._code=rr(ke,l),y.push(ke)),y.push(mt));n=y}return n}function Cl(n,l){var p,y,C,B,K,lt,mt,kt,Wt;if(!n||n.length===0)throw new Error("latlngs not passed");en(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var pe=me([0,0]),ke=He(n),Dn=ke.getNorthWest().distanceTo(ke.getSouthWest())*ke.getNorthEast().distanceTo(ke.getNorthWest());Dn<1700&&(pe=Hs(n));var ln=n.length,un=[];for(p=0;p<ln;p++){var yn=me(n[p]);un.push(l.project(me([yn.lat-pe.lat,yn.lng-pe.lng])))}for(lt=mt=kt=0,p=0,y=ln-1;p<ln;y=p++)C=un[p],B=un[y],K=C.y*B.x-B.y*C.x,mt+=(C.x+B.x)*K,kt+=(C.y+B.y)*K,lt+=K*3;lt===0?Wt=un[0]:Wt=[mt/lt,kt/lt];var Hi=l.unproject(oe(Wt));return me([Hi.lat+pe.lat,Hi.lng+pe.lng])}function Hs(n){for(var l=0,p=0,y=0,C=0;C<n.length;C++){var B=me(n[C]);l+=B.lat,p+=B.lng,y++}return me([l/y,p/y])}var vc={__proto__:null,clipPolygon:Ll,polygonCenter:Cl,centroid:Hs};function $s(n,l){if(!l||!n.length)return n.slice();var p=l*l;return n=Lr(n,p),n=Fn(n,p),n}function kl(n,l,p){return Math.sqrt(or(n,l,p,!0))}function Cn(n,l,p){return or(n,l,p)}function Fn(n,l){var p=n.length,y=typeof Uint8Array<"u"?Uint8Array:Array,C=new y(p);C[0]=C[p-1]=1,Fo(n,C,l,0,p-1);var B,K=[];for(B=0;B<p;B++)C[B]&&K.push(n[B]);return K}function Fo(n,l,p,y,C){var B=0,K,lt,mt;for(lt=y+1;lt<=C-1;lt++)mt=or(n[lt],n[y],n[C],!0),mt>B&&(K=lt,B=mt);B>p&&(l[K]=1,Fo(n,l,p,y,K),Fo(n,l,p,K,C))}function Lr(n,l){for(var p=[n[0]],y=1,C=0,B=n.length;y<B;y++)bc(n[y],n[C])>l&&(p.push(n[y]),C=y);return C<B-1&&p.push(n[B-1]),p}var ir;function Cr(n,l,p,y,C){var B=y?ir:rr(n,p),K=rr(l,p),lt,mt,kt;for(ir=K;;){if(!(B|K))return[n,l];if(B&K)return!1;lt=B||K,mt=li(n,l,lt,p,C),kt=rr(mt,p),lt===B?(n=mt,B=kt):(l=mt,K=kt)}}function li(n,l,p,y,C){var B=l.x-n.x,K=l.y-n.y,lt=y.min,mt=y.max,kt,Wt;return p&8?(kt=n.x+B*(mt.y-n.y)/K,Wt=mt.y):p&4?(kt=n.x+B*(lt.y-n.y)/K,Wt=lt.y):p&2?(kt=mt.x,Wt=n.y+K*(mt.x-n.x)/B):p&1&&(kt=lt.x,Wt=n.y+K*(lt.x-n.x)/B),new Et(kt,Wt,C)}function rr(n,l){var p=0;return n.x<l.min.x?p|=1:n.x>l.max.x&&(p|=2),n.y<l.min.y?p|=4:n.y>l.max.y&&(p|=8),p}function bc(n,l){var p=l.x-n.x,y=l.y-n.y;return p*p+y*y}function or(n,l,p,y){var C=l.x,B=l.y,K=p.x-C,lt=p.y-B,mt=K*K+lt*lt,kt;return mt>0&&(kt=((n.x-C)*K+(n.y-B)*lt)/mt,kt>1?(C=p.x,B=p.y):kt>0&&(C+=K*kt,B+=lt*kt)),K=n.x-C,lt=n.y-B,y?K*K+lt*lt:new Et(C,B)}function en(n){return!U(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Zs(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(n)}function to(n,l){var p,y,C,B,K,lt,mt,kt;if(!n||n.length===0)throw new Error("latlngs not passed");en(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Wt=me([0,0]),pe=He(n),ke=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());ke<1700&&(Wt=Hs(n));var Dn=n.length,ln=[];for(p=0;p<Dn;p++){var un=me(n[p]);ln.push(l.project(me([un.lat-Wt.lat,un.lng-Wt.lng])))}for(p=0,y=0;p<Dn-1;p++)y+=ln[p].distanceTo(ln[p+1])/2;if(y===0)kt=ln[0];else for(p=0,B=0;p<Dn-1;p++)if(K=ln[p],lt=ln[p+1],C=K.distanceTo(lt),B+=C,B>y){mt=(B-y)/C,kt=[lt.x-mt*(lt.x-K.x),lt.y-mt*(lt.y-K.y)];break}var yn=l.unproject(oe(kt));return me([yn.lat+Wt.lat,yn.lng+Wt.lng])}var xc={__proto__:null,simplify:$s,pointToSegmentDistance:kl,closestPointOnSegment:Cn,clipSegment:Cr,_getEdgeIntersection:li,_getBitCode:rr,_sqClosestPointOnSegment:or,isFlat:en,_flat:Zs,polylineCenter:to},Xn={project:function(n){return new Et(n.lng,n.lat)},unproject:function(n){return new Be(n.y,n.x)},bounds:new Pe([-180,-90],[180,90])},Qn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Pe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var l=Math.PI/180,p=this.R,y=n.lat*l,C=this.R_MINOR/p,B=Math.sqrt(1-C*C),K=B*Math.sin(y),lt=Math.tan(Math.PI/4-y/2)/Math.pow((1-K)/(1+K),B/2);return y=-p*Math.log(Math.max(lt,1e-10)),new Et(n.lng*l*p,y)},unproject:function(n){for(var l=180/Math.PI,p=this.R,y=this.R_MINOR/p,C=Math.sqrt(1-y*y),B=Math.exp(-n.y/p),K=Math.PI/2-2*Math.atan(B),lt=0,mt=.1,kt;lt<15&&Math.abs(mt)>1e-7;lt++)kt=C*Math.sin(K),kt=Math.pow((1-kt)/(1+kt),C/2),mt=Math.PI/2-2*Math.atan(B*kt)-K,K+=mt;return new Be(K*l,n.x*l/p)}},jo={__proto__:null,LonLat:Xn,Mercator:Qn,SphericalMercator:ee},El=h({},$t,{code:"EPSG:3395",projection:Qn,transformation:function(){var n=.5/(Math.PI*Qn.R);return je(n,.5,-n,.5)}()}),No=h({},$t,{code:"EPSG:4326",projection:Xn,transformation:je(1/180,1,-1/180,.5)}),eo=h({},bt,{projection:Xn,transformation:je(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,l){var p=l.lng-n.lng,y=l.lat-n.lat;return Math.sqrt(p*p+y*y)},infinite:!0});bt.Earth=$t,bt.EPSG3395=El,bt.EPSG3857=z,bt.EPSG900913=q,bt.EPSG4326=No,bt.Simple=eo;var ui=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[_(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[_(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var l=n.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var p=this.getEvents();l.on(p,this),this.once("remove",function(){l.off(p,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Me.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var l=_(n);return this._layers[l]?this:(this._layers[l]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var l=_(n);return this._layers[l]?(this._loaded&&n.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return _(n)in this._layers},eachLayer:function(n,l){for(var p in this._layers)n.call(l,this._layers[p]);return this},_addLayers:function(n){n=n?U(n)?n:[n]:[];for(var l=0,p=n.length;l<p;l++)this.addLayer(n[l])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[_(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var l=_(n);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,l=-1/0,p=this._getZoomSpan();for(var y in this._zoomBoundLayers){var C=this._zoomBoundLayers[y].options;n=C.minZoom===void 0?n:Math.min(n,C.minZoom),l=C.maxZoom===void 0?l:Math.max(l,C.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=n===1/0?void 0:n,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kr=ui.extend({initialize:function(n,l){V(this,l),this._layers={};var p,y;if(n)for(p=0,y=n.length;p<y;p++)this.addLayer(n[p])},addLayer:function(n){var l=this.getLayerId(n);return this._layers[l]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var l=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(n){var l=typeof n=="number"?n:this.getLayerId(n);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var l=Array.prototype.slice.call(arguments,1),p,y;for(p in this._layers)y=this._layers[p],y[n]&&y[n].apply(y,l);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,l){for(var p in this._layers)n.call(l,this._layers[p]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return _(n)}}),qs=function(n,l){return new kr(n,l)},Si=kr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),kr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),kr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new nn;for(var l in this._layers){var p=this._layers[l];n.extend(p.getBounds?p.getBounds():p.getLatLng())}return n}}),wc=function(n,l){return new Si(n,l)},Er=Ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){V(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,l){var p=this._getIconUrl(n);if(!p){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(p,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(y,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(n,l){var p=this.options,y=p[l+"Size"];typeof y=="number"&&(y=[y,y]);var C=oe(y),B=oe(l==="shadow"&&p.shadowAnchor||p.iconAnchor||C&&C.divideBy(2,!0));n.className="leaflet-marker-"+l+" "+(p.className||""),B&&(n.style.marginLeft=-B.x+"px",n.style.marginTop=-B.y+"px"),C&&(n.style.width=C.x+"px",n.style.height=C.y+"px")},_createImg:function(n,l){return l=l||document.createElement("img"),l.src=n,l},_getIconUrl:function(n){return se.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Lc(n){return new Er(n)}var sr=Er.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof sr.imagePath!="string"&&(sr.imagePath=this._detectIconPath()),(this.options.imagePath||sr.imagePath)+Er.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var l=function(p,y,C){var B=y.exec(p);return B&&B[C]};return n=l(n,/^url\((['"])?(.+)\1\)$/,2),n&&l(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=De("div","leaflet-default-icon-path",document.body),l=Ni(n,"background-image")||Ni(n,"backgroundImage");if(document.body.removeChild(n),l=this._stripUrl(l),l)return l;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Ml=_i.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Ui(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ve(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&rn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var l=this._marker,p=l._map,y=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,B=Qi(l._icon),K=p.getPixelBounds(),lt=p.getPixelOrigin(),mt=Ne(K.min._subtract(lt).add(C),K.max._subtract(lt).subtract(C));if(!mt.contains(B)){var kt=oe((Math.max(mt.max.x,B.x)-mt.max.x)/(K.max.x-mt.max.x)-(Math.min(mt.min.x,B.x)-mt.min.x)/(K.min.x-mt.min.x),(Math.max(mt.max.y,B.y)-mt.max.y)/(K.max.y-mt.max.y)-(Math.min(mt.min.y,B.y)-mt.min.y)/(K.min.y-mt.min.y)).multiplyBy(y);p.panBy(kt,{animate:!1}),this._draggable._newPos._add(kt),this._draggable._startPos._add(kt),an(l._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Zt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Tt(this._panRequest),this._panRequest=Zt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var l=this._marker,p=l._shadow,y=Qi(l._icon),C=l._map.layerPointToLatLng(y);p&&an(p,y),l._latlng=C,n.latlng=C,n.oldLatLng=this._oldLatLng,l.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),zo=ui.extend({options:{icon:new sr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,l){V(this,l),this._latlng=me(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var l=this._latlng;return this._latlng=me(n),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=n.icon.createIcon(this._icon),y=!1;p!==this._icon&&(this._icon&&this._removeIcon(),y=!0,n.title&&(p.title=n.title),p.tagName==="IMG"&&(p.alt=n.alt||"")),ve(p,l),n.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(p,"focus",this._panOnFocus,this);var C=n.icon.createShadow(this._shadow),B=!1;C!==this._shadow&&(this._removeShadow(),B=!0),C&&(ve(C,l),C.alt=""),this._shadow=C,n.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&B&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ze(this._icon,"focus",this._panOnFocus,this),Ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ye(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&an(this._icon,n),this._shadow&&an(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ml)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ml(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Yn(this._icon,n),this._shadow&&Yn(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var l=this.options.icon.options,p=l.iconSize?oe(l.iconSize):oe(0,0),y=l.iconAnchor?oe(l.iconAnchor):oe(0,0);n.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:p.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Pl(n,l){return new zo(n,l)}var jn=ui.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return V(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),no=jn.extend({options:{fill:!0,radius:10},initialize:function(n,l){V(this,l),this._latlng=me(n),this._radius=this.options.radius},setLatLng:function(n){var l=this._latlng;return this._latlng=me(n),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var l=n&&n.radius||this._radius;return jn.prototype.setStyle.call(this,n),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,l=this._radiusY||n,p=this._clickTolerance(),y=[n+p,l+p];this._pxBounds=new Pe(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cc(n,l){return new no(n,l)}var Bi=no.extend({initialize:function(n,l,p){if(typeof l=="number"&&(l=h({},p,{radius:l})),V(this,l),this._latlng=me(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new nn(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:jn.prototype.setStyle,_project:function(){var n=this._latlng.lng,l=this._latlng.lat,p=this._map,y=p.options.crs;if(y.distance===$t.distance){var C=Math.PI/180,B=this._mRadius/$t.R/C,K=p.project([l+B,n]),lt=p.project([l-B,n]),mt=K.add(lt).divideBy(2),kt=p.unproject(mt).lat,Wt=Math.acos((Math.cos(B*C)-Math.sin(l*C)*Math.sin(kt*C))/(Math.cos(l*C)*Math.cos(kt*C)))/C;(isNaN(Wt)||Wt===0)&&(Wt=B/Math.cos(Math.PI/180*l)),this._point=mt.subtract(p.getPixelOrigin()),this._radius=isNaN(Wt)?0:mt.x-p.project([kt,n-Wt]).x,this._radiusY=mt.y-K.y}else{var pe=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(pe).x}this._updateBounds()}});function kc(n,l,p){return new Bi(n,l,p)}var Ti=jn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,l){V(this,l),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var l=1/0,p=null,y=or,C,B,K=0,lt=this._parts.length;K<lt;K++)for(var mt=this._parts[K],kt=1,Wt=mt.length;kt<Wt;kt++){C=mt[kt-1],B=mt[kt];var pe=y(n,C,B,!0);pe<l&&(l=pe,p=y(n,C,B))}return p&&(p.distance=Math.sqrt(l)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return to(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,l){return l=l||this._defaultShape(),n=me(n),l.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new nn,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var l=[],p=en(n),y=0,C=n.length;y<C;y++)p?(l[y]=me(n[y]),this._bounds.extend(l[y])):l[y]=this._convertLatLngs(n[y]);return l},_project:function(){var n=new Pe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),l=new Et(n,n);this._rawPxBounds&&(this._pxBounds=new Pe([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(n,l,p){var y=n[0]instanceof Be,C=n.length,B,K;if(y){for(K=[],B=0;B<C;B++)K[B]=this._map.latLngToLayerPoint(n[B]),p.extend(K[B]);l.push(K)}else for(B=0;B<C;B++)this._projectLatlngs(n[B],l,p)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,p,y,C,B,K,lt,mt;for(p=0,C=0,B=this._rings.length;p<B;p++)for(mt=this._rings[p],y=0,K=mt.length;y<K-1;y++)lt=Cr(mt[y],mt[y+1],n,y,!0),lt&&(l[C]=l[C]||[],l[C].push(lt[0]),(lt[1]!==mt[y+1]||y===K-2)&&(l[C].push(lt[1]),C++))}},_simplifyPoints:function(){for(var n=this._parts,l=this.options.smoothFactor,p=0,y=n.length;p<y;p++)n[p]=$s(n[p],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,l){var p,y,C,B,K,lt,mt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(p=0,B=this._parts.length;p<B;p++)for(lt=this._parts[p],y=0,K=lt.length,C=K-1;y<K;C=y++)if(!(!l&&y===0)&&kl(n,lt[C],lt[y])<=mt)return!0;return!1}});function Ks(n,l){return new Ti(n,l)}Ti._flat=Zs;var gi=Ti.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var l=Ti.prototype._convertLatLngs.call(this,n),p=l.length;return p>=2&&l[0]instanceof Be&&l[0].equals(l[p-1])&&l.pop(),l},_setLatLngs:function(n){Ti.prototype._setLatLngs.call(this,n),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,l=this.options.weight,p=new Et(l,l);if(n=new Pe(n.min.subtract(p),n.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,C=this._rings.length,B;y<C;y++)B=Ll(this._rings[y],n,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var l=!1,p,y,C,B,K,lt,mt,kt;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(B=0,mt=this._parts.length;B<mt;B++)for(p=this._parts[B],K=0,kt=p.length,lt=kt-1;K<kt;lt=K++)y=p[K],C=p[lt],y.y>n.y!=C.y>n.y&&n.x<(C.x-y.x)*(n.y-y.y)/(C.y-y.y)+y.x&&(l=!l);return l||Ti.prototype._containsPoint.call(this,n,!0)}});function Ec(n,l){return new gi(n,l)}var Ai=Si.extend({initialize:function(n,l){V(this,l),this._layers={},n&&this.addData(n)},addData:function(n){var l=U(n)?n:n.features,p,y,C;if(l){for(p=0,y=l.length;p<y;p++)C=l[p],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var B=this.options;if(B.filter&&!B.filter(n))return this;var K=Vo(n,B);return K?(K.feature=ro(n),K.defaultOptions=K.options,this.resetStyle(K),B.onEachFeature&&B.onEachFeature(n,K),this.addLayer(K)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=h({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(l){this._setLayerStyle(l,n)},this)},_setLayerStyle:function(n,l){n.setStyle&&(typeof l=="function"&&(l=l(n.feature)),n.setStyle(l))}});function Vo(n,l){var p=n.type==="Feature"?n.geometry:n,y=p?p.coordinates:null,C=[],B=l&&l.pointToLayer,K=l&&l.coordsToLatLng||Js,lt,mt,kt,Wt;if(!y&&!p)return null;switch(p.type){case"Point":return lt=K(y),Ws(B,n,lt,l);case"MultiPoint":for(kt=0,Wt=y.length;kt<Wt;kt++)lt=K(y[kt]),C.push(Ws(B,n,lt,l));return new Si(C);case"LineString":case"MultiLineString":return mt=io(y,p.type==="LineString"?0:1,K),new Ti(mt,l);case"Polygon":case"MultiPolygon":return mt=io(y,p.type==="Polygon"?1:2,K),new gi(mt,l);case"GeometryCollection":for(kt=0,Wt=p.geometries.length;kt<Wt;kt++){var pe=Vo({geometry:p.geometries[kt],type:"Feature",properties:n.properties},l);pe&&C.push(pe)}return new Si(C);case"FeatureCollection":for(kt=0,Wt=p.features.length;kt<Wt;kt++){var ke=Vo(p.features[kt],l);ke&&C.push(ke)}return new Si(C);default:throw new Error("Invalid GeoJSON object.")}}function Ws(n,l,p,y){return n?n(l,p):new zo(p,y&&y.markersInheritOptions&&y)}function Js(n){return new Be(n[1],n[0],n[2])}function io(n,l,p){for(var y=[],C=0,B=n.length,K;C<B;C++)K=l?io(n[C],l-1,p):(p||Js)(n[C]),y.push(K);return y}function Ys(n,l){return n=me(n),n.alt!==void 0?[P(n.lng,l),P(n.lat,l),P(n.alt,l)]:[P(n.lng,l),P(n.lat,l)]}function Uo(n,l,p,y){for(var C=[],B=0,K=n.length;B<K;B++)C.push(l?Uo(n[B],en(n[B])?0:l-1,p,y):Ys(n[B],y));return!l&&p&&C.length>0&&C.push(C[0].slice()),C}function Mr(n,l){return n.feature?h({},n.feature,{geometry:l}):ro(l)}function ro(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var oo={toGeoJSON:function(n){return Mr(this,{type:"Point",coordinates:Ys(this.getLatLng(),n)})}};zo.include(oo),Bi.include(oo),no.include(oo),Ti.include({toGeoJSON:function(n){var l=!en(this._latlngs),p=Uo(this._latlngs,l?1:0,!1,n);return Mr(this,{type:(l?"Multi":"")+"LineString",coordinates:p})}}),gi.include({toGeoJSON:function(n){var l=!en(this._latlngs),p=l&&!en(this._latlngs[0]),y=Uo(this._latlngs,p?2:l?1:0,!0,n);return l||(y=[y]),Mr(this,{type:(p?"Multi":"")+"Polygon",coordinates:y})}}),kr.include({toMultiPoint:function(n){var l=[];return this.eachLayer(function(p){l.push(p.toGeoJSON(n).geometry.coordinates)}),Mr(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(n){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(n);var p=l==="GeometryCollection",y=[];return this.eachLayer(function(C){if(C.toGeoJSON){var B=C.toGeoJSON(n);if(p)y.push(B.geometry);else{var K=ro(B);K.type==="FeatureCollection"?y.push.apply(y,K.features):y.push(K)}}}),p?Mr(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Xs(n,l){return new Ai(n,l)}var Qs=Xs,Go=ui.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,l,p){this._url=n,this._bounds=He(l),V(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&br(this._image),this},bringToBack:function(){return this._map&&Yi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=He(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",l=this._image=n?this._url:De("img");if(ve(l,"leaflet-image-layer"),this._zoomAnimated&&ve(l,"leaflet-zoom-animated"),this.options.className&&ve(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=u(this.fire,this,"load"),l.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(n){var l=this._map.getZoomScale(n.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Xi(this._image,p,l)},_reset:function(){var n=this._image,l=new Pe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=l.getSize();an(n,l.min),n.style.width=p.x+"px",n.style.height=p.y+"px"},_updateOpacity:function(){Yn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Ho=function(n,l,p){return new Go(n,l,p)},ta=Go.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",l=this._image=n?this._url:De("video");if(ve(l,"leaflet-image-layer"),this._zoomAnimated&&ve(l,"leaflet-zoom-animated"),this.options.className&&ve(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=u(this.fire,this,"load"),n){for(var p=l.getElementsByTagName("source"),y=[],C=0;C<p.length;C++)y.push(p[C].src);this._url=p.length>0?y:[l.src];return}U(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var K=De("source");K.src=this._url[B],l.appendChild(K)}}});function Mc(n,l,p){return new ta(n,l,p)}var Sl=Go.extend({_initImage:function(){var n=this._image=this._url;ve(n,"leaflet-image-layer"),this._zoomAnimated&&ve(n,"leaflet-zoom-animated"),this.options.className&&ve(n,this.options.className),n.onselectstart=w,n.onmousemove=w}});function Pc(n,l,p){return new Sl(n,l,p)}var Nn=ui.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,l){n&&(n instanceof Be||U(n))?(this._latlng=me(n),V(this,l)):(V(this,n),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Yn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Yn(this._container,1),this.bringToFront(),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Yn(this._container,0),this._removeTimeout=setTimeout(u(Ye,void 0,this._container),200)):Ye(this._container),this.options.interactive&&(rn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=me(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&br(this._container),this},bringToBack:function(){return this._map&&Yi(this._container),this},_prepareOpen:function(n){var l=this._source;if(!l._map)return!1;if(l instanceof Si){l=null;var p=this._source._layers;for(var y in p)if(p[y]._map){l=p[y];break}if(!l)return!1;this._source=l}if(!n)if(l.getCenter)n=l.getCenter();else if(l.getLatLng)n=l.getLatLng();else if(l.getBounds)n=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")n.innerHTML=l;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),l=oe(this.options.offset),p=this._getAnchor();this._zoomAnimated?an(this._container,n.add(p)):l=l.add(n).add(p);var y=this._containerBottom=-l.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=y+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Me.include({_initOverlay:function(n,l,p,y){var C=l;return C instanceof n||(C=new n(y).setContent(l)),p&&C.setLatLng(p),C}}),ui.include({_initOverlay:function(n,l,p,y){var C=p;return C instanceof n?(V(C,y),C._source=this):(C=l&&!y?l:new n(y,this),C.setContent(p)),C}});var $o=Nn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Nn.prototype.openOn.call(this,n)},onAdd:function(n){Nn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof jn||this._source.on("preclick",er))},onRemove:function(n){Nn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof jn||this._source.off("preclick",er))},getEvents:function(){var n=Nn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",l=this._container=De("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=De("div",n+"-content-wrapper",l);if(this._contentNode=De("div",n+"-content",p),Xr(l),Vs(this._contentNode),ge(l,"contextmenu",er),this._tipContainer=De("div",n+"-tip-container",l),this._tip=De("div",n+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=De("a",n+"-close-button",l);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',ge(y,"click",function(C){Ln(C),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,l=n.style;l.width="",l.whiteSpace="nowrap";var p=n.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),l.width=p+1+"px",l.whiteSpace="",l.height="";var y=n.offsetHeight,C=this.options.maxHeight,B="leaflet-popup-scrolled";C&&y>C?(l.height=C+"px",ve(n,B)):rn(n,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),p=this._getAnchor();an(this._container,l.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,l=parseInt(Ni(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+l,y=this._containerWidth,C=new Et(this._containerLeft,-p-this._containerBottom);C._add(Qi(this._container));var B=n.layerPointToContainerPoint(C),K=oe(this.options.autoPanPadding),lt=oe(this.options.autoPanPaddingTopLeft||K),mt=oe(this.options.autoPanPaddingBottomRight||K),kt=n.getSize(),Wt=0,pe=0;B.x+y+mt.x>kt.x&&(Wt=B.x+y-kt.x+mt.x),B.x-Wt-lt.x<0&&(Wt=B.x-lt.x),B.y+p+mt.y>kt.y&&(pe=B.y+p-kt.y+mt.y),B.y-pe-lt.y<0&&(pe=B.y-lt.y),(Wt||pe)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([Wt,pe]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Sc=function(n,l){return new $o(n,l)};Me.mergeOptions({closePopupOnClick:!0}),Me.include({openPopup:function(n,l,p){return this._initOverlay($o,n,l,p).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),ui.include({bindPopup:function(n,l){return this._popup=this._initOverlay($o,this._popup,n,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Si||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){nr(n);var l=n.layer||n.target;if(this._popup._source===l&&!(l instanceof jn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=l,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Zo=Nn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Nn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Nn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Nn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",l=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=De("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var l,p,y=this._map,C=this._container,B=y.latLngToContainerPoint(y.getCenter()),K=y.layerPointToContainerPoint(n),lt=this.options.direction,mt=C.offsetWidth,kt=C.offsetHeight,Wt=oe(this.options.offset),pe=this._getAnchor();lt==="top"?(l=mt/2,p=kt):lt==="bottom"?(l=mt/2,p=0):lt==="center"?(l=mt/2,p=kt/2):lt==="right"?(l=0,p=kt/2):lt==="left"?(l=mt,p=kt/2):K.x<B.x?(lt="right",l=0,p=kt/2):(lt="left",l=mt+(Wt.x+pe.x)*2,p=kt/2),n=n.subtract(oe(l,p,!0)).add(Wt).add(pe),rn(C,"leaflet-tooltip-right"),rn(C,"leaflet-tooltip-left"),rn(C,"leaflet-tooltip-top"),rn(C,"leaflet-tooltip-bottom"),ve(C,"leaflet-tooltip-"+lt),an(C,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Yn(this._container,n)},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(l)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bc=function(n,l){return new Zo(n,l)};Me.include({openTooltip:function(n,l,p){return this._initOverlay(Zo,n,l,p).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),ui.include({bindTooltip:function(n,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Zo,this._tooltip,n,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var l=n?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[l](p),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Si||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var l=typeof n.getElement=="function"&&n.getElement();l&&(ge(l,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ge(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var l=typeof n.getElement=="function"&&n.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var l=n.latlng,p,y;this._tooltip.options.sticky&&n.originalEvent&&(p=this._map.mouseEventToContainerPoint(n.originalEvent),y=this._map.containerPointToLayerPoint(p),l=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(l)}});var Bl=Er.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var l=n&&n.tagName==="DIV"?n:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Kr(l),l.appendChild(p.html)):l.innerHTML=p.html!==!1?p.html:"",p.bgPos){var y=oe(p.bgPos);l.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Tc(n){return new Bl(n)}Er.Default=sr;var so=ui.extend({options:{tileSize:256,opacity:1,updateWhenIdle:se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){V(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Ye(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(br(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof Et?n:new Et(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var l=this.getPane().children,p=-n(-1/0,1/0),y=0,C=l.length,B;y<C;y++)B=l[y].style.zIndex,l[y]!==this._container&&B&&(p=n(p,+B));isFinite(p)&&(this.options.zIndex=p+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!se.ielt9){Yn(this._container,this.options.opacity);var n=+new Date,l=!1,p=!1;for(var y in this._tiles){var C=this._tiles[y];if(!(!C.current||!C.loaded)){var B=Math.min(1,(n-C.loaded)/200);Yn(C.el,B),B<1?l=!0:(C.active?p=!0:this._onOpaqueTile(C),C.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),l&&(Tt(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=De("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,l=this.options.maxZoom;if(n!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===n?(this._levels[p].el.style.zIndex=l-Math.abs(n-p),this._onUpdateLevel(p)):(Ye(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var y=this._levels[n],C=this._map;return y||(y=this._levels[n]={},y.el=De("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=l,y.origin=C.project(C.unproject(C.getPixelOrigin()),n).round(),y.zoom=n,this._setZoomTransform(y,C.getCenter(),C.getZoom()),w(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var n,l,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)l=this._tiles[n],l.retain=l.current;for(n in this._tiles)if(l=this._tiles[n],l.current&&!l.active){var y=l.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var l in this._tiles)this._tiles[l].coords.z===n&&this._removeTile(l)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Ye(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,l,p,y){var C=Math.floor(n/2),B=Math.floor(l/2),K=p-1,lt=new Et(+C,+B);lt.z=+K;var mt=this._tileCoordsToKey(lt),kt=this._tiles[mt];return kt&&kt.active?(kt.retain=!0,!0):(kt&&kt.loaded&&(kt.retain=!0),K>y?this._retainParent(C,B,K,y):!1)},_retainChildren:function(n,l,p,y){for(var C=2*n;C<2*n+2;C++)for(var B=2*l;B<2*l+2;B++){var K=new Et(C,B);K.z=p+1;var lt=this._tileCoordsToKey(K),mt=this._tiles[lt];if(mt&&mt.active){mt.retain=!0;continue}else mt&&mt.loaded&&(mt.retain=!0);p+1<y&&this._retainChildren(C,B,p+1,y)}},_resetView:function(n){var l=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var l=this.options;return l.minNativeZoom!==void 0&&n<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<n?l.maxNativeZoom:n},_setView:function(n,l,p,y){var C=Math.round(l);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var B=this.options.updateWhenZooming&&C!==this._tileZoom;(!y||B)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(n),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(n,l)},_setZoomTransforms:function(n,l){for(var p in this._levels)this._setZoomTransform(this._levels[p],n,l)},_setZoomTransform:function(n,l,p){var y=this._map.getZoomScale(p,n.zoom),C=n.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(l,p)).round();se.any3d?Xi(n.el,C,y):an(n.el,C)},_resetGrid:function(){var n=this._map,l=n.options.crs,p=this._tileSize=this.getTileSize(),y=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,l.wrapLng[0]],y).x/p.x),Math.ceil(n.project([0,l.wrapLng[1]],y).x/p.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([l.wrapLat[0],0],y).y/p.x),Math.ceil(n.project([l.wrapLat[1],0],y).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var l=this._map,p=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),y=l.getZoomScale(p,this._tileZoom),C=l.project(n,this._tileZoom).floor(),B=l.getSize().divideBy(y*2);return new Pe(C.subtract(B),C.add(B))},_update:function(n){var l=this._map;if(l){var p=this._clampZoom(l.getZoom());if(n===void 0&&(n=l.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(n),C=this._pxBoundsToTileRange(y),B=C.getCenter(),K=[],lt=this.options.keepBuffer,mt=new Pe(C.getBottomLeft().subtract([lt,-lt]),C.getTopRight().add([lt,-lt]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var kt in this._tiles){var Wt=this._tiles[kt].coords;(Wt.z!==this._tileZoom||!mt.contains(new Et(Wt.x,Wt.y)))&&(this._tiles[kt].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(n,p);return}for(var pe=C.min.y;pe<=C.max.y;pe++)for(var ke=C.min.x;ke<=C.max.x;ke++){var Dn=new Et(ke,pe);if(Dn.z=this._tileZoom,!!this._isValidTile(Dn)){var ln=this._tiles[this._tileCoordsToKey(Dn)];ln?ln.current=!0:K.push(Dn)}}if(K.sort(function(yn,Hi){return yn.distanceTo(B)-Hi.distanceTo(B)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var un=document.createDocumentFragment();for(ke=0;ke<K.length;ke++)this._addTile(K[ke],un);this._level.el.appendChild(un)}}}},_isValidTile:function(n){var l=this._map.options.crs;if(!l.infinite){var p=this._globalTileRange;if(!l.wrapLng&&(n.x<p.min.x||n.x>p.max.x)||!l.wrapLat&&(n.y<p.min.y||n.y>p.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(n);return He(this.options.bounds).overlaps(y)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var l=this._map,p=this.getTileSize(),y=n.scaleBy(p),C=y.add(p),B=l.unproject(y,n.z),K=l.unproject(C,n.z);return[B,K]},_tileCoordsToBounds:function(n){var l=this._tileCoordsToNwSe(n),p=new nn(l[0],l[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var l=n.split(":"),p=new Et(+l[0],+l[1]);return p.z=+l[2],p},_removeTile:function(n){var l=this._tiles[n];l&&(Ye(l.el),delete this._tiles[n],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){ve(n,"leaflet-tile");var l=this.getTileSize();n.style.width=l.x+"px",n.style.height=l.y+"px",n.onselectstart=w,n.onmousemove=w,se.ielt9&&this.options.opacity<1&&Yn(n,this.options.opacity)},_addTile:function(n,l){var p=this._getTilePos(n),y=this._tileCoordsToKey(n),C=this.createTile(this._wrapCoords(n),u(this._tileReady,this,n));this._initTile(C),this.createTile.length<2&&Zt(u(this._tileReady,this,n,null,C)),an(C,p),this._tiles[y]={el:C,coords:n,current:!0},l.appendChild(C),this.fire("tileloadstart",{tile:C,coords:n})},_tileReady:function(n,l,p){l&&this.fire("tileerror",{error:l,tile:p,coords:n});var y=this._tileCoordsToKey(n);p=this._tiles[y],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Yn(p.el,0),Tt(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),l||(ve(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),se.ielt9||!this._map._fadeAnimated?Zt(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var l=new Et(this._wrapX?b(n.x,this._wrapX):n.x,this._wrapY?b(n.y,this._wrapY):n.y);return l.z=n.z,l},_pxBoundsToTileRange:function(n){var l=this.getTileSize();return new Pe(n.min.unscaleBy(l).floor(),n.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Ac(n){return new so(n)}var ar=so.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,l){this._url=n,l=V(this,l),l.detectRetina&&se.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,l){return this._url===n&&l===void 0&&(l=!0),this._url=n,l||this.redraw(),this},createTile:function(n,l){var p=document.createElement("img");return ge(p,"load",u(this._tileOnLoad,this,l,p)),ge(p,"error",u(this._tileOnError,this,l,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(n),p},getTileUrl:function(n){var l={r:se.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-n.y;this.options.tms&&(l.y=p),l["-y"]=p}return ct(this._url,h(l,this.options))},_tileOnLoad:function(n,l){se.ielt9?setTimeout(u(n,this,null,l),0):n(null,l)},_tileOnError:function(n,l,p){var y=this.options.errorTileUrl;y&&l.getAttribute("src")!==y&&(l.src=y),n(p,l)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,l=this.options.maxZoom,p=this.options.zoomReverse,y=this.options.zoomOffset;return p&&(n=l-n),n+y},_getSubdomain:function(n){var l=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var n,l;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(l=this._tiles[n].el,l.onload=w,l.onerror=w,!l.complete)){l.src=gt;var p=this._tiles[n].coords;Ye(l),delete this._tiles[n],this.fire("tileabort",{tile:l,coords:p})}},_removeTile:function(n){var l=this._tiles[n];if(l)return l.el.setAttribute("src",gt),so.prototype._removeTile.call(this,n)},_tileReady:function(n,l,p){if(!(!this._map||p&&p.getAttribute("src")===gt))return so.prototype._tileReady.call(this,n,l,p)}});function qo(n,l){return new ar(n,l)}var Tl=ar.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,l){this._url=n;var p=h({},this.defaultWmsParams);for(var y in l)y in this.options||(p[y]=l[y]);l=V(this,l);var C=l.detectRetina&&se.retina?2:1,B=this.getTileSize();p.width=B.x*C,p.height=B.y*C,this.wmsParams=p},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ar.prototype.onAdd.call(this,n)},getTileUrl:function(n){var l=this._tileCoordsToNwSe(n),p=this._crs,y=Ne(p.project(l[0]),p.project(l[1])),C=y.min,B=y.max,K=(this._wmsVersion>=1.3&&this._crs===No?[C.y,C.x,B.y,B.x]:[C.x,C.y,B.x,B.y]).join(","),lt=ar.prototype.getTileUrl.call(this,n);return lt+rt(this.wmsParams,lt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(n,l){return h(this.wmsParams,n),l||this.redraw(),this}});function Oc(n,l){return new Tl(n,l)}ar.WMS=Tl,qo.wms=Oc;var yi=ui.extend({options:{padding:.1},initialize:function(n){V(this,n),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,l){var p=this._map.getZoomScale(l,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,l),B=y.multiplyBy(-p).add(C).subtract(this._map._getNewPixelOrigin(n,l));se.any3d?Xi(this._container,B,p):an(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,l=this._map.getSize(),p=this._map.containerPointToLayerPoint(l.multiplyBy(-n)).round();this._bounds=new Pe(p,p.add(l.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ko=yi.extend({options:{tolerance:0},getEvents:function(){var n=yi.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ge(n,"mousemove",this._onMouseMove,this),ge(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ge(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Tt(this._redrawRequest),delete this._ctx,Ye(this._container),Ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var l in this._layers)n=this._layers[l],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yi.prototype._update.call(this);var n=this._bounds,l=this._container,p=n.getSize(),y=se.retina?2:1;an(l,n.min),l.width=y*p.x,l.height=y*p.y,l.style.width=p.x+"px",l.style.height=p.y+"px",se.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){yi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[_(n)]=n;var l=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var l=n._order,p=l.next,y=l.prev;p?p.prev=y:this._drawLast=y,y?y.next=p:this._drawFirst=p,delete n._order,delete this._layers[_(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var l=n.options.dashArray.split(/[, ]+/),p=[],y,C;for(C=0;C<l.length;C++){if(y=Number(l[C]),isNaN(y))return;p.push(y)}n.options._dashArray=p}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Zt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var l=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Pe,this._redrawBounds.extend(n._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(n._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var l=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,l=this._redrawBounds;if(this._ctx.save(),l){var p=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)n=y.layer,(!l||n._pxBounds&&n._pxBounds.intersects(l))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,l){if(this._drawing){var p,y,C,B,K=n._parts,lt=K.length,mt=this._ctx;if(lt){for(mt.beginPath(),p=0;p<lt;p++){for(y=0,C=K[p].length;y<C;y++)B=K[p][y],mt[y?"lineTo":"moveTo"](B.x,B.y);l&&mt.closePath()}this._fillStroke(mt,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var l=n._point,p=this._ctx,y=Math.max(Math.round(n._radius),1),C=(Math.max(Math.round(n._radiusY),1)||y)/y;C!==1&&(p.save(),p.scale(1,C)),p.beginPath(),p.arc(l.x,l.y/C,y,0,Math.PI*2,!1),C!==1&&p.restore(),this._fillStroke(p,n)}},_fillStroke:function(n,l){var p=l.options;p.fill&&(n.globalAlpha=p.fillOpacity,n.fillStyle=p.fillColor||p.color,n.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(n.setLineDash&&n.setLineDash(l.options&&l.options._dashArray||[]),n.globalAlpha=p.opacity,n.lineWidth=p.weight,n.strokeStyle=p.color,n.lineCap=p.lineCap,n.lineJoin=p.lineJoin,n.stroke())},_onClick:function(n){for(var l=this._map.mouseEventToLayerPoint(n),p,y,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(l)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(p))&&(y=p);this._fireEvent(y?[y]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,l)}},_handleMouseOut:function(n){var l=this._hoveredLayer;l&&(rn(this._container,"leaflet-interactive"),this._fireEvent([l],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,l){if(!this._mouseHoverThrottled){for(var p,y,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(l)&&(y=p);y!==this._hoveredLayer&&(this._handleMouseOut(n),y&&(ve(this._container,"leaflet-interactive"),this._fireEvent([y],n,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,l,p){this._map._fireDOMEvent(l,p||l.type,n)},_bringToFront:function(n){var l=n._order;if(l){var p=l.next,y=l.prev;if(p)p.prev=y;else return;y?y.next=p:p&&(this._drawFirst=p),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(n)}},_bringToBack:function(n){var l=n._order;if(l){var p=l.next,y=l.prev;if(y)y.next=p;else return;p?p.prev=y:y&&(this._drawLast=y),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(n)}}});function Al(n){return se.canvas?new Ko(n):null}var ao=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ea={_initContainer:function(){this._container=De("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yi.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var l=n._container=ao("shape");ve(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",n._path=ao("path"),l.appendChild(n._path),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){var l=n._container;this._container.appendChild(l),n.options.interactive&&n.addInteractiveTarget(l)},_removePath:function(n){var l=n._container;Ye(l),n.removeInteractiveTarget(l),delete this._layers[_(n)]},_updateStyle:function(n){var l=n._stroke,p=n._fill,y=n.options,C=n._container;C.stroked=!!y.stroke,C.filled=!!y.fill,y.stroke?(l||(l=n._stroke=ao("stroke")),C.appendChild(l),l.weight=y.weight+"px",l.color=y.color,l.opacity=y.opacity,y.dashArray?l.dashStyle=U(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=y.lineCap.replace("butt","flat"),l.joinstyle=y.lineJoin):l&&(C.removeChild(l),n._stroke=null),y.fill?(p||(p=n._fill=ao("fill")),C.appendChild(p),p.color=y.fillColor||y.color,p.opacity=y.fillOpacity):p&&(C.removeChild(p),n._fill=null)},_updateCircle:function(n){var l=n._point.round(),p=Math.round(n._radius),y=Math.round(n._radiusY||p);this._setPath(n,n._empty()?"M0 0":"AL "+l.x+","+l.y+" "+p+","+y+" 0,"+65535*360)},_setPath:function(n,l){n._path.v=l},_bringToFront:function(n){br(n._container)},_bringToBack:function(n){Yi(n._container)}},Rn=se.vml?ao:dt,gn=yi.extend({_initContainer:function(){this._container=Rn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Rn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ye(this._container),Ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yi.prototype._update.call(this);var n=this._bounds,l=n.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,p.setAttribute("width",l.x),p.setAttribute("height",l.y)),an(p,n.min),p.setAttribute("viewBox",[n.min.x,n.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(n){var l=n._path=Rn("path");n.options.className&&ve(l,n.options.className),n.options.interactive&&ve(l,"leaflet-interactive"),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Ye(n._path),n.removeInteractiveTarget(n._path),delete this._layers[_(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var l=n._path,p=n.options;l&&(p.stroke?(l.setAttribute("stroke",p.color),l.setAttribute("stroke-opacity",p.opacity),l.setAttribute("stroke-width",p.weight),l.setAttribute("stroke-linecap",p.lineCap),l.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?l.setAttribute("stroke-dasharray",p.dashArray):l.removeAttribute("stroke-dasharray"),p.dashOffset?l.setAttribute("stroke-dashoffset",p.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),p.fill?(l.setAttribute("fill",p.fillColor||p.color),l.setAttribute("fill-opacity",p.fillOpacity),l.setAttribute("fill-rule",p.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(n,l){this._setPath(n,Mt(n._parts,l))},_updateCircle:function(n){var l=n._point,p=Math.max(Math.round(n._radius),1),y=Math.max(Math.round(n._radiusY),1)||p,C="a"+p+","+y+" 0 1,0 ",B=n._empty()?"M0 0":"M"+(l.x-p)+","+l.y+C+p*2+",0 "+C+-p*2+",0 ";this._setPath(n,B)},_setPath:function(n,l){n._path.setAttribute("d",l)},_bringToFront:function(n){br(n._path)},_bringToBack:function(n){Yi(n._path)}});se.vml&&gn.include(ea);function na(n){return se.svg||se.vml?new gn(n):null}Me.include({getRenderer:function(n){var l=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var l=this._paneRenderers[n];return l===void 0&&(l=this._createRenderer({pane:n}),this._paneRenderers[n]=l),l},_createRenderer:function(n){return this.options.preferCanvas&&Al(n)||na(n)}});var ti=gi.extend({initialize:function(n,l){gi.prototype.initialize.call(this,this._boundsToLatLngs(n),l)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=He(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function _e(n,l){return new ti(n,l)}gn.create=Rn,gn.pointsToPath=Mt,Ai.geometryToLayer=Vo,Ai.coordsToLatLng=Js,Ai.coordsToLatLngs=io,Ai.latLngToCoords=Ys,Ai.latLngsToCoords=Uo,Ai.getFeature=Mr,Ai.asFeature=ro,Me.mergeOptions({boxZoom:!0});var Wo=_i.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Wr(),Rs(),this._startPoint=this._map.mouseEventToContainerPoint(n),ge(document,{contextmenu:nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=De("div","leaflet-zoom-box",this._container),ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var l=new Pe(this._point,this._startPoint),p=l.getSize();an(this._box,l.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Ye(this._box),rn(this._container,"leaflet-crosshair")),Jr(),Ds(),Ze(document,{contextmenu:nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var l=new nn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Me.addInitHook("addHandler","boxZoom",Wo),Me.mergeOptions({doubleClickZoom:!0});var Jo=_i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var l=this._map,p=l.getZoom(),y=l.options.zoomDelta,C=n.originalEvent.shiftKey?p-y:p+y;l.options.doubleClickZoom==="center"?l.setZoom(C):l.setZoomAround(n.containerPoint,C)}});Me.addInitHook("addHandler","doubleClickZoom",Jo),Me.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Oi=_i.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Ui(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){rn(this._map._container,"leaflet-grab"),rn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=He(this._map.options.maxBounds);this._offsetLimit=Ne(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var l=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(l),this._prunePositions(l)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,l){return n-(n-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;n.x<l.min.x&&(n.x=this._viscousLimit(n.x,l.min.x)),n.y<l.min.y&&(n.y=this._viscousLimit(n.y,l.min.y)),n.x>l.max.x&&(n.x=this._viscousLimit(n.x,l.max.x)),n.y>l.max.y&&(n.y=this._viscousLimit(n.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,l=Math.round(n/2),p=this._initialWorldOffset,y=this._draggable._newPos.x,C=(y-l+p)%n+l-p,B=(y+l+p)%n-l-p,K=Math.abs(C+p)<Math.abs(B+p)?C:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(n){var l=this._map,p=l.options,y=!p.inertia||n.noInertia||this._times.length<2;if(l.fire("dragend",n),y)l.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,K=p.easeLinearity,lt=C.multiplyBy(K/B),mt=lt.distanceTo([0,0]),kt=Math.min(p.inertiaMaxSpeed,mt),Wt=lt.multiplyBy(kt/mt),pe=kt/(p.inertiaDeceleration*K),ke=Wt.multiplyBy(-pe/2).round();!ke.x&&!ke.y?l.fire("moveend"):(ke=l._limitOffset(ke,l.options.maxBounds),Zt(function(){l.panBy(ke,{duration:pe,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Me.addInitHook("addHandler","dragging",Oi),Me.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pn=_i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ge(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,l=document.documentElement,p=n.scrollTop||l.scrollTop,y=n.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(y,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var l=this._panKeys={},p=this.keyCodes,y,C;for(y=0,C=p.left.length;y<C;y++)l[p.left[y]]=[-1*n,0];for(y=0,C=p.right.length;y<C;y++)l[p.right[y]]=[n,0];for(y=0,C=p.down.length;y<C;y++)l[p.down[y]]=[0,n];for(y=0,C=p.up.length;y<C;y++)l[p.up[y]]=[0,-1*n]},_setZoomDelta:function(n){var l=this._zoomKeys={},p=this.keyCodes,y,C;for(y=0,C=p.zoomIn.length;y<C;y++)l[p.zoomIn[y]]=n;for(y=0,C=p.zoomOut.length;y<C;y++)l[p.zoomOut[y]]=-n},_addHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var l=n.keyCode,p=this._map,y;if(l in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(y=this._panKeys[l],n.shiftKey&&(y=oe(y).multiplyBy(3)),p.options.maxBounds&&(y=p._limitOffset(oe(y),p.options.maxBounds)),p.options.worldCopyJump){var C=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(y)));p.panTo(C)}else p.panBy(y)}else if(l in this._zoomKeys)p.setZoom(p.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;nr(n)}}});Me.addInitHook("addHandler","keyboard",pn),Me.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ia=_i.extend({addHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var l=yl(n),p=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var y=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),y),nr(n)},_performZoom:function(){var n=this._map,l=n.getZoom(),p=this._map.options.zoomSnap||0;n._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,B=p?Math.ceil(C/p)*p:C,K=n._limitZoom(l+(this._delta>0?B:-B))-l;this._delta=0,this._startTime=null,K&&(n.options.scrollWheelZoom==="center"?n.setZoom(l+K):n.setZoomAround(this._lastMousePos,l+K))}});Me.addInitHook("addHandler","scrollWheelZoom",ia);var ei=600;Me.mergeOptions({tapHold:se.touchNative&&se.safari&&se.mobile,tapTolerance:15});var $n=_i.extend({addHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var l=n.touches[0];this._startPos=this._newPos=new Et(l.clientX,l.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ge(document,"touchend",Ln),ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),ei),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Ze(document,"touchend",Ln),Ze(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Ze(document,"touchend touchcancel contextmenu",this._cancel,this),Ze(document,"touchmove",this._onMove,this)},_onMove:function(n){var l=n.touches[0];this._newPos=new Et(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,l){var p=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});p._simulated=!0,l.target.dispatchEvent(p)}});Me.addInitHook("addHandler","tapHold",$n),Me.mergeOptions({touchZoom:se.touch,bounceAtZoomLimits:!0});var Gi=_i.extend({addHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){rn(this._map._container,"leaflet-touch-zoom"),Ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var l=this._map;if(!(!n.touches||n.touches.length!==2||l._animatingZoom||this._zooming)){var p=l.mouseEventToContainerPoint(n.touches[0]),y=l.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(p.add(y)._divideBy(2))),this._startDist=p.distanceTo(y),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),Ln(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var l=this._map,p=l.mouseEventToContainerPoint(n.touches[0]),y=l.mouseEventToContainerPoint(n.touches[1]),C=p.distanceTo(y)/this._startDist;if(this._zoom=l.getScaleZoom(C,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&C<1||this._zoom>l.getMaxZoom()&&C>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var B=p._add(y)._divideBy(2)._subtract(this._centerPoint);if(C===1&&B.x===0&&B.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Tt(this._animRequest);var K=u(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Zt(K,this,!0),Ln(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Tt(this._animRequest),Ze(document,"touchmove",this._onTouchMove,this),Ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Me.addInitHook("addHandler","touchZoom",Gi),Me.BoxZoom=Wo,Me.DoubleClickZoom=Jo,Me.Drag=Oi,Me.Keyboard=pn,Me.ScrollWheelZoom=ia,Me.TapHold=$n,Me.TouchZoom=Gi,i.Bounds=Pe,i.Browser=se,i.CRS=bt,i.Canvas=Ko,i.Circle=Bi,i.CircleMarker=no,i.Class=Ce,i.Control=Hn,i.DivIcon=Bl,i.DivOverlay=Nn,i.DomEvent=_c,i.DomUtil=fc,i.Draggable=Ui,i.Evented=ie,i.FeatureGroup=Si,i.GeoJSON=Ai,i.GridLayer=so,i.Handler=_i,i.Icon=Er,i.ImageOverlay=Go,i.LatLng=Be,i.LatLngBounds=nn,i.Layer=ui,i.LayerGroup=kr,i.LineUtil=xc,i.Map=Me,i.Marker=zo,i.Mixin=yc,i.Path=jn,i.Point=Et,i.PolyUtil=vc,i.Polygon=gi,i.Polyline=Ti,i.Popup=$o,i.PosAnimation=vl,i.Projection=jo,i.Rectangle=ti,i.Renderer=yi,i.SVG=gn,i.SVGOverlay=Sl,i.TileLayer=ar,i.Tooltip=Zo,i.Transformation=Se,i.Util=ae,i.VideoOverlay=ta,i.bind=u,i.bounds=Ne,i.canvas=Al,i.circle=kc,i.circleMarker=Cc,i.control=zi,i.divIcon=Tc,i.extend=h,i.featureGroup=wc,i.geoJSON=Xs,i.geoJson=Qs,i.gridLayer=Ac,i.icon=Lc,i.imageOverlay=Ho,i.latLng=me,i.latLngBounds=He,i.layerGroup=qs,i.map=Te,i.marker=Pl,i.point=oe,i.polygon=Ec,i.polyline=Ks,i.popup=Sc,i.rectangle=_e,i.setOptions=V,i.stamp=_,i.svg=na,i.svgOverlay=Pc,i.tileLayer=qo,i.tooltip=Bc,i.transformation=je,i.version=o,i.videoOverlay=Mc;var tn=window.L;i.noConflict=function(){return window.L=tn,this},window.L=i})})(Gh,Gh.exports);var QE=Gh.exports;const ni=XE(QE),tM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",eM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",nM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",iM={className:"bg-map-asserted rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},rM={className:"bg-map-collection-object rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},Ig={className:"bg-map-georeference rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},oM={className:"bg-map-type-material map-point-marker rounded-full",iconSize:[8,8],iconAnchor:[4,4]},sM=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:iM,CollectionObject:rM,Georeference:Ig,TypeMaterial:oM},Symbol.toStringTag,{value:"Module"})),aM={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},lM={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},uM={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},cM={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},Af=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:aM,AssertedDistribution:lM,CollectionObject:uM,TypeMaterial:cM},Symbol.toStringTag,{value:"Module"})),Of=[n4,P_,i4,r4,o4];function Rf(t){const e=t.map(i=>i.type);return e.sort((i,o)=>Of.indexOf(i)-Of.indexOf(o)),e[0]}const hM=({L:t})=>({onEachFeature:(e,i)=>{i.pm.setOptions(Uh),i.pm.disable()},pointToLayer:(e,i)=>{const o=Rf(e.properties.base),h=sM[o]||Ig,s=t.marker(i,{icon:t.divIcon(h)});return s.pm.setOptions(Uh),s},style:e=>{var o;const i=Rf((o=e.properties)==null?void 0:o.base);if(Af[i])return Af[i]}});(()=>{var jd,Nd;var t=Object.create,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,h=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,u=(r,a)=>()=>(a||r((a={exports:{}}).exports,a),a.exports),f=(r,a,c,d)=>{if(a&&typeof a=="object"||typeof a=="function")for(let m of o(a))!s.call(r,m)&&m!==c&&e(r,m,{get:()=>a[m],enumerable:!(d=i(a,m))||d.enumerable});return r},_=(r,a,c)=>(c=r!=null?t(h(r)):{},f(a||!r||!r.__esModule?e(c,"default",{value:r,enumerable:!0}):c,r)),v=u((r,a)=>{function c(){this.__data__=[],this.size=0}a.exports=c}),b=u((r,a)=>{function c(d,m){return d===m||d!==d&&m!==m}a.exports=c}),w=u((r,a)=>{var c=b();function d(m,g){for(var x=m.length;x--;)if(c(m[x][0],g))return x;return-1}a.exports=d}),P=u((r,a)=>{var c=w(),d=Array.prototype,m=d.splice;function g(x){var k=this.__data__,E=c(k,x);if(E<0)return!1;var S=k.length-1;return E==S?k.pop():m.call(k,E,1),--this.size,!0}a.exports=g}),O=u((r,a)=>{var c=w();function d(m){var g=this.__data__,x=c(g,m);return x<0?void 0:g[x][1]}a.exports=d}),j=u((r,a)=>{var c=w();function d(m){return c(this.__data__,m)>-1}a.exports=d}),V=u((r,a)=>{var c=w();function d(m,g){var x=this.__data__,k=c(x,m);return k<0?(++this.size,x.push([m,g])):x[k][1]=g,this}a.exports=d}),rt=u((r,a)=>{var c=v(),d=P(),m=O(),g=j(),x=V();function k(E){var S=-1,H=E==null?0:E.length;for(this.clear();++S<H;){var N=E[S];this.set(N[0],N[1])}}k.prototype.clear=c,k.prototype.delete=d,k.prototype.get=m,k.prototype.has=g,k.prototype.set=x,a.exports=k}),ht=u((r,a)=>{var c=rt();function d(){this.__data__=new c,this.size=0}a.exports=d}),ct=u((r,a)=>{function c(d){var m=this.__data__,g=m.delete(d);return this.size=m.size,g}a.exports=c}),U=u((r,a)=>{function c(d){return this.__data__.get(d)}a.exports=c}),et=u((r,a)=>{function c(d){return this.__data__.has(d)}a.exports=c}),gt=u((r,a)=>{var c=typeof us=="object"&&us&&us.Object===Object&&us;a.exports=c}),Bt=u((r,a)=>{var c=gt(),d=typeof self=="object"&&self&&self.Object===Object&&self,m=c||d||Function("return this")();a.exports=m}),jt=u((r,a)=>{var c=Bt(),d=c.Symbol;a.exports=d}),Dt=u((r,a)=>{var c=jt(),d=Object.prototype,m=d.hasOwnProperty,g=d.toString,x=c?c.toStringTag:void 0;function k(E){var S=m.call(E,x),H=E[x];try{E[x]=void 0;var N=!0}catch{}var at=g.call(E);return N&&(S?E[x]=H:delete E[x]),at}a.exports=k}),Ct=u((r,a)=>{var c=Object.prototype,d=c.toString;function m(g){return d.call(g)}a.exports=m}),Ot=u((r,a)=>{var c=jt(),d=Dt(),m=Ct(),g="[object Null]",x="[object Undefined]",k=c?c.toStringTag:void 0;function E(S){return S==null?S===void 0?x:g:k&&k in Object(S)?d(S):m(S)}a.exports=E}),Zt=u((r,a)=>{function c(d){var m=typeof d;return d!=null&&(m=="object"||m=="function")}a.exports=c}),Tt=u((r,a)=>{var c=Ot(),d=Zt(),m="[object AsyncFunction]",g="[object Function]",x="[object GeneratorFunction]",k="[object Proxy]";function E(S){if(!d(S))return!1;var H=c(S);return H==g||H==x||H==m||H==k}a.exports=E}),ae=u((r,a)=>{var c=Bt(),d=c["__core-js_shared__"];a.exports=d}),Ce=u((r,a)=>{var c=ae(),d=function(){var g=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function m(g){return!!d&&d in g}a.exports=m}),Ge=u((r,a)=>{var c=Function.prototype,d=c.toString;function m(g){if(g!=null){try{return d.call(g)}catch{}try{return g+""}catch{}}return""}a.exports=m}),Ht=u((r,a)=>{var c=Tt(),d=Ce(),m=Zt(),g=Ge(),x=/[\\^$.*+?()[\]{}|]/g,k=/^\[object .+?Constructor\]$/,E=Function.prototype,S=Object.prototype,H=E.toString,N=S.hasOwnProperty,at=RegExp("^"+H.call(N).replace(x,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ft(St){if(!m(St)||d(St))return!1;var qt=c(St)?at:k;return qt.test(g(St))}a.exports=ft}),ie=u((r,a)=>{function c(d,m){return d==null?void 0:d[m]}a.exports=c}),Et=u((r,a)=>{var c=Ht(),d=ie();function m(g,x){var k=d(g,x);return c(k)?k:void 0}a.exports=m}),Qe=u((r,a)=>{var c=Et(),d=Bt(),m=c(d,"Map");a.exports=m}),oe=u((r,a)=>{var c=Et(),d=c(Object,"create");a.exports=d}),Pe=u((r,a)=>{var c=oe();function d(){this.__data__=c?c(null):{},this.size=0}a.exports=d}),Ne=u((r,a)=>{function c(d){var m=this.has(d)&&delete this.__data__[d];return this.size-=m?1:0,m}a.exports=c}),nn=u((r,a)=>{var c=oe(),d="__lodash_hash_undefined__",m=Object.prototype,g=m.hasOwnProperty;function x(k){var E=this.__data__;if(c){var S=E[k];return S===d?void 0:S}return g.call(E,k)?E[k]:void 0}a.exports=x}),He=u((r,a)=>{var c=oe(),d=Object.prototype,m=d.hasOwnProperty;function g(x){var k=this.__data__;return c?k[x]!==void 0:m.call(k,x)}a.exports=g}),Be=u((r,a)=>{var c=oe(),d="__lodash_hash_undefined__";function m(g,x){var k=this.__data__;return this.size+=this.has(g)?0:1,k[g]=c&&x===void 0?d:x,this}a.exports=m}),me=u((r,a)=>{var c=Pe(),d=Ne(),m=nn(),g=He(),x=Be();function k(E){var S=-1,H=E==null?0:E.length;for(this.clear();++S<H;){var N=E[S];this.set(N[0],N[1])}}k.prototype.clear=c,k.prototype.delete=d,k.prototype.get=m,k.prototype.has=g,k.prototype.set=x,a.exports=k}),bt=u((r,a)=>{var c=me(),d=rt(),m=Qe();function g(){this.size=0,this.__data__={hash:new c,map:new(m||d),string:new c}}a.exports=g}),$t=u((r,a)=>{function c(d){var m=typeof d;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?d!=="__proto__":d===null}a.exports=c}),Vt=u((r,a)=>{var c=$t();function d(m,g){var x=m.__data__;return c(g)?x[typeof g=="string"?"string":"hash"]:x.map}a.exports=d}),ee=u((r,a)=>{var c=Vt();function d(m){var g=c(this,m).delete(m);return this.size-=g?1:0,g}a.exports=d}),Se=u((r,a)=>{var c=Vt();function d(m){return c(this,m).get(m)}a.exports=d}),je=u((r,a)=>{var c=Vt();function d(m){return c(this,m).has(m)}a.exports=d}),z=u((r,a)=>{var c=Vt();function d(m,g){var x=c(this,m),k=x.size;return x.set(m,g),this.size+=x.size==k?0:1,this}a.exports=d}),q=u((r,a)=>{var c=bt(),d=ee(),m=Se(),g=je(),x=z();function k(E){var S=-1,H=E==null?0:E.length;for(this.clear();++S<H;){var N=E[S];this.set(N[0],N[1])}}k.prototype.clear=c,k.prototype.delete=d,k.prototype.get=m,k.prototype.has=g,k.prototype.set=x,a.exports=k}),dt=u((r,a)=>{var c=rt(),d=Qe(),m=q(),g=200;function x(k,E){var S=this.__data__;if(S instanceof c){var H=S.__data__;if(!d||H.length<g-1)return H.push([k,E]),this.size=++S.size,this;S=this.__data__=new m(H)}return S.set(k,E),this.size=S.size,this}a.exports=x}),Mt=u((r,a)=>{var c=rt(),d=ht(),m=ct(),g=U(),x=et(),k=dt();function E(S){var H=this.__data__=new c(S);this.size=H.size}E.prototype.clear=d,E.prototype.delete=m,E.prototype.get=g,E.prototype.has=x,E.prototype.set=k,a.exports=E}),xt=u((r,a)=>{var c=Et(),d=function(){try{var m=c(Object,"defineProperty");return m({},"",{}),m}catch{}}();a.exports=d}),Pt=u((r,a)=>{var c=xt();function d(m,g,x){g=="__proto__"&&c?c(m,g,{configurable:!0,enumerable:!0,value:x,writable:!0}):m[g]=x}a.exports=d}),Gt=u((r,a)=>{var c=Pt(),d=b();function m(g,x,k){(k!==void 0&&!d(g[x],k)||k===void 0&&!(x in g))&&c(g,x,k)}a.exports=m}),Nt=u((r,a)=>{function c(d){return function(m,g,x){for(var k=-1,E=Object(m),S=x(m),H=S.length;H--;){var N=S[d?H:++k];if(g(E[N],N,E)===!1)break}return m}}a.exports=c}),It=u((r,a)=>{var c=Nt(),d=c();a.exports=d}),At=u((r,a)=>{var c=Bt(),d=typeof r=="object"&&r&&!r.nodeType&&r,m=d&&typeof a=="object"&&a&&!a.nodeType&&a,g=m&&m.exports===d,x=g?c.Buffer:void 0,k=x?x.allocUnsafe:void 0;function E(S,H){if(H)return S.slice();var N=S.length,at=k?k(N):new S.constructor(N);return S.copy(at),at}a.exports=E}),ce=u((r,a)=>{var c=Bt(),d=c.Uint8Array;a.exports=d}),Kt=u((r,a)=>{var c=ce();function d(m){var g=new m.constructor(m.byteLength);return new c(g).set(new c(m)),g}a.exports=d}),re=u((r,a)=>{var c=Kt();function d(m,g){var x=g?c(m.buffer):m.buffer;return new m.constructor(x,m.byteOffset,m.length)}a.exports=d}),de=u((r,a)=>{function c(d,m){var g=-1,x=d.length;for(m||(m=Array(x));++g<x;)m[g]=d[g];return m}a.exports=c}),Ee=u((r,a)=>{var c=Zt(),d=Object.create,m=function(){function g(){}return function(x){if(!c(x))return{};if(d)return d(x);g.prototype=x;var k=new g;return g.prototype=void 0,k}}();a.exports=m}),ze=u((r,a)=>{function c(d,m){return function(g){return d(m(g))}}a.exports=c}),Re=u((r,a)=>{var c=ze(),d=c(Object.getPrototypeOf,Object);a.exports=d}),wn=u((r,a)=>{var c=Object.prototype;function d(m){var g=m&&m.constructor,x=typeof g=="function"&&g.prototype||c;return m===x}a.exports=d}),dn=u((r,a)=>{var c=Ee(),d=Re(),m=wn();function g(x){return typeof x.constructor=="function"&&!m(x)?c(d(x)):{}}a.exports=g}),mn=u((r,a)=>{function c(d){return d!=null&&typeof d=="object"}a.exports=c}),Pn=u((r,a)=>{var c=Ot(),d=mn(),m="[object Arguments]";function g(x){return d(x)&&c(x)==m}a.exports=g}),fi=u((r,a)=>{var c=Pn(),d=mn(),m=Object.prototype,g=m.hasOwnProperty,x=m.propertyIsEnumerable,k=c(function(){return arguments}())?c:function(E){return d(E)&&g.call(E,"callee")&&!x.call(E,"callee")};a.exports=k}),Pi=u((r,a)=>{var c=Array.isArray;a.exports=c}),Sn=u((r,a)=>{var c=9007199254740991;function d(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=c}a.exports=d}),_n=u((r,a)=>{var c=Tt(),d=Sn();function m(g){return g!=null&&d(g.length)&&!c(g)}a.exports=m}),So=u((r,a)=>{var c=_n(),d=mn();function m(g){return d(g)&&c(g)}a.exports=m}),Ju=u((r,a)=>{function c(){return!1}a.exports=c}),ks=u((r,a)=>{var c=Bt(),d=Ju(),m=typeof r=="object"&&r&&!r.nodeType&&r,g=m&&typeof a=="object"&&a&&!a.nodeType&&a,x=g&&g.exports===m,k=x?c.Buffer:void 0,E=k?k.isBuffer:void 0,S=E||d;a.exports=S}),nl=u((r,a)=>{var c=Ot(),d=Re(),m=mn(),g="[object Object]",x=Function.prototype,k=Object.prototype,E=x.toString,S=k.hasOwnProperty,H=E.call(Object);function N(at){if(!m(at)||c(at)!=g)return!1;var ft=d(at);if(ft===null)return!0;var St=S.call(ft,"constructor")&&ft.constructor;return typeof St=="function"&&St instanceof St&&E.call(St)==H}a.exports=N}),il=u((r,a)=>{var c=Ot(),d=Sn(),m=mn(),g="[object Arguments]",x="[object Array]",k="[object Boolean]",E="[object Date]",S="[object Error]",H="[object Function]",N="[object Map]",at="[object Number]",ft="[object Object]",St="[object RegExp]",qt="[object Set]",te="[object String]",Ae="[object WeakMap]",G="[object ArrayBuffer]",W="[object DataView]",tt="[object Float32Array]",pt="[object Float64Array]",it="[object Int8Array]",ut="[object Int16Array]",M="[object Int32Array]",T="[object Uint8Array]",D="[object Uint8ClampedArray]",R="[object Uint16Array]",I="[object Uint32Array]",F={};F[tt]=F[pt]=F[it]=F[ut]=F[M]=F[T]=F[D]=F[R]=F[I]=!0,F[g]=F[x]=F[G]=F[k]=F[W]=F[E]=F[S]=F[H]=F[N]=F[at]=F[ft]=F[St]=F[qt]=F[te]=F[Ae]=!1;function Y(J){return m(J)&&d(J.length)&&!!F[c(J)]}a.exports=Y}),Yu=u((r,a)=>{function c(d){return function(m){return d(m)}}a.exports=c}),Xu=u((r,a)=>{var c=gt(),d=typeof r=="object"&&r&&!r.nodeType&&r,m=d&&typeof a=="object"&&a&&!a.nodeType&&a,g=m&&m.exports===d,x=g&&c.process,k=function(){try{var E=m&&m.require&&m.require("util").types;return E||x&&x.binding&&x.binding("util")}catch{}}();a.exports=k}),rl=u((r,a)=>{var c=il(),d=Yu(),m=Xu(),g=m&&m.isTypedArray,x=g?d(g):c;a.exports=x}),ol=u((r,a)=>{function c(d,m){if(!(m==="constructor"&&typeof d[m]=="function")&&m!="__proto__")return d[m]}a.exports=c}),Qu=u((r,a)=>{var c=Pt(),d=b(),m=Object.prototype,g=m.hasOwnProperty;function x(k,E,S){var H=k[E];(!(g.call(k,E)&&d(H,S))||S===void 0&&!(E in k))&&c(k,E,S)}a.exports=x}),tc=u((r,a)=>{var c=Qu(),d=Pt();function m(g,x,k,E){var S=!k;k||(k={});for(var H=-1,N=x.length;++H<N;){var at=x[H],ft=E?E(k[at],g[at],at,k,g):void 0;ft===void 0&&(ft=g[at]),S?d(k,at,ft):c(k,at,ft)}return k}a.exports=m}),Es=u((r,a)=>{function c(d,m){for(var g=-1,x=Array(d);++g<d;)x[g]=m(g);return x}a.exports=c}),sl=u((r,a)=>{var c=9007199254740991,d=/^(?:0|[1-9]\d*)$/;function m(g,x){var k=typeof g;return x=x??c,!!x&&(k=="number"||k!="symbol"&&d.test(g))&&g>-1&&g%1==0&&g<x}a.exports=m}),ec=u((r,a)=>{var c=Es(),d=fi(),m=Pi(),g=ks(),x=sl(),k=rl(),E=Object.prototype,S=E.hasOwnProperty;function H(N,at){var ft=m(N),St=!ft&&d(N),qt=!ft&&!St&&g(N),te=!ft&&!St&&!qt&&k(N),Ae=ft||St||qt||te,G=Ae?c(N.length,String):[],W=G.length;for(var tt in N)(at||S.call(N,tt))&&!(Ae&&(tt=="length"||qt&&(tt=="offset"||tt=="parent")||te&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||x(tt,W)))&&G.push(tt);return G}a.exports=H}),nc=u((r,a)=>{function c(d){var m=[];if(d!=null)for(var g in Object(d))m.push(g);return m}a.exports=c}),ic=u((r,a)=>{var c=Zt(),d=wn(),m=nc(),g=Object.prototype,x=g.hasOwnProperty;function k(E){if(!c(E))return m(E);var S=d(E),H=[];for(var N in E)N=="constructor"&&(S||!x.call(E,N))||H.push(N);return H}a.exports=k}),ai=u((r,a)=>{var c=ec(),d=ic(),m=_n();function g(x){return m(x)?c(x,!0):d(x)}a.exports=g}),se=u((r,a)=>{var c=tc(),d=ai();function m(g){return c(g,d(g))}a.exports=m}),al=u((r,a)=>{var c=Gt(),d=At(),m=re(),g=de(),x=dn(),k=fi(),E=Pi(),S=So(),H=ks(),N=Tt(),at=Zt(),ft=nl(),St=rl(),qt=ol(),te=se();function Ae(G,W,tt,pt,it,ut,M){var T=qt(G,tt),D=qt(W,tt),R=M.get(D);if(R){c(G,tt,R);return}var I=ut?ut(T,D,tt+"",G,W,M):void 0,F=I===void 0;if(F){var Y=E(D),J=!Y&&H(D),Q=!Y&&!J&&St(D);I=D,Y||J||Q?E(T)?I=T:S(T)?I=g(T):J?(F=!1,I=d(D,!0)):Q?(F=!1,I=m(D,!0)):I=[]:ft(D)||k(D)?(I=T,k(T)?I=te(T):(!at(T)||N(T))&&(I=x(D))):F=!1}F&&(M.set(D,I),it(I,D,pt,ut,M),M.delete(D)),c(G,tt,I)}a.exports=Ae}),ll=u((r,a)=>{var c=Mt(),d=Gt(),m=It(),g=al(),x=Zt(),k=ai(),E=ol();function S(H,N,at,ft,St){H!==N&&m(N,function(qt,te){if(St||(St=new c),x(qt))g(H,N,te,at,S,ft,St);else{var Ae=ft?ft(E(H,te),qt,te+"",H,N,St):void 0;Ae===void 0&&(Ae=qt),d(H,te,Ae)}},k)}a.exports=S}),Ms=u((r,a)=>{function c(d){return d}a.exports=c}),ul=u((r,a)=>{function c(d,m,g){switch(g.length){case 0:return d.call(m);case 1:return d.call(m,g[0]);case 2:return d.call(m,g[0],g[1]);case 3:return d.call(m,g[0],g[1],g[2])}return d.apply(m,g)}a.exports=c}),Ps=u((r,a)=>{var c=ul(),d=Math.max;function m(g,x,k){return x=d(x===void 0?g.length-1:x,0),function(){for(var E=arguments,S=-1,H=d(E.length-x,0),N=Array(H);++S<H;)N[S]=E[x+S];S=-1;for(var at=Array(x+1);++S<x;)at[S]=E[S];return at[x]=k(N),c(g,this,at)}}a.exports=m}),cl=u((r,a)=>{function c(d){return function(){return d}}a.exports=c}),vr=u((r,a)=>{var c=cl(),d=xt(),m=Ms(),g=d?function(x,k){return d(x,"toString",{configurable:!0,enumerable:!1,value:c(k),writable:!0})}:m;a.exports=g}),hl=u((r,a)=>{var c=800,d=16,m=Date.now;function g(x){var k=0,E=0;return function(){var S=m(),H=d-(S-E);if(E=S,H>0){if(++k>=c)return arguments[0]}else k=0;return x.apply(void 0,arguments)}}a.exports=g}),rc=u((r,a)=>{var c=vr(),d=hl(),m=d(c);a.exports=m}),oc=u((r,a)=>{var c=Ms(),d=Ps(),m=rc();function g(x,k){return m(d(x,k,c),x+"")}a.exports=g}),sc=u((r,a)=>{var c=b(),d=_n(),m=sl(),g=Zt();function x(k,E,S){if(!g(S))return!1;var H=typeof E;return(H=="number"?d(S)&&m(E,S.length):H=="string"&&E in S)?c(S[E],k):!1}a.exports=x}),ac=u((r,a)=>{var c=oc(),d=sc();function m(g){return c(function(x,k){var E=-1,S=k.length,H=S>1?k[S-1]:void 0,N=S>2?k[2]:void 0;for(H=g.length>3&&typeof H=="function"?(S--,H):void 0,N&&d(k[0],k[1],N)&&(H=S<3?void 0:H,S=1),x=Object(x);++E<S;){var at=k[E];at&&g(x,at,E,H)}return x})}a.exports=m}),Bo=u((r,a)=>{var c=ll(),d=ac(),m=d(function(g,x,k){c(g,x,k)});a.exports=m}),Ss=u((r,a)=>{var c=Ot(),d=mn(),m="[object Symbol]";function g(x){return typeof x=="symbol"||d(x)&&c(x)==m}a.exports=g}),To=u((r,a)=>{var c=Pi(),d=Ss(),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;function x(k,E){if(c(k))return!1;var S=typeof k;return S=="number"||S=="symbol"||S=="boolean"||k==null||d(k)?!0:g.test(k)||!m.test(k)||E!=null&&k in Object(E)}a.exports=x}),lc=u((r,a)=>{var c=q(),d="Expected a function";function m(g,x){if(typeof g!="function"||x!=null&&typeof x!="function")throw new TypeError(d);var k=function(){var E=arguments,S=x?x.apply(this,E):E[0],H=k.cache;if(H.has(S))return H.get(S);var N=g.apply(this,E);return k.cache=H.set(S,N)||H,N};return k.cache=new(m.Cache||c),k}m.Cache=c,a.exports=m}),uc=u((r,a)=>{var c=lc(),d=500;function m(g){var x=c(g,function(E){return k.size===d&&k.clear(),E}),k=x.cache;return x}a.exports=m}),cc=u((r,a)=>{var c=uc(),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=c(function(x){var k=[];return x.charCodeAt(0)===46&&k.push(""),x.replace(d,function(E,S,H,N){k.push(H?N.replace(m,"$1"):S||E)}),k});a.exports=g}),hc=u((r,a)=>{function c(d,m){for(var g=-1,x=d==null?0:d.length,k=Array(x);++g<x;)k[g]=m(d[g],g,d);return k}a.exports=c}),dc=u((r,a)=>{var c=jt(),d=hc(),m=Pi(),g=Ss(),x=1/0,k=c?c.prototype:void 0,E=k?k.toString:void 0;function S(H){if(typeof H=="string")return H;if(m(H))return d(H,S)+"";if(g(H))return E?E.call(H):"";var N=H+"";return N=="0"&&1/H==-x?"-0":N}a.exports=S}),Bs=u((r,a)=>{var c=dc();function d(m){return m==null?"":c(m)}a.exports=d}),qr=u((r,a)=>{var c=Pi(),d=To(),m=cc(),g=Bs();function x(k,E){return c(k)?k:d(k,E)?[k]:m(g(k))}a.exports=x}),dl=u((r,a)=>{var c=Ss(),d=1/0;function m(g){if(typeof g=="string"||c(g))return g;var x=g+"";return x=="0"&&1/g==-d?"-0":x}a.exports=m}),pl=u((r,a)=>{var c=qr(),d=dl();function m(g,x){x=c(x,g);for(var k=0,E=x.length;g!=null&&k<E;)g=g[d(x[k++])];return k&&k==E?g:void 0}a.exports=m}),Ni=u((r,a)=>{var c=pl();function d(m,g,x){var k=m==null?void 0:c(m,g);return k===void 0?x:k}a.exports=d}),De=u((r,a)=>{(function(c,d){typeof r=="object"&&typeof a<"u"?a.exports=d():(c=c||self).RBush=d()})(r,function(){function c(G,W,tt,pt,it){(function ut(M,T,D,R,I){for(;R>D;){if(R-D>600){var F=R-D+1,Y=T-D+1,J=Math.log(F),Q=.5*Math.exp(2*J/3),st=.5*Math.sqrt(J*Q*(F-Q)/F)*(Y-F/2<0?-1:1),ot=Math.max(D,Math.floor(T-Y*Q/F+st)),Lt=Math.min(R,Math.floor(T+(F-Y)*Q/F+st));ut(M,T,ot,Lt,I)}var Xt=M[T],ne=D,ue=R;for(d(M,D,T),I(M[R],Xt)>0&&d(M,D,R);ne<ue;){for(d(M,ne,ue),ne++,ue--;I(M[ne],Xt)<0;)ne++;for(;I(M[ue],Xt)>0;)ue--}I(M[D],Xt)===0?d(M,D,ue):d(M,++ue,R),ue<=T&&(D=ue+1),T<=ue&&(R=ue-1)}})(G,W,tt||0,pt||G.length-1,it||m)}function d(G,W,tt){var pt=G[W];G[W]=G[tt],G[tt]=pt}function m(G,W){return G<W?-1:G>W?1:0}var g=function(G){G===void 0&&(G=9),this._maxEntries=Math.max(4,G),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function x(G,W,tt){if(!tt)return W.indexOf(G);for(var pt=0;pt<W.length;pt++)if(tt(G,W[pt]))return pt;return-1}function k(G,W){E(G,0,G.children.length,W,G)}function E(G,W,tt,pt,it){it||(it=te(null)),it.minX=1/0,it.minY=1/0,it.maxX=-1/0,it.maxY=-1/0;for(var ut=W;ut<tt;ut++){var M=G.children[ut];S(it,G.leaf?pt(M):M)}return it}function S(G,W){return G.minX=Math.min(G.minX,W.minX),G.minY=Math.min(G.minY,W.minY),G.maxX=Math.max(G.maxX,W.maxX),G.maxY=Math.max(G.maxY,W.maxY),G}function H(G,W){return G.minX-W.minX}function N(G,W){return G.minY-W.minY}function at(G){return(G.maxX-G.minX)*(G.maxY-G.minY)}function ft(G){return G.maxX-G.minX+(G.maxY-G.minY)}function St(G,W){return G.minX<=W.minX&&G.minY<=W.minY&&W.maxX<=G.maxX&&W.maxY<=G.maxY}function qt(G,W){return W.minX<=G.maxX&&W.minY<=G.maxY&&W.maxX>=G.minX&&W.maxY>=G.minY}function te(G){return{children:G,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ae(G,W,tt,pt,it){for(var ut=[W,tt];ut.length;)if(!((tt=ut.pop())-(W=ut.pop())<=pt)){var M=W+Math.ceil((tt-W)/pt/2)*pt;c(G,M,W,tt,it),ut.push(W,M,M,tt)}}return g.prototype.all=function(){return this._all(this.data,[])},g.prototype.search=function(G){var W=this.data,tt=[];if(!qt(G,W))return tt;for(var pt=this.toBBox,it=[];W;){for(var ut=0;ut<W.children.length;ut++){var M=W.children[ut],T=W.leaf?pt(M):M;qt(G,T)&&(W.leaf?tt.push(M):St(G,T)?this._all(M,tt):it.push(M))}W=it.pop()}return tt},g.prototype.collides=function(G){var W=this.data;if(!qt(G,W))return!1;for(var tt=[];W;){for(var pt=0;pt<W.children.length;pt++){var it=W.children[pt],ut=W.leaf?this.toBBox(it):it;if(qt(G,ut)){if(W.leaf||St(G,ut))return!0;tt.push(it)}}W=tt.pop()}return!1},g.prototype.load=function(G){if(!G||!G.length)return this;if(G.length<this._minEntries){for(var W=0;W<G.length;W++)this.insert(G[W]);return this}var tt=this._build(G.slice(),0,G.length-1,0);if(this.data.children.length)if(this.data.height===tt.height)this._splitRoot(this.data,tt);else{if(this.data.height<tt.height){var pt=this.data;this.data=tt,tt=pt}this._insert(tt,this.data.height-tt.height-1,!0)}else this.data=tt;return this},g.prototype.insert=function(G){return G&&this._insert(G,this.data.height-1),this},g.prototype.clear=function(){return this.data=te([]),this},g.prototype.remove=function(G,W){if(!G)return this;for(var tt,pt,it,ut=this.data,M=this.toBBox(G),T=[],D=[];ut||T.length;){if(ut||(ut=T.pop(),pt=T[T.length-1],tt=D.pop(),it=!0),ut.leaf){var R=x(G,ut.children,W);if(R!==-1)return ut.children.splice(R,1),T.push(ut),this._condense(T),this}it||ut.leaf||!St(ut,M)?pt?(tt++,ut=pt.children[tt],it=!1):ut=null:(T.push(ut),D.push(tt),tt=0,pt=ut,ut=ut.children[0])}return this},g.prototype.toBBox=function(G){return G},g.prototype.compareMinX=function(G,W){return G.minX-W.minX},g.prototype.compareMinY=function(G,W){return G.minY-W.minY},g.prototype.toJSON=function(){return this.data},g.prototype.fromJSON=function(G){return this.data=G,this},g.prototype._all=function(G,W){for(var tt=[];G;)G.leaf?W.push.apply(W,G.children):tt.push.apply(tt,G.children),G=tt.pop();return W},g.prototype._build=function(G,W,tt,pt){var it,ut=tt-W+1,M=this._maxEntries;if(ut<=M)return k(it=te(G.slice(W,tt+1)),this.toBBox),it;pt||(pt=Math.ceil(Math.log(ut)/Math.log(M)),M=Math.ceil(ut/Math.pow(M,pt-1))),(it=te([])).leaf=!1,it.height=pt;var T=Math.ceil(ut/M),D=T*Math.ceil(Math.sqrt(M));Ae(G,W,tt,D,this.compareMinX);for(var R=W;R<=tt;R+=D){var I=Math.min(R+D-1,tt);Ae(G,R,I,T,this.compareMinY);for(var F=R;F<=I;F+=T){var Y=Math.min(F+T-1,I);it.children.push(this._build(G,F,Y,pt-1))}}return k(it,this.toBBox),it},g.prototype._chooseSubtree=function(G,W,tt,pt){for(;pt.push(W),!W.leaf&&pt.length-1!==tt;){for(var it=1/0,ut=1/0,M=void 0,T=0;T<W.children.length;T++){var D=W.children[T],R=at(D),I=(F=G,Y=D,(Math.max(Y.maxX,F.maxX)-Math.min(Y.minX,F.minX))*(Math.max(Y.maxY,F.maxY)-Math.min(Y.minY,F.minY))-R);I<ut?(ut=I,it=R<it?R:it,M=D):I===ut&&R<it&&(it=R,M=D)}W=M||W.children[0]}var F,Y;return W},g.prototype._insert=function(G,W,tt){var pt=tt?G:this.toBBox(G),it=[],ut=this._chooseSubtree(pt,this.data,W,it);for(ut.children.push(G),S(ut,pt);W>=0&&it[W].children.length>this._maxEntries;)this._split(it,W),W--;this._adjustParentBBoxes(pt,it,W)},g.prototype._split=function(G,W){var tt=G[W],pt=tt.children.length,it=this._minEntries;this._chooseSplitAxis(tt,it,pt);var ut=this._chooseSplitIndex(tt,it,pt),M=te(tt.children.splice(ut,tt.children.length-ut));M.height=tt.height,M.leaf=tt.leaf,k(tt,this.toBBox),k(M,this.toBBox),W?G[W-1].children.push(M):this._splitRoot(tt,M)},g.prototype._splitRoot=function(G,W){this.data=te([G,W]),this.data.height=G.height+1,this.data.leaf=!1,k(this.data,this.toBBox)},g.prototype._chooseSplitIndex=function(G,W,tt){for(var pt,it,ut,M,T,D,R,I=1/0,F=1/0,Y=W;Y<=tt-W;Y++){var J=E(G,0,Y,this.toBBox),Q=E(G,Y,tt,this.toBBox),st=(it=J,ut=Q,M=void 0,T=void 0,D=void 0,R=void 0,M=Math.max(it.minX,ut.minX),T=Math.max(it.minY,ut.minY),D=Math.min(it.maxX,ut.maxX),R=Math.min(it.maxY,ut.maxY),Math.max(0,D-M)*Math.max(0,R-T)),ot=at(J)+at(Q);st<I?(I=st,pt=Y,F=ot<F?ot:F):st===I&&ot<F&&(F=ot,pt=Y)}return pt||tt-W},g.prototype._chooseSplitAxis=function(G,W,tt){var pt=G.leaf?this.compareMinX:H,it=G.leaf?this.compareMinY:N;this._allDistMargin(G,W,tt,pt)<this._allDistMargin(G,W,tt,it)&&G.children.sort(pt)},g.prototype._allDistMargin=function(G,W,tt,pt){G.children.sort(pt);for(var it=this.toBBox,ut=E(G,0,W,it),M=E(G,tt-W,tt,it),T=ft(ut)+ft(M),D=W;D<tt-W;D++){var R=G.children[D];S(ut,G.leaf?it(R):R),T+=ft(ut)}for(var I=tt-W-1;I>=W;I--){var F=G.children[I];S(M,G.leaf?it(F):F),T+=ft(M)}return T},g.prototype._adjustParentBBoxes=function(G,W,tt){for(var pt=tt;pt>=0;pt--)S(W[pt],G)},g.prototype._condense=function(G){for(var W=G.length-1,tt=void 0;W>=0;W--)G[W].children.length===0?W>0?(tt=G[W-1].children).splice(tt.indexOf(G[W]),1):this.clear():k(G[W],this.toBBox)},g})}),Ye=u(r=>{Object.defineProperty(r,"__esModule",{value:!0}),r.earthRadius=63710088e-1,r.factors={centimeters:r.earthRadius*100,centimetres:r.earthRadius*100,degrees:r.earthRadius/111325,feet:r.earthRadius*3.28084,inches:r.earthRadius*39.37,kilometers:r.earthRadius/1e3,kilometres:r.earthRadius/1e3,meters:r.earthRadius,metres:r.earthRadius,miles:r.earthRadius/1609.344,millimeters:r.earthRadius*1e3,millimetres:r.earthRadius*1e3,nauticalmiles:r.earthRadius/1852,radians:1,yards:r.earthRadius*1.0936},r.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r.earthRadius,yards:1.0936133},r.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function a(R,I,F){F===void 0&&(F={});var Y={type:"Feature"};return(F.id===0||F.id)&&(Y.id=F.id),F.bbox&&(Y.bbox=F.bbox),Y.properties=I||{},Y.geometry=R,Y}r.feature=a;function c(R,I,F){switch(R){case"Point":return d(I).geometry;case"LineString":return k(I).geometry;case"Polygon":return g(I).geometry;case"MultiPoint":return N(I).geometry;case"MultiLineString":return H(I).geometry;case"MultiPolygon":return at(I).geometry;default:throw new Error(R+" is invalid")}}r.geometry=c;function d(R,I,F){if(F===void 0&&(F={}),!R)throw new Error("coordinates is required");if(!Array.isArray(R))throw new Error("coordinates must be an Array");if(R.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ut(R[0])||!ut(R[1]))throw new Error("coordinates must contain numbers");var Y={type:"Point",coordinates:R};return a(Y,I,F)}r.point=d;function m(R,I,F){return F===void 0&&(F={}),S(R.map(function(Y){return d(Y,I)}),F)}r.points=m;function g(R,I,F){F===void 0&&(F={});for(var Y=0,J=R;Y<J.length;Y++){var Q=J[Y];if(Q.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var st=0;st<Q[Q.length-1].length;st++)if(Q[Q.length-1][st]!==Q[0][st])throw new Error("First and last Position are not equivalent.")}var ot={type:"Polygon",coordinates:R};return a(ot,I,F)}r.polygon=g;function x(R,I,F){return F===void 0&&(F={}),S(R.map(function(Y){return g(Y,I)}),F)}r.polygons=x;function k(R,I,F){if(F===void 0&&(F={}),R.length<2)throw new Error("coordinates must be an array of two or more positions");var Y={type:"LineString",coordinates:R};return a(Y,I,F)}r.lineString=k;function E(R,I,F){return F===void 0&&(F={}),S(R.map(function(Y){return k(Y,I)}),F)}r.lineStrings=E;function S(R,I){I===void 0&&(I={});var F={type:"FeatureCollection"};return I.id&&(F.id=I.id),I.bbox&&(F.bbox=I.bbox),F.features=R,F}r.featureCollection=S;function H(R,I,F){F===void 0&&(F={});var Y={type:"MultiLineString",coordinates:R};return a(Y,I,F)}r.multiLineString=H;function N(R,I,F){F===void 0&&(F={});var Y={type:"MultiPoint",coordinates:R};return a(Y,I,F)}r.multiPoint=N;function at(R,I,F){F===void 0&&(F={});var Y={type:"MultiPolygon",coordinates:R};return a(Y,I,F)}r.multiPolygon=at;function ft(R,I,F){F===void 0&&(F={});var Y={type:"GeometryCollection",geometries:R};return a(Y,I,F)}r.geometryCollection=ft;function St(R,I){if(I===void 0&&(I=0),I&&!(I>=0))throw new Error("precision must be a positive number");var F=Math.pow(10,I||0);return Math.round(R*F)/F}r.round=St;function qt(R,I){I===void 0&&(I="kilometers");var F=r.factors[I];if(!F)throw new Error(I+" units is invalid");return R*F}r.radiansToLength=qt;function te(R,I){I===void 0&&(I="kilometers");var F=r.factors[I];if(!F)throw new Error(I+" units is invalid");return R/F}r.lengthToRadians=te;function Ae(R,I){return W(te(R,I))}r.lengthToDegrees=Ae;function G(R){var I=R%360;return I<0&&(I+=360),I}r.bearingToAzimuth=G;function W(R){var I=R%(2*Math.PI);return I*180/Math.PI}r.radiansToDegrees=W;function tt(R){var I=R%360;return I*Math.PI/180}r.degreesToRadians=tt;function pt(R,I,F){if(I===void 0&&(I="kilometers"),F===void 0&&(F="kilometers"),!(R>=0))throw new Error("length must be a positive number");return qt(te(R,I),F)}r.convertLength=pt;function it(R,I,F){if(I===void 0&&(I="meters"),F===void 0&&(F="kilometers"),!(R>=0))throw new Error("area must be a positive number");var Y=r.areaFactors[I];if(!Y)throw new Error("invalid original units");var J=r.areaFactors[F];if(!J)throw new Error("invalid final units");return R/Y*J}r.convertArea=it;function ut(R){return!isNaN(R)&&R!==null&&!Array.isArray(R)}r.isNumber=ut;function M(R){return!!R&&R.constructor===Object}r.isObject=M;function T(R){if(!R)throw new Error("bbox is required");if(!Array.isArray(R))throw new Error("bbox must be an Array");if(R.length!==4&&R.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");R.forEach(function(I){if(!ut(I))throw new Error("bbox must only contain numbers")})}r.validateBBox=T;function D(R){if(!R)throw new Error("id is required");if(["string","number"].indexOf(typeof R)===-1)throw new Error("id must be a number or a string")}r.validateId=D}),Kr=u(r=>{Object.defineProperty(r,"__esModule",{value:!0});var a=Ye();function c(W,tt,pt){if(W!==null)for(var it,ut,M,T,D,R,I,F=0,Y=0,J,Q=W.type,st=Q==="FeatureCollection",ot=Q==="Feature",Lt=st?W.features.length:1,Xt=0;Xt<Lt;Xt++){I=st?W.features[Xt].geometry:ot?W.geometry:W,J=I?I.type==="GeometryCollection":!1,D=J?I.geometries.length:1;for(var ne=0;ne<D;ne++){var ue=0,Ve=0;if(T=J?I.geometries[ne]:I,T!==null){R=T.coordinates;var qe=T.type;switch(F=pt&&(qe==="Polygon"||qe==="MultiPolygon")?1:0,qe){case null:break;case"Point":if(tt(R,Y,Xt,ue,Ve)===!1)return!1;Y++,ue++;break;case"LineString":case"MultiPoint":for(it=0;it<R.length;it++){if(tt(R[it],Y,Xt,ue,Ve)===!1)return!1;Y++,qe==="MultiPoint"&&ue++}qe==="LineString"&&ue++;break;case"Polygon":case"MultiLineString":for(it=0;it<R.length;it++){for(ut=0;ut<R[it].length-F;ut++){if(tt(R[it][ut],Y,Xt,ue,Ve)===!1)return!1;Y++}qe==="MultiLineString"&&ue++,qe==="Polygon"&&Ve++}qe==="Polygon"&&ue++;break;case"MultiPolygon":for(it=0;it<R.length;it++){for(Ve=0,ut=0;ut<R[it].length;ut++){for(M=0;M<R[it][ut].length-F;M++){if(tt(R[it][ut][M],Y,Xt,ue,Ve)===!1)return!1;Y++}Ve++}ue++}break;case"GeometryCollection":for(it=0;it<T.geometries.length;it++)if(c(T.geometries[it],tt,pt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d(W,tt,pt,it){var ut=pt;return c(W,function(M,T,D,R,I){T===0&&pt===void 0?ut=M:ut=tt(ut,M,T,D,R,I)},it),ut}function m(W,tt){var pt;switch(W.type){case"FeatureCollection":for(pt=0;pt<W.features.length&&tt(W.features[pt].properties,pt)!==!1;pt++);break;case"Feature":tt(W.properties,0);break}}function g(W,tt,pt){var it=pt;return m(W,function(ut,M){M===0&&pt===void 0?it=ut:it=tt(it,ut,M)}),it}function x(W,tt){if(W.type==="Feature")tt(W,0);else if(W.type==="FeatureCollection")for(var pt=0;pt<W.features.length&&tt(W.features[pt],pt)!==!1;pt++);}function k(W,tt,pt){var it=pt;return x(W,function(ut,M){M===0&&pt===void 0?it=ut:it=tt(it,ut,M)}),it}function E(W){var tt=[];return c(W,function(pt){tt.push(pt)}),tt}function S(W,tt){var pt,it,ut,M,T,D,R,I,F,Y,J=0,Q=W.type==="FeatureCollection",st=W.type==="Feature",ot=Q?W.features.length:1;for(pt=0;pt<ot;pt++){for(D=Q?W.features[pt].geometry:st?W.geometry:W,I=Q?W.features[pt].properties:st?W.properties:{},F=Q?W.features[pt].bbox:st?W.bbox:void 0,Y=Q?W.features[pt].id:st?W.id:void 0,R=D?D.type==="GeometryCollection":!1,T=R?D.geometries.length:1,ut=0;ut<T;ut++){if(M=R?D.geometries[ut]:D,M===null){if(tt(null,J,I,F,Y)===!1)return!1;continue}switch(M.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(tt(M,J,I,F,Y)===!1)return!1;break}case"GeometryCollection":{for(it=0;it<M.geometries.length;it++)if(tt(M.geometries[it],J,I,F,Y)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}J++}}function H(W,tt,pt){var it=pt;return S(W,function(ut,M,T,D,R){M===0&&pt===void 0?it=ut:it=tt(it,ut,M,T,D,R)}),it}function N(W,tt){S(W,function(pt,it,ut,M,T){var D=pt===null?null:pt.type;switch(D){case null:case"Point":case"LineString":case"Polygon":return tt(a.feature(pt,ut,{bbox:M,id:T}),it,0)===!1?!1:void 0}var R;switch(D){case"MultiPoint":R="Point";break;case"MultiLineString":R="LineString";break;case"MultiPolygon":R="Polygon";break}for(var I=0;I<pt.coordinates.length;I++){var F=pt.coordinates[I],Y={type:R,coordinates:F};if(tt(a.feature(Y,ut),it,I)===!1)return!1}})}function at(W,tt,pt){var it=pt;return N(W,function(ut,M,T){M===0&&T===0&&pt===void 0?it=ut:it=tt(it,ut,M,T)}),it}function ft(W,tt){N(W,function(pt,it,ut){var M=0;if(pt.geometry){var T=pt.geometry.type;if(!(T==="Point"||T==="MultiPoint")){var D,R=0,I=0,F=0;if(c(pt,function(Y,J,Q,st,ot){if(D===void 0||it>R||st>I||ot>F){D=Y,R=it,I=st,F=ot,M=0;return}var Lt=a.lineString([D,Y],pt.properties);if(tt(Lt,it,ut,ot,M)===!1)return!1;M++,D=Y})===!1)return!1}}})}function St(W,tt,pt){var it=pt,ut=!1;return ft(W,function(M,T,D,R,I){ut===!1&&pt===void 0?it=M:it=tt(it,M,T,D,R,I),ut=!0}),it}function qt(W,tt){if(!W)throw new Error("geojson is required");N(W,function(pt,it,ut){if(pt.geometry!==null){var M=pt.geometry.type,T=pt.geometry.coordinates;switch(M){case"LineString":if(tt(pt,it,ut,0,0)===!1)return!1;break;case"Polygon":for(var D=0;D<T.length;D++)if(tt(a.lineString(T[D],pt.properties),it,ut,D)===!1)return!1;break}}})}function te(W,tt,pt){var it=pt;return qt(W,function(ut,M,T,D){M===0&&pt===void 0?it=ut:it=tt(it,ut,M,T,D)}),it}function Ae(W,tt){if(tt=tt||{},!a.isObject(tt))throw new Error("options is invalid");var pt=tt.featureIndex||0,it=tt.multiFeatureIndex||0,ut=tt.geometryIndex||0,M=tt.segmentIndex||0,T=tt.properties,D;switch(W.type){case"FeatureCollection":pt<0&&(pt=W.features.length+pt),T=T||W.features[pt].properties,D=W.features[pt].geometry;break;case"Feature":T=T||W.properties,D=W.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":D=W;break;default:throw new Error("geojson is invalid")}if(D===null)return null;var R=D.coordinates;switch(D.type){case"Point":case"MultiPoint":return null;case"LineString":return M<0&&(M=R.length+M-1),a.lineString([R[M],R[M+1]],T,tt);case"Polygon":return ut<0&&(ut=R.length+ut),M<0&&(M=R[ut].length+M-1),a.lineString([R[ut][M],R[ut][M+1]],T,tt);case"MultiLineString":return it<0&&(it=R.length+it),M<0&&(M=R[it].length+M-1),a.lineString([R[it][M],R[it][M+1]],T,tt);case"MultiPolygon":return it<0&&(it=R.length+it),ut<0&&(ut=R[it].length+ut),M<0&&(M=R[it][ut].length-M-1),a.lineString([R[it][ut][M],R[it][ut][M+1]],T,tt)}throw new Error("geojson is invalid")}function G(W,tt){if(tt=tt||{},!a.isObject(tt))throw new Error("options is invalid");var pt=tt.featureIndex||0,it=tt.multiFeatureIndex||0,ut=tt.geometryIndex||0,M=tt.coordIndex||0,T=tt.properties,D;switch(W.type){case"FeatureCollection":pt<0&&(pt=W.features.length+pt),T=T||W.features[pt].properties,D=W.features[pt].geometry;break;case"Feature":T=T||W.properties,D=W.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":D=W;break;default:throw new Error("geojson is invalid")}if(D===null)return null;var R=D.coordinates;switch(D.type){case"Point":return a.point(R,T,tt);case"MultiPoint":return it<0&&(it=R.length+it),a.point(R[it],T,tt);case"LineString":return M<0&&(M=R.length+M),a.point(R[M],T,tt);case"Polygon":return ut<0&&(ut=R.length+ut),M<0&&(M=R[ut].length+M),a.point(R[ut][M],T,tt);case"MultiLineString":return it<0&&(it=R.length+it),M<0&&(M=R[it].length+M),a.point(R[it][M],T,tt);case"MultiPolygon":return it<0&&(it=R.length+it),ut<0&&(ut=R[it].length+ut),M<0&&(M=R[it][ut].length-M),a.point(R[it][ut][M],T,tt)}throw new Error("geojson is invalid")}r.coordAll=E,r.coordEach=c,r.coordReduce=d,r.featureEach=x,r.featureReduce=k,r.findPoint=G,r.findSegment=Ae,r.flattenEach=N,r.flattenReduce=at,r.geomEach=S,r.geomReduce=H,r.lineEach=qt,r.lineReduce=te,r.propEach=m,r.propReduce=g,r.segmentEach=ft,r.segmentReduce=St}),br=u(r=>{Object.defineProperty(r,"__esModule",{value:!0});var a=Kr();function c(d){var m=[1/0,1/0,-1/0,-1/0];return a.coordEach(d,function(g){m[0]>g[0]&&(m[0]=g[0]),m[1]>g[1]&&(m[1]=g[1]),m[2]<g[0]&&(m[2]=g[0]),m[3]<g[1]&&(m[3]=g[1])}),m}c.default=c,r.default=c}),Yi=u((r,a)=>{var c=De(),d=Ye(),m=Kr(),g=br().default,x=m.featureEach;m.coordEach,d.polygon;var k=d.featureCollection;function E(S){var H=new c(S);return H.insert=function(N){if(N.type!=="Feature")throw new Error("invalid feature");return N.bbox=N.bbox?N.bbox:g(N),c.prototype.insert.call(this,N)},H.load=function(N){var at=[];return Array.isArray(N)?N.forEach(function(ft){if(ft.type!=="Feature")throw new Error("invalid features");ft.bbox=ft.bbox?ft.bbox:g(ft),at.push(ft)}):x(N,function(ft){if(ft.type!=="Feature")throw new Error("invalid features");ft.bbox=ft.bbox?ft.bbox:g(ft),at.push(ft)}),c.prototype.load.call(this,at)},H.remove=function(N,at){if(N.type!=="Feature")throw new Error("invalid feature");return N.bbox=N.bbox?N.bbox:g(N),c.prototype.remove.call(this,N,at)},H.clear=function(){return c.prototype.clear.call(this)},H.search=function(N){var at=c.prototype.search.call(this,this.toBBox(N));return k(at)},H.collides=function(N){return c.prototype.collides.call(this,this.toBBox(N))},H.all=function(){var N=c.prototype.all.call(this);return k(N)},H.toJSON=function(){return c.prototype.toJSON.call(this)},H.fromJSON=function(N){return c.prototype.fromJSON.call(this,N)},H.toBBox=function(N){var at;if(N.bbox)at=N.bbox;else if(Array.isArray(N)&&N.length===4)at=N;else if(Array.isArray(N)&&N.length===6)at=[N[0],N[1],N[3],N[4]];else if(N.type==="Feature")at=g(N);else if(N.type==="FeatureCollection")at=g(N);else throw new Error("invalid geojson");return{minX:at[0],minY:at[1],maxX:at[2],maxY:at[3]}},H}a.exports=E,a.exports.default=E});Array.prototype.findIndex=Array.prototype.findIndex||function(r){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var a=Object(this),c=a.length>>>0,d=arguments[1],m=0;m<c;m++)if(r.call(d,a[m],m,a))return m;return-1},Array.prototype.find=Array.prototype.find||function(r){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var a=Object(this),c=a.length>>>0,d=arguments[1],m=0;m<c;m++){var g=a[m];if(r.call(d,g,m,a))return g}},typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");r=Object(r);for(var a=1;a<arguments.length;a++){var c=arguments[a];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(r[d]=c[d])}return r}),function(r){r.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,a){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),d=c.length>>>0;if(d===0)return!1;var m=a|0,g=Math.max(m>=0?m:d-Math.abs(m),0);function x(k,E){return k===E||typeof k=="number"&&typeof E=="number"&&isNaN(k)&&isNaN(E)}for(;g<d;){if(x(c[g],r))return!0;g++}return!1}});var Ts={name:"@geoman-io/leaflet-geoman-free",version:"2.17.0",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.7.9","cross-env":"^7.0.3",cypress:"6.9.1","cypress-wait-until":"1.7.1",esbuild:"^0.20.0",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.7",leaflet:"1.9.3","lint-staged":"^15.2.1",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,cypress,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,cypress,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,cypress,demo}/**/*.{js,css}"'}},ve=_(Bo()),rn={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},As={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex löschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer löschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknüpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Länge",segmentLength:"Segment Länge",area:"Fläche",radius:"Radius",perimeter:"Umfang",height:"Höhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},Ao={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Yn={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},pc={tooltips:{placeMarker:"Adaugă un punct",firstVertex:"Apasă aici pentru a adăuga primul Vertex",continueLine:"Apasă aici pentru a continua desenul",finishLine:"Apasă pe orice obiect pentru a finisa desenul",finishPoly:"Apasă pe primul obiect pentru a finisa",finishRect:"Apasă pentru a finisa",startCircle:"Apasă pentru a desena un cerc",finishCircle:"Apasă pentru a finisa un cerc",placeCircleMarker:"Adaugă un punct"},actions:{finish:"Termină",cancel:"Anulează",removeLastVertex:"Șterge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaugă o bulină",drawPolyButton:"Desenează un poligon",drawLineButton:"Desenează o linie",drawCircleButton:"Desenează un cerc",drawRectButton:"Desenează un dreptunghi",editButton:"Editează straturile",dragButton:"Mută straturile",cutButton:"Taie straturile",deleteButton:"Șterge straturile",drawCircleMarkerButton:"Desenează marcatorul cercului",snappingButton:"Fixați marcatorul glisat pe alte straturi și vârfuri",pinningButton:"Fixați vârfurile partajate împreună",rotateButton:"Rotiți stratul"}},Oo={tooltips:{placeMarker:"Нажмите, чтобы нанести маркер",firstVertex:"Нажмите, чтобы нанести первый объект",continueLine:"Нажмите, чтобы продолжить рисование",finishLine:"Нажмите любой существующий маркер для завершения",finishPoly:"Выберите первую точку, чтобы закончить",finishRect:"Нажмите, чтобы закончить",startCircle:"Нажмите, чтобы добавить центр круга",finishCircle:"Нажмите, чтобы задать радиус",placeCircleMarker:"Нажмите, чтобы нанести круговой маркер"},actions:{finish:"Завершить",cancel:"Отменить",removeLastVertex:"Отменить последнее действие"},buttonTitles:{drawMarkerButton:"Добавить маркер",drawPolyButton:"Рисовать полигон",drawLineButton:"Рисовать кривую",drawCircleButton:"Рисовать круг",drawRectButton:"Рисовать прямоугольник",editButton:"Редактировать слой",dragButton:"Перенести слой",cutButton:"Вырезать слой",deleteButton:"Удалить слой",drawCircleMarkerButton:"Добавить круговой маркер",snappingButton:"Привязать перетаскиваемый маркер к другим слоям и вершинам",pinningButton:"Связать общие точки вместе",rotateButton:"Поворот слоя"}},Xi={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vértice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del círculo",finishCircle:"Presiona para finalizar el círculo",placeCircleMarker:"Presiona para colocar un marcador de círculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar último vértice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polígono",drawLineButton:"Dibujar Línea",drawCircleButton:"Dibujar Círculo",drawRectButton:"Dibujar Rectángulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Círculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vértices",pinningButton:"Fijar juntos los vértices compartidos",rotateButton:"Rotar capa"}},an={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beëindigen",finishPoly:"Klik op het eerst punt om te beëindigen",finishRect:"Klik om te beëindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beëindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},Qi={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer à dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"Éditer des calques",dragButton:"Déplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"Épingler ensemble les sommets partagés",rotateButton:"Tourner des calques"}},Wr={tooltips:{placeMarker:"单击放置标记",firstVertex:"单击放置首个顶点",continueLine:"单击继续绘制",finishLine:"单击任何存在的标记以完成",finishPoly:"单击第一个标记以完成",finishRect:"单击完成",startCircle:"单击放置圆心",finishCircle:"单击完成圆形",placeCircleMarker:"点击放置圆形标记"},actions:{finish:"完成",cancel:"取消",removeLastVertex:"移除最后的顶点"},buttonTitles:{drawMarkerButton:"绘制标记",drawPolyButton:"绘制多边形",drawLineButton:"绘制线段",drawCircleButton:"绘制圆形",drawRectButton:"绘制长方形",editButton:"编辑图层",dragButton:"拖拽图层",cutButton:"剪切图层",deleteButton:"删除图层",drawCircleMarkerButton:"画圆圈标记",snappingButton:"将拖动的标记捕捉到其他图层和顶点",pinningButton:"将共享顶点固定在一起",rotateButton:"旋转图层"}},Jr={tooltips:{placeMarker:"單擊放置標記",firstVertex:"單擊放置第一個頂點",continueLine:"單擊繼續繪製",finishLine:"單擊任何存在的標記以完成",finishPoly:"單擊第一個標記以完成",finishRect:"單擊完成",startCircle:"單擊放置圓心",finishCircle:"單擊完成圓形",placeCircleMarker:"點擊放置圓形標記"},actions:{finish:"完成",cancel:"取消",removeLastVertex:"移除最後一個頂點"},buttonTitles:{drawMarkerButton:"放置標記",drawPolyButton:"繪製多邊形",drawLineButton:"繪製線段",drawCircleButton:"繪製圓形",drawRectButton:"繪製方形",editButton:"編輯圖形",dragButton:"移動圖形",cutButton:"裁切圖形",deleteButton:"刪除圖形",drawCircleMarkerButton:"畫圓圈標記",snappingButton:"將拖動的標記對齊到其他圖層和頂點",pinningButton:"將共享頂點固定在一起",rotateButton:"旋轉圖形"}},Os={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vértice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do círculo",finishCircle:"Clique para finalizar o círculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover último vértice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polígonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Círculo",drawRectButton:"Desenhar Retângulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Círculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vértices",pinningButton:"Unir vértices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traçado Automático de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"Área",radius:"Raio",perimeter:"Perímetro",height:"Altura",width:"Largura",coordinates:"Posição",coordinatesMarker:"Marcador de Posição"}},Yr={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vértice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do círculo",finishCircle:"Clique para terminar o círculo",placeCircleMarker:"Clique para colocar marcador de círculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover Último Vértice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polígonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Círculo",drawRectButton:"Desenhar Retângulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Círculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vértices",pinningButton:"Unir vértices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traçado Automático de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"Área",radius:"Raio",perimeter:"Perímetro",height:"Altura",width:"Largura",coordinates:"Posição",coordinatesMarker:"Marcador de Posição"}},Rs={tooltips:{placeMarker:"Kliknij, aby umieścić znacznik",firstVertex:"Kliknij, aby umieścić pierwszy wierzchołek",continueLine:"Kliknij, aby kontynuować rysowanie",finishLine:"Kliknij dowolny istniejący znacznik, aby zakończyć",finishPoly:"Kliknij pierwszy znacznik, aby zakończyć",finishRect:"Kliknij, aby zakończyć",startCircle:"Kliknij, aby umieścić środek okręgu",finishCircle:"Kliknij, aby zakończyć okrąg",placeCircleMarker:"Kliknij, aby umieścić znacznik okręgu",placeText:"Kliknij, aby umieścić tekst"},actions:{finish:"Zakończ",cancel:"Anuluj",removeLastVertex:"Usuń ostatni wierzchołek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokąt",drawLineButton:"Rysuj linię",drawCircleButton:"Rysuj okrąg",drawRectButton:"Rysuj prostokąt",editButton:"Edytuj warstwy",dragButton:"Przeciągnij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usuń warstwy",drawCircleMarkerButton:"Rysuj znacznik okrągły",snappingButton:"Przyciągnij przenoszony znacznik do innych warstw i wierzchołków",pinningButton:"Przypnij wspólne wierzchołki razem",rotateButton:"Obróć warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne śledzenie linii"},measurements:{totalLength:"Długość",segmentLength:"Długość odcinka",area:"Obszar",radius:"Promień",perimeter:"Obwód",height:"Wysokość",width:"Szerokość",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},Ds={tooltips:{placeMarker:"Klicka för att placera markör",firstVertex:"Klicka för att placera första hörnet",continueLine:"Klicka för att fortsätta rita",finishLine:"Klicka på en existerande punkt för att slutföra",finishPoly:"Klicka på den första punkten för att slutföra",finishRect:"Klicka för att slutföra",startCircle:"Klicka för att placera cirkelns centrum",finishCircle:"Klicka för att slutföra cirkeln",placeCircleMarker:"Klicka för att placera cirkelmarkör"},actions:{finish:"Slutför",cancel:"Avbryt",removeLastVertex:"Ta bort sista hörnet"},buttonTitles:{drawMarkerButton:"Rita Markör",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkör",snappingButton:"Snäpp dra markören till andra lager och hörn",pinningButton:"Fäst delade hörn tillsammans",rotateButton:"Rotera lagret"}},Ro={tooltips:{placeMarker:"Κάντε κλικ για να τοποθετήσετε Δείκτη",firstVertex:"Κάντε κλικ για να τοποθετήσετε το πρώτο σημείο",continueLine:"Κάντε κλικ για να συνεχίσετε να σχεδιάζετε",finishLine:"Κάντε κλικ σε οποιονδήποτε υπάρχον σημείο για να ολοκληρωθεί",finishPoly:"Κάντε κλικ στο πρώτο σημείο για να τελειώσετε",finishRect:"Κάντε κλικ για να τελειώσετε",startCircle:"Κάντε κλικ για να τοποθετήσετε κέντρο Κύκλου",finishCircle:"Κάντε κλικ για να ολοκληρώσετε τον Κύκλο",placeCircleMarker:"Κάντε κλικ για να τοποθετήσετε Κυκλικό Δείκτη"},actions:{finish:"Τέλος",cancel:"Ακύρωση",removeLastVertex:"Κατάργηση τελευταίου σημείου"},buttonTitles:{drawMarkerButton:"Σχεδίαση Δείκτη",drawPolyButton:"Σχεδίαση Πολυγώνου",drawLineButton:"Σχεδίαση Γραμμής",drawCircleButton:"Σχεδίαση Κύκλου",drawRectButton:"Σχεδίαση Ορθογωνίου",editButton:"Επεξεργασία Επιπέδων",dragButton:"Μεταφορά Επιπέδων",cutButton:"Αποκοπή Επιπέδων",deleteButton:"Κατάργηση Επιπέδων",drawCircleMarkerButton:"Σχεδίαση Κυκλικού Δείκτη",snappingButton:"Προσκόλληση του Δείκτη μεταφοράς σε άλλα Επίπεδα και Κορυφές",pinningButton:"Περικοπή κοινών κορυφών μαζί",rotateButton:"Περιστρέψτε το στρώμα"}},Is={tooltips:{placeMarker:"Kattintson a jelölő elhelyezéséhez",firstVertex:"Kattintson az első pont elhelyezéséhez",continueLine:"Kattintson a következő pont elhelyezéséhez",finishLine:"A befejezéshez kattintson egy meglévő pontra",finishPoly:"A befejezéshez kattintson az első pontra",finishRect:"Kattintson a befejezéshez",startCircle:"Kattintson a kör középpontjának elhelyezéséhez",finishCircle:"Kattintson a kör befejezéséhez",placeCircleMarker:"Kattintson a körjelölő elhelyezéséhez"},actions:{finish:"Befejezés",cancel:"Mégse",removeLastVertex:"Utolsó pont eltávolítása"},buttonTitles:{drawMarkerButton:"Jelölő rajzolása",drawPolyButton:"Poligon rajzolása",drawLineButton:"Vonal rajzolása",drawCircleButton:"Kör rajzolása",drawRectButton:"Négyzet rajzolása",editButton:"Elemek szerkesztése",dragButton:"Elemek mozgatása",cutButton:"Elemek vágása",deleteButton:"Elemek törlése",drawCircleMarkerButton:"Kör jelölő rajzolása",snappingButton:"Kapcsolja a jelöltőt másik elemhez vagy ponthoz",pinningButton:"Közös pontok összekötése",rotateButton:"Fólia elforgatása"}},Fs={tooltips:{placeMarker:"Tryk for at placere en markør",firstVertex:"Tryk for at placere det første punkt",continueLine:"Tryk for at fortsætte linjen",finishLine:"Tryk på et eksisterende punkt for at afslutte",finishPoly:"Tryk på det første punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkør"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markør",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Træk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkør",snappingButton:"Fastgør trukket markør til andre elementer",pinningButton:"Sammenlæg delte elementer",rotateButton:"Roter laget"}},Do={tooltips:{placeMarker:"Klikk for å plassere punkt",firstVertex:"Klikk for å plassere første punkt",continueLine:"Klikk for å tegne videre",finishLine:"Klikk på et eksisterende punkt for å fullføre",finishPoly:"Klikk første punkt for å fullføre",finishRect:"Klikk for å fullføre",startCircle:"Klikk for å sette sirkel midtpunkt",finishCircle:"Klikk for å fullføre sirkel",placeCircleMarker:"Klikk for å plassere sirkel",placeText:"Klikk for å plassere tekst"},actions:{finish:"Fullfør",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotér objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalér objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Område",radius:"Radius",perimeter:"Omriss",height:"Høyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkør"}},fl={tooltips:{placeMarker:"کلیک برای جانمایی نشان",firstVertex:"کلیک برای رسم اولین رأس",continueLine:"کلیک برای ادامه رسم",finishLine:"کلیک روی هر نشان موجود برای پایان",finishPoly:"کلیک روی اولین نشان برای پایان",finishRect:"کلیک برای پایان",startCircle:"کلیک برای رسم مرکز دایره",finishCircle:"کلیک برای پایان رسم دایره",placeCircleMarker:"کلیک برای رسم نشان دایره",placeText:"کلیک برای نوشتن متن"},actions:{finish:"پایان",cancel:"لفو",removeLastVertex:"حذف آخرین رأس"},buttonTitles:{drawMarkerButton:"درج نشان",drawPolyButton:"رسم چندضلعی",drawLineButton:"رسم خط",drawCircleButton:"رسم دایره",drawRectButton:"رسم چهارضلعی",editButton:"ویرایش لایه‌ها",dragButton:"جابجایی لایه‌ها",cutButton:"برش لایه‌ها",deleteButton:"حذف لایه‌ها",drawCircleMarkerButton:"رسم نشان دایره",snappingButton:"نشانگر را به لایه‌ها و رئوس دیگر بکشید",pinningButton:"رئوس مشترک را با هم پین کنید",rotateButton:"چرخش لایه",drawTextButton:"رسم متن",scaleButton:"مقیاس‌گذاری",autoTracingButton:"ردیاب خودکار"},measurements:{totalLength:"طول",segmentLength:"طول بخش",area:"ناحیه",radius:"شعاع",perimeter:"محیط",height:"ارتفاع",width:"عرض",coordinates:"موقعیت",coordinatesMarker:"موقعیت نشان"}},js={tooltips:{placeMarker:"Натисніть, щоб нанести маркер",firstVertex:"Натисніть, щоб нанести першу вершину",continueLine:"Натисніть, щоб продовжити малювати",finishLine:"Натисніть будь-який існуючий маркер для завершення",finishPoly:"Виберіть перший маркер, щоб завершити",finishRect:"Натисніть, щоб завершити",startCircle:"Натисніть, щоб додати центр кола",finishCircle:"Натисніть, щоб завершити коло",placeCircleMarker:"Натисніть, щоб нанести круговий маркер"},actions:{finish:"Завершити",cancel:"Відмінити",removeLastVertex:"Видалити попередню вершину"},buttonTitles:{drawMarkerButton:"Малювати маркер",drawPolyButton:"Малювати полігон",drawLineButton:"Малювати криву",drawCircleButton:"Малювати коло",drawRectButton:"Малювати прямокутник",editButton:"Редагувати шари",dragButton:"Перенести шари",cutButton:"Вирізати шари",deleteButton:"Видалити шари",drawCircleMarkerButton:"Малювати круговий маркер",snappingButton:"Прив’язати перетягнутий маркер до інших шарів та вершин",pinningButton:"Зв'язати спільні вершини разом",rotateButton:"Повернути шар"}},fc={tooltips:{placeMarker:"İşaretçi yerleştirmek için tıklayın",firstVertex:"İlk tepe noktasını yerleştirmek için tıklayın",continueLine:"Çizime devam etmek için tıklayın",finishLine:"Bitirmek için mevcut herhangi bir işaretçiyi tıklayın",finishPoly:"Bitirmek için ilk işaretçiyi tıklayın",finishRect:"Bitirmek için tıklayın",startCircle:"Daire merkezine yerleştirmek için tıklayın",finishCircle:"Daireyi bitirmek için tıklayın",placeCircleMarker:"Daire işaretçisi yerleştirmek için tıklayın"},actions:{finish:"Bitir",cancel:"İptal",removeLastVertex:"Son köşeyi kaldır"},buttonTitles:{drawMarkerButton:"Çizim İşaretçisi",drawPolyButton:"Çokgenler çiz",drawLineButton:"Çoklu çizgi çiz",drawCircleButton:"Çember çiz",drawRectButton:"Dikdörtgen çiz",editButton:"Katmanları düzenle",dragButton:"Katmanları sürükle",cutButton:"Katmanları kes",deleteButton:"Katmanları kaldır",drawCircleMarkerButton:"Daire işaretçisi çiz",snappingButton:"Sürüklenen işaretçiyi diğer katmanlara ve köşelere yapıştır",pinningButton:"Paylaşılan köşeleri birbirine sabitle",rotateButton:"Katmanı döndür"}},ge={tooltips:{placeMarker:"Kliknutím vytvoříte značku",firstVertex:"Kliknutím vytvoříte první objekt",continueLine:"Kliknutím pokračujte v kreslení",finishLine:"Kliknutí na libovolnou existující značku pro dokončení",finishPoly:"Vyberte první bod pro dokončení",finishRect:"Klikněte pro dokončení",startCircle:"Kliknutím přidejte střed kruhu",finishCircle:"Нажмите, чтобы задать радиус",placeCircleMarker:"Kliknutím nastavte poloměr"},actions:{finish:"Dokončit",cancel:"Zrušit",removeLastVertex:"Zrušit poslední akci"},buttonTitles:{drawMarkerButton:"Přidat značku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit křivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdélník",editButton:"Upravit vrstvu",dragButton:"Přeneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Přidat kruhovou značku",snappingButton:"Navázat tažnou značku k dalším vrstvám a vrcholům",pinningButton:"Spojit společné body dohromady",rotateButton:"Otočte vrstvu"}},mi={tooltips:{placeMarker:"クリックしてマーカーを配置",firstVertex:"クリックして最初の頂点を配置",continueLine:"クリックして描画を続ける",finishLine:"任意のマーカーをクリックして終了",finishPoly:"最初のマーカーをクリックして終了",finishRect:"クリックして終了",startCircle:"クリックして円の中心を配置",finishCircle:"クリックして円の描画を終了",placeCircleMarker:"クリックして円マーカーを配置",placeText:"クリックしてテキストを配置"},actions:{finish:"終了",cancel:"キャンセル",removeLastVertex:"最後の頂点を削除"},buttonTitles:{drawMarkerButton:"マーカーを描画",drawPolyButton:"ポリゴンを描画",drawLineButton:"折れ線を描画",drawCircleButton:"円を描画",drawRectButton:"矩形を描画",editButton:"レイヤーを編集",dragButton:"レイヤーをドラッグ",cutButton:"レイヤーを切り取り",deleteButton:"レイヤーを削除",drawCircleMarkerButton:"円マーカーを描画",snappingButton:"ドラッグしたマーカーを他のレイヤーや頂点にスナップする",pinningButton:"共有する頂点を同時に動かす",rotateButton:"レイヤーを回転",drawTextButton:"テキストを描画"}},Ze={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmäisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtämistä",finishLine:"Klikkaa olemassa olevaa merkkiä lopettaaksesi",finishPoly:"Klikkaa ensimmäistä merkkiä lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrän keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrän",placeCircleMarker:"Klikkaa asettaaksesi ympyrämerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirrä merkkejä",drawPolyButton:"Piirrä monikulmioita",drawLineButton:"Piirrä viivoja",drawCircleButton:"Piirrä ympyrä",drawRectButton:"Piirrä neliskulmioita",editButton:"Muokkaa",dragButton:"Siirrä",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirrä ympyrämerkki",snappingButton:"Kiinnitä siirrettävä merkki toisiin muotoihin",pinningButton:"Kiinnitä jaetut muodot yhteen",rotateButton:"Käännä",drawTextButton:"Piirrä tekstiä"}},ml={tooltips:{placeMarker:"마커 위치를 클릭하세요",firstVertex:"첫번째 꼭지점 위치을 클릭하세요",continueLine:"계속 그리려면 클릭하세요",finishLine:"끝내려면 기존 마커를 클릭하세요",finishPoly:"끝내려면 처음 마커를 클릭하세요",finishRect:"끝내려면 클릭하세요",startCircle:"원의 중심이 될 위치를 클릭하세요",finishCircle:"원을 끝내려면 클릭하세요",placeCircleMarker:"원 마커 위치를 클릭하세요",placeText:"텍스트 위치를 클릭하세요"},actions:{finish:"끝내기",cancel:"취소",removeLastVertex:"마지막 꼭지점 제거"},buttonTitles:{drawMarkerButton:"마커 그리기",drawPolyButton:"다각형 그리기",drawLineButton:"다각선 그리기",drawCircleButton:"원 그리기",drawRectButton:"직사각형 그리기",editButton:"레이어 편집하기",dragButton:"레이어 끌기",cutButton:"레이어 자르기",deleteButton:"레이어 제거하기",drawCircleMarkerButton:"원 마커 그리기",snappingButton:"잡아끈 마커를 다른 레이어 및 꼭지점에 들러붙게 하기",pinningButton:"공유 꼭지점을 함께 찍기",rotateButton:"레이어 회전하기",drawTextButton:"텍스트 그리기"}},Ns={tooltips:{placeMarker:"Маркерди жайгаштыруу үчүн басыңыз",firstVertex:"Биринчи чокуну жайгаштырууну үчүн басыңыз",continueLine:"Сүрөт тартууну улантуу үчүн басыңыз",finishLine:"Аяктоо үчүн учурдагы маркерди басыңыз",finishPoly:"Бүтүрүү үчүн биринчи маркерди басыңыз",finishRect:"Бүтүрүү үчүн басыңыз",startCircle:"Айлананын борборун жайгаштырууну үчүн басыңыз",finishCircle:"Айлананы бүтүрүү үчүн басыңыз",placeCircleMarker:"Тегерек маркерди жайгаштыруу үчүн басыңыз",placeText:"Текстти жайгаштыруу үчүн басыңыз"},actions:{finish:"Аягы",cancel:"Жок кылуу",removeLastVertex:"Акыркы чокуну өчүрүү"},buttonTitles:{drawMarkerButton:"Маркерди чизуу",drawPolyButton:"Полигон чизуу",drawLineButton:"Полилиния чизуу",drawCircleButton:"Дайынды чизуу",drawRectButton:"Прямоугольник чизуу",editButton:"Слоопту түзөтүү",dragButton:"Слоопту карап сүйлөү",cutButton:"Слооптун башын кесүү",deleteButton:"Слооптун өчүрүү",drawCircleMarkerButton:"Дайынды маркерди чизуу",snappingButton:"Башка слооптордун жана вертекстердин арасына чекилдөө",pinningButton:"Бөлүшкөн вертекстерди бирге тутуштуруу",rotateButton:"Слооптун өзгөртүү",drawTextButton:"Текст чизуу",scaleButton:"Слооптун өлчөмүн өзгөртүү",autoTracingButton:"Автоматтык тизмеги чизуу"},measurements:{totalLength:"Узундук",segmentLength:"Сегмент узундугу",area:"Аймак",radius:"Радиус",perimeter:"Периметр",height:"Диаметр",width:"Кенчилик",coordinates:"Координаттар",coordinatesMarker:"Маркердин координаттары"}},tr={en:rn,de:As,it:Ao,id:Yn,ro:pc,ru:Oo,es:Xi,nl:an,fr:Qi,pt_br:Os,pt_pt:Yr,zh:Wr,zh_tw:Jr,pl:Rs,sv:Ds,el:Ro,hu:Is,da:Fs,no:Do,fa:fl,ua:js,tr:fc,cz:ge,ja:mi,fi:Ze,ko:ml,ky:Ns},zs={_globalEditModeEnabled:!1,enableGlobalEditMode(r){let a={...r};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(c=>{this._isRelevantForEdit(c)&&c.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(r=>{r.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(r=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(r)},handleLayerAdditionInGlobalEditMode(){let r=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let a in r){let c=r[a];this._isRelevantForEdit(c)&&c.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:r}){this._addedLayersEdit[L.stamp(r)]=r},_isRelevantForEdit(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowEditing}},er=zs,Vs={_globalDragModeEnabled:!1,enableGlobalDragMode(){let r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(a=>{this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,r.forEach(a=>{a.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let r=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let a in r){let c=r[a];this._isRelevantForDrag(c)&&c.pm.enableLayerDrag()}},_layerAddedDrag({layer:r}){this._addedLayersDrag[L.stamp(r)]=r},_isRelevantForDrag(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.draggable}},Xr=Vs,Ln={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(r=>{this._isRelevantForRemoval(r)&&(r.pm.enabled()&&r.pm.disable(),r.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(r=>{r.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(r){let a=r.target;this._isRelevantForRemoval(a)&&!a.pm.dragging()&&(a.removeFrom(this.map.pm._getContainingLayer()),a.remove(),a instanceof L.LayerGroup?(this._fireRemoveLayerGroup(a),this._fireRemoveLayerGroup(this.map,a)):(a.pm._fireRemove(a),a.pm._fireRemove(this.map,a)))},_isRelevantForRemoval(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let r=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let a in r){let c=r[a];this._isRelevantForRemoval(c)&&(c.pm.enabled()&&c.pm.disable(),c.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:r}){this._addedLayersRemoval[L.stamp(r)]=r}},nr=Ln,_l={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(r=>r instanceof L.Polyline).forEach(r=>{this._isRelevantForRotate(r)&&r.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(r=>r instanceof L.Polyline).forEach(r=>{r.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(r){return r.pm&&r instanceof L.Polyline&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let r=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let a in r){let c=r[a];this._isRelevantForRemoval(c)&&c.pm.enableRotate()}},_layerAddedRotate({layer:r}){this._addedLayersRotate[L.stamp(r)]=r}},gl=_l,mc=_(Bo()),yl={_fireDrawStart(r="Draw",a={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},r,a)},_fireDrawEnd(r="Draw",a={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},r,a)},_fireCreate(r,a="Draw",c={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:r,layer:r},a,c)},_fireCenterPlaced(r="Draw",a={}){let c=r==="Draw"?this._layer:void 0,d=r!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:c,layer:d,latlng:this._layer.getLatLng()},r,a)},_fireCut(r,a,c,d="Draw",m={}){this.__fire(r,"pm:cut",{shape:this._shape,layer:a,originalLayer:c},d,m)},_fireEdit(r=this._layer,a="Edit",c={}){this.__fire(r,"pm:edit",{layer:this._layer,shape:this.getShape()},a,c)},_fireEnable(r="Edit",a={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDisable(r="Edit",a={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},r,a)},_fireUpdate(r="Edit",a={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},r,a)},_fireMarkerDragStart(r,a=void 0,c="Edit",d={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},c,d)},_fireMarkerDrag(r,a=void 0,c="Edit",d={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},c,d)},_fireMarkerDragEnd(r,a=void 0,c=void 0,d="Edit",m={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a,intersectionReset:c},d,m)},_fireDragStart(r="Edit",a={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},r,a)},_fireDrag(r,a="Edit",c={}){this.__fire(this._layer,"pm:drag",{...r,shape:this.getShape()},a,c)},_fireDragEnd(r="Edit",a={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragEnable(r="Edit",a={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragDisable(r="Edit",a={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},r,a)},_fireRemove(r,a=r,c="Edit",d={}){this.__fire(r,"pm:remove",{layer:a,shape:this.getShape()},c,d)},_fireVertexAdded(r,a,c,d="Edit",m={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:r,indexPath:a,latlng:c,shape:this.getShape()},d,m)},_fireVertexRemoved(r,a,c="Edit",d={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:r,indexPath:a,shape:this.getShape()},c,d)},_fireVertexClick(r,a,c="Edit",d={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},c,d)},_fireIntersect(r,a=this._layer,c="Edit",d={}){this.__fire(a,"pm:intersect",{layer:this._layer,intersection:r,shape:this.getShape()},c,d)},_fireLayerReset(r,a,c="Edit",d={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},c,d)},_fireChange(r,a="Edit",c={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:r,shape:this.getShape()},a,c)},_fireTextChange(r,a="Edit",c={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:r,shape:this.getShape()},a,c)},_fireTextFocus(r="Edit",a={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},r,a)},_fireTextBlur(r="Edit",a={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},r,a)},_fireSnapDrag(r,a,c="Snapping",d={}){this.__fire(r,"pm:snapdrag",a,c,d)},_fireSnap(r,a,c="Snapping",d={}){this.__fire(r,"pm:snap",a,c,d)},_fireUnsnap(r,a,c="Snapping",d={}){this.__fire(r,"pm:unsnap",a,c,d)},_fireRotationEnable(r,a,c="Rotation",d={}){this.__fire(r,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},c,d)},_fireRotationDisable(r,a="Rotation",c={}){this.__fire(r,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},a,c)},_fireRotationStart(r,a,c="Rotation",d={}){this.__fire(r,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:a},c,d)},_fireRotation(r,a,c,d=this._rotationLayer,m="Rotation",g={}){this.__fire(r,"pm:rotate",{layer:d,helpLayer:this._layer,startAngle:this._startAngle,angle:d.pm.getAngle(),angleDiff:a,oldLatLngs:c,newLatLngs:d.getLatLngs()},m,g)},_fireRotationEnd(r,a,c,d="Rotation",m={}){this.__fire(r,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:a,angle:this._rotationLayer.pm.getAngle(),originLatLngs:c,newLatLngs:this._rotationLayer.getLatLngs()},d,m)},_fireActionClick(r,a,c,d="Toolbar",m={}){this.__fire(this._map,"pm:actionclick",{text:r.text,action:r,btnName:a,button:c},d,m)},_fireButtonClick(r,a,c="Toolbar",d={}){this.__fire(this._map,"pm:buttonclick",{btnName:r,button:a},c,d)},_fireLangChange(r,a,c,d,m="Global",g={}){this.__fire(this.map,"pm:langchange",{oldLang:r,activeLang:a,fallback:c,translations:d},m,g)},_fireGlobalDragModeToggled(r,a="Global",c={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:r,map:this.map},a,c)},_fireGlobalEditModeToggled(r,a="Global",c={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:r,map:this.map},a,c)},_fireGlobalRemovalModeToggled(r,a="Global",c={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:r,map:this.map},a,c)},_fireGlobalCutModeToggled(r="Global",a={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},r,a)},_fireGlobalDrawModeToggled(r="Global",a={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},r,a)},_fireGlobalRotateModeToggled(r="Global",a={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},r,a)},_fireRemoveLayerGroup(r,a=r,c="Edit",d={}){this.__fire(r,"pm:remove",{layer:a,shape:void 0},c,d)},_fireKeyeventEvent(r,a,c,d="Global",m={}){this.__fire(this.map,"pm:keyevent",{event:r,eventType:a,focusOn:c},d,m)},__fire(r,a,c,d,m={}){c=(0,mc.default)(c,m,{source:d}),L.PM.Utils._fireEvent(r,a,c)}},xr=yl,_c=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(r){this.map=r,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),r.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(r){let a="document";this.map.getContainer().contains(r.target)&&(a="map");let c={event:r,eventType:r.type,focusOn:a};this._lastEvents[r.type]=c,this._lastEvents.current=c,this.map.pm._fireKeyeventEvent(r,r.type,a)},_onBlur(r){r.altKey=!1;let a={event:r,eventType:r.type,focusOn:"document"};this._lastEvents[r.type]=a,this._lastEvents.current=a},getLastKeyEvent(r="current"){return this._lastEvents[r]},isShiftKeyPressed(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.shiftKey},isAltKeyPressed(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.altKey},isCtrlKeyPressed(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.ctrlKey},isMetaKeyPressed(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.metaKey},getPressedKey(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.key}}),vl=_c,Me=_(Ni());function Te(r){let a=L.PM.activeLang;return(0,Me.default)(tr[a],r)||(0,Me.default)(tr.en,r)||r}function Hn(r){for(let a=0;a<r.length;a+=1){let c=r[a];if(Array.isArray(c)){if(Hn(c))return!0}else if(c!=null&&c!=="")return!0}return!1}function zi(r){return r.reduce((a,c)=>{if(c.length!==0){let d=Array.isArray(c)?zi(c):c;Array.isArray(d)?d.length!==0&&a.push(d):a.push(d)}return a},[])}function bl(r,a,c){let d={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:m,b:g,f:x}=d,k=r.lng,E=r.lat,S=c,H=Math.PI,N=a*H/180,at=Math.sin(N),ft=Math.cos(N),St=(1-x)*Math.tan(E*H/180),qt=1/Math.sqrt(1+St*St),te=St*qt,Ae=Math.atan2(St,ft),G=qt*at,W=1-G*G,tt=W*(m*m-g*g)/(g*g),pt=1+tt/16384*(4096+tt*(-768+tt*(320-175*tt))),it=tt/1024*(256+tt*(-128+tt*(74-47*tt))),ut=S/(g*pt),M=2*Math.PI,T,D,R;for(;Math.abs(ut-M)>1e-12;){T=Math.cos(2*Ae+ut),D=Math.sin(ut),R=Math.cos(ut);let Lt=it*D*(T+it/4*(R*(-1+2*T*T)-it/6*T*(-3+4*D*D)*(-3+4*T*T)));M=ut,ut=S/(g*pt)+Lt}let I=te*D-qt*R*ft,F=Math.atan2(te*R+qt*D*ft,(1-x)*Math.sqrt(G*G+I*I)),Y=Math.atan2(D*at,qt*R-te*D*ft),J=x/16*W*(4+x*(4-3*W)),Q=Y-(1-J)*x*G*(ut+J*D*(T+J*R*(-1+2*T*T))),st=k+Q*180/H,ot=F*180/H;return L.latLng(st,ot)}function xl(r,a,c,d,m=!0){let g,x,k,E=[];for(let S=0;S<c;S+=1){if(m)g=S*360/c+d,x=bl(r,g,a),k=L.latLng(x.lng,x.lat);else{let H=r.lat+Math.cos(2*S*Math.PI/c)*a,N=r.lng+Math.sin(2*S*Math.PI/c)*a;k=L.latLng(H,N)}E.push(k)}return E}function Us(r,a,c){a=(a+360)%360;let d=Math.PI/180,m=180/Math.PI,{R:g}=L.CRS.Earth,x=r.lng*d,k=r.lat*d,E=a*d,S=Math.sin(k),H=Math.cos(k),N=Math.cos(c/g),at=Math.sin(c/g),ft=Math.asin(S*N+H*at*Math.cos(E)),St=x+Math.atan2(Math.sin(E)*at*H,N-S*Math.sin(ft));St*=m;let qt=St-360,te=St<-180?St+360:St;return St=St>180?qt:te,L.latLng([ft*m,St])}function Gs(r,a,c){let d=r.latLngToContainerPoint(a),m=r.latLngToContainerPoint(c),g=Math.atan2(m.y-d.y,m.x-d.x)*180/Math.PI+90;return g+=g<0?360:0,g}function Qr(r,a,c,d){let m=Gs(r,a,c);return Us(a,m,d)}function gc(r,a,c="asc"){if(!a||Object.keys(a).length===0)return(E,S)=>E-S;let d=Object.keys(a),m,g=d.length-1,x={};for(;g>=0;)m=d[g],x[m.toLowerCase()]=a[m],g-=1;function k(E){if(E instanceof L.Marker)return"Marker";if(E instanceof L.Circle)return"Circle";if(E instanceof L.CircleMarker)return"CircleMarker";if(E instanceof L.Rectangle)return"Rectangle";if(E instanceof L.Polygon)return"Polygon";if(E instanceof L.Polyline)return"Line"}return(E,S)=>{let H,N;if(H=k(E.layer).toLowerCase(),N=k(S.layer).toLowerCase(),!H||!N)return 0;let at=H in x?x[H]:Number.MAX_SAFE_INTEGER,ft=N in x?x[N]:Number.MAX_SAFE_INTEGER,St=0;return at<ft?St=-1:at>ft&&(St=1),c==="desc"?St*-1:St}}function Vi(r,a=r.getLatLngs()){return r instanceof L.Polygon?L.polygon(a).getLatLngs():L.polyline(a).getLatLngs()}function Io(r,a){var c,d,m,g;if((d=(c=a.options.crs)==null?void 0:c.projection)!=null&&d.MAX_LATITUDE){let x=(g=(m=a.options.crs)==null?void 0:m.projection)==null?void 0:g.MAX_LATITUDE;r.lat=Math.max(Math.min(x,r.lat),-x)}return r}function wr(r){return r.options.renderer||r._map&&(r._map._getPaneRenderer(r.options.pane)||r._map.options.renderer||r._map._renderer)||r._renderer}var _i=L.Class.extend({includes:[er,Xr,nr,gl,xr],initialize(r){this.map=r,this.Draw=new L.PM.Draw(r),this.Toolbar=new L.PM.Toolbar(r),this.Keyboard=vl(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(r)},setLang(r="en",a,c="en"){let d=L.PM.activeLang;a&&(tr[r]=(0,ve.default)(tr[c],a)),L.PM.activeLang=r,this.map.pm.Toolbar.reinit(),this._fireLangChange(d,r,c,tr[r])},addControls(r){this.Toolbar.addControls(r)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(r="Polygon",a){r==="Poly"&&(r="Polygon"),this.Draw.enable(r,a)},disableDraw(r="Polygon"){r==="Poly"&&(r="Polygon"),this.Draw.disable(r)},setPathOptions(r,a={}){let c=a.ignoreShapes||[],d=a.merge||!1;this.map.pm.Draw.shapes.forEach(m=>{c.indexOf(m)===-1&&this.map.pm.Draw[m].setPathOptions(r,d)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(r){let a=(0,ve.default)(this.globalOptions,r);a.editable&&(a.resizeableCircleMarker=a.editable,delete a.editable);let c=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!a.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),c=!0);let d=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!a.resizableCircle&&(this.map.pm.Draw.Circle.disable(),d=!0),this.map.pm.Draw.shapes.forEach(m=>{this.map.pm.Draw[m].setOptions(a)}),c&&this.map.pm.Draw.CircleMarker.enable(),d&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(m=>{m.pm.setOptions(a)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=a,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(r=>{r.pm.enabled()&&r.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(r){return this.Draw.Cut.enable(r)},toggleGlobalCutMode(r){return this.Draw.Cut.toggle(r)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(r=!1){let a=L.PM.Utils.findLayers(this.map);if(!r)return a;let c=L.featureGroup();return c._pmTempLayer=!0,a.forEach(d=>{c.addLayer(d)}),c},getGeomanDrawLayers(r=!1){let a=L.PM.Utils.findLayers(this.map).filter(d=>d._drawnByGeoman===!0);if(!r)return a;let c=L.featureGroup();return c._pmTempLayer=!0,a.forEach(d=>{c.addLayer(d)}),c},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(r){this._touchEventCounter===0&&(L.DomEvent.on(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(r){this._touchEventCounter===1&&(L.DomEvent.off(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(r){wr(this.map)._onMouseMove(this._createMouseEvent("mousemove",r))},_canvasTouchClick(r){let a="";r.type==="touchstart"||r.type==="pointerdown"?a="mousedown":(r.type==="touchend"||r.type==="pointerup"||r.type==="touchcancel"||r.type==="pointercancel")&&(a="mouseup"),a&&wr(this.map)._onClick(this._createMouseEvent(a,r))},_createMouseEvent(r,a){let c,d=a.touches[0]||a.changedTouches[0];try{c=new MouseEvent(r,{bubbles:a.bubbles,cancelable:a.cancelable,view:a.view,detail:d.detail,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button,relatedTarget:a.relatedTarget})}catch{c=document.createEvent("MouseEvents"),c.initMouseEvent(r,a.bubbles,a.cancelable,a.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}return c}}),yc=_i,wl=L.Control.extend({includes:[xr],options:{position:"topleft",disableByOtherButtons:!0},initialize(r){this._button=L.Util.extend({},this.options,r)},onAdd(r){return this._map=r,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let r=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),r?r.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(r){return typeof r=="boolean"?this._button.toggleStatus=r:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled()},_triggerClick(r){r&&r.preventDefault(),!this._button.disabled&&(this._button.onClick(r,{button:this,event:r}),this._clicked(r),this._button.afterClick(r,{button:this,event:r}))},_makeButton(r){let a=this.options.position.indexOf("right")>-1?"pos-right":"",c=L.DomUtil.create("div",`button-container  ${a}`,this._container);r.title&&c.setAttribute("title",r.title);let d=L.DomUtil.create("a","leaflet-buttons-control-button",c);d.setAttribute("role","button"),d.setAttribute("tabindex","0"),d.href="#";let m=L.DomUtil.create("div",`leaflet-pm-actions-container ${a}`,c),g=r.actions,x={cancel:{text:Te("actions.cancel"),title:Te("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Te("actions.finish"),title:Te("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Te("actions.removeLastVertex"),title:Te("actions.removeLastVertex"),onClick(){this._map.pm.Draw[r.jsClass]._removeLastVertex()}},finish:{text:Te("actions.finish"),title:Te("actions.finish"),onClick(E){this._map.pm.Draw[r.jsClass]._finishShape(E)}}};g.forEach(E=>{let S=typeof E=="string"?E:E.name,H;if(x[S])H=x[S];else if(E.text)H=E;else return;let N=L.DomUtil.create("a",`leaflet-pm-action ${a} action-${S}`,m);if(N.setAttribute("role","button"),N.setAttribute("tabindex","0"),N.href="#",H.title&&(N.title=H.title),N.innerHTML=H.text,L.DomEvent.disableClickPropagation(N),L.DomEvent.on(N,"click",L.DomEvent.stop),!r.disabled&&H.onClick){let at=ft=>{ft.preventDefault();let St="",{buttons:qt}=this._map.pm.Toolbar;for(let te in qt)if(qt[te]._button===r){St=te;break}this._fireActionClick(H,St,r)};L.DomEvent.addListener(N,"click",at,this),L.DomEvent.addListener(N,"click",H.onClick,this)}}),r.toggleStatus&&L.DomUtil.addClass(c,"active");let k=L.DomUtil.create("div","control-icon",d);return r.iconUrl&&k.setAttribute("src",r.iconUrl),r.className&&L.DomUtil.addClass(k,r.className),L.DomEvent.disableClickPropagation(d),L.DomEvent.on(d,"click",L.DomEvent.stop),r.disabled||(L.DomEvent.addListener(d,"click",this._onBtnClick,this),L.DomEvent.addListener(d,"click",this._triggerClick,this)),r.disabled&&(L.DomUtil.addClass(d,"pm-disabled"),d.setAttribute("aria-disabled","true")),c},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let r="",{buttons:a}=this._map.pm.Toolbar;for(let c in a)if(a[c]._button===this._button){r=c;break}this._fireButtonClick(r,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let r="pm-disabled",a=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(a,r),a.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(a,r),a.setAttribute("aria-disabled","false"))}}),Ui=wl;L.Control.PMButton=Ui;var Ll=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(r){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(r)},reinit(){let r=this.isVisible;this.removeControls(),this._defineButtons(),r&&this.addControls()},init(r){this.map=r,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(r){let a=`${r}Container`;return this[a]||(this[a]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${r} leaflet-bar leaflet-control`)),this[a]},getButtons(){return this.buttons},addControls(r=this.options){typeof r.editPolygon<"u"&&(r.editMode=r.editPolygon),typeof r.deleteLayer<"u"&&(r.removalMode=r.deleteLayer),L.Util.setOptions(this,r),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let r=this.getButtons(),a={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let c in r){let d=r[c];L.Util.setOptions(d,{className:a.geomanIcons[c]})}},removeControls(){let r=this.getButtons();for(let a in r)r[a].remove();this.isVisible=!1},toggleControls(r=this.options){this.isVisible?this.removeControls():this.addControls(r)},_addButton(r,a){return this.buttons[r]=a,this.options[r]=!!this.options[r]||!1,this.buttons[r]},triggerClickOnToggledButtons(r){for(let a in this.buttons){let c=this.buttons[a];c._button.disableByOtherButtons&&c!==r&&c.toggled()&&c._triggerClick()}},toggleButton(r,a,c=!0){return r==="editPolygon"&&(r="editMode"),r==="deleteLayer"&&(r="removalMode"),c&&this.triggerClickOnToggledButtons(this.buttons[r]),this.buttons[r]?this.buttons[r].toggle(a):!1},_defineButtons(){let r={className:"control-icon leaflet-pm-icon-marker",title:Te("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(at,ft)=>{this.map.pm.Draw[ft.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:Te("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(at,ft)=>{this.map.pm.Draw[ft.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},c={className:"control-icon leaflet-pm-icon-polyline",title:Te("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(at,ft)=>{this.map.pm.Draw[ft.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},d={title:Te("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(at,ft)=>{this.map.pm.Draw[ft.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},m={title:Te("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(at,ft)=>{this.map.pm.Draw[ft.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},g={title:Te("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(at,ft)=>{this.map.pm.Draw[ft.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},x={title:Te("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},k={title:Te("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},E={title:Te("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(at,ft)=>{this.map.pm.Draw[ft.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},S={title:Te("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},H={title:Te("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},N={className:"control-icon leaflet-pm-icon-text",title:Te("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(at,ft)=>{this.map.pm.Draw[ft.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(r)),this._addButton("drawPolyline",new L.Control.PMButton(c)),this._addButton("drawRectangle",new L.Control.PMButton(g)),this._addButton("drawPolygon",new L.Control.PMButton(a)),this._addButton("drawCircle",new L.Control.PMButton(d)),this._addButton("drawCircleMarker",new L.Control.PMButton(m)),this._addButton("drawText",new L.Control.PMButton(N)),this._addButton("editMode",new L.Control.PMButton(x)),this._addButton("dragMode",new L.Control.PMButton(k)),this._addButton("cutPolygon",new L.Control.PMButton(E)),this._addButton("removalMode",new L.Control.PMButton(S)),this._addButton("rotateMode",new L.Control.PMButton(H))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let r=this.getButtons(),a=[];this.options.drawControls===!1&&(a=a.concat(Object.keys(r).filter(c=>!r[c]._button.tool))),this.options.editControls===!1&&(a=a.concat(Object.keys(r).filter(c=>r[c]._button.tool==="edit"))),this.options.optionsControls===!1&&(a=a.concat(Object.keys(r).filter(c=>r[c]._button.tool==="options"))),this.options.customControls===!1&&(a=a.concat(Object.keys(r).filter(c=>r[c]._button.tool==="custom")));for(let c in r)if(this.options[c]&&a.indexOf(c)===-1){let d=r[c]._button.tool;d||(d="draw"),r[c].setPosition(this._getBtnPosition(d)),r[c].addTo(this.map)}},_getBtnPosition(r){return this.options.positions&&this.options.positions[r]?this.options.positions[r]:this.options.position},setBlockPosition(r,a){this.options.positions[r]=a,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(r,a){if(a)typeof a!="object"&&(a={name:a});else throw new TypeError("Button has no name");let c=this._btnNameMapping(r);if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");let d=this.map.pm.Draw.createNewDrawInstance(a.name,c);a={...this.buttons[c]._button,...a};let m=this.createCustomControl(a);return{drawInstance:d,control:m}},createCustomControl(r){if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");r.onClick||(r.onClick=()=>{}),r.afterClick||(r.afterClick=()=>{}),r.toggle!==!1&&(r.toggle=!0),r.block&&(r.block=r.block.toLowerCase()),(!r.block||r.block==="draw")&&(r.block=""),r.className?r.className.indexOf("control-icon")===-1&&(r.className=`control-icon ${r.className}`):r.className="control-icon";let a={tool:r.block,className:r.className,title:r.title||"",jsClass:r.name,onClick:r.onClick,afterClick:r.afterClick,doToggle:r.toggle,toggleStatus:!1,disableOtherButtons:r.disableOtherButtons??!0,disableByOtherButtons:r.disableByOtherButtons??!0,cssToggle:r.toggle,position:this.options.position,actions:r.actions||[],disabled:!!r.disabled};this.options[r.name]!==!1&&(this.options[r.name]=!0);let c=this._addButton(r.name,new L.Control.PMButton(a));return this.changeControlOrder(),c},controlExists(r){return!!this.getButton(r)},getButton(r){return this.getButtons()[r]},getButtonsInBlock(r){let a={};if(r)for(let c in this.getButtons()){let d=this.getButtons()[c];(d._button.tool===r||r==="draw"&&!d._button.tool)&&(a[c]=d)}return a},changeControlOrder(r=[]){let a=this._shapeMapping(),c=[];r.forEach(g=>{a[g]?c.push(a[g]):c.push(g)});let d=this.getButtons(),m={};c.forEach(g=>{d[g]&&(m[g]=d[g])}),Object.keys(d).filter(g=>!d[g]._button.tool).forEach(g=>{c.indexOf(g)===-1&&(m[g]=d[g])}),Object.keys(d).filter(g=>d[g]._button.tool==="edit").forEach(g=>{c.indexOf(g)===-1&&(m[g]=d[g])}),Object.keys(d).filter(g=>d[g]._button.tool==="options").forEach(g=>{c.indexOf(g)===-1&&(m[g]=d[g])}),Object.keys(d).filter(g=>d[g]._button.tool==="custom").forEach(g=>{c.indexOf(g)===-1&&(m[g]=d[g])}),Object.keys(d).forEach(g=>{c.indexOf(g)===-1&&(m[g]=d[g])}),this.map.pm.Toolbar.buttons=m,this._showHideButtons()},getControlOrder(){let r=this.getButtons(),a=[];for(let c in r)a.push(c);return a},changeActionsOfControl(r,a){let c=this._btnNameMapping(r);if(!c)throw new TypeError("No name passed");if(!a)throw new TypeError("No actions passed");if(!this.buttons[c])throw new TypeError("Button with this name not exists");this.buttons[c]._button.actions=a,this.changeControlOrder()},setButtonDisabled(r,a){let c=this._btnNameMapping(r);a?this.buttons[c].disable():this.buttons[c].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(r){let a=this._shapeMapping();return a[r]?a[r]:r}}),Cl=Ll,Hs=_(Bo()),vc={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(r){r.forEach(a=>{if(Array.isArray(a)){this._assignEvents(a);return}a.off("drag",this._handleSnapping,this),a.on("drag",this._handleSnapping,this),a.off("dragend",this._cleanupSnapping,this),a.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(r){if(r){let a=r.target;a._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(a=>{a.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(r){var k,E,S;let a=r.target;if(a._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),((k=r==null?void 0:r.originalEvent)==null?void 0:k.altKey)||((S=(E=this._map)==null?void 0:E.pm)==null?void 0:S.Keyboard.isAltKeyPressed())||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let c=this._calcClosestLayer(a.getLatLng(),this._snapList);if(Object.keys(c).length===0)return!1;let d=c.layer instanceof L.Marker||c.layer instanceof L.CircleMarker||!this.options.snapSegment,m;d?m=c.latlng:m=this._checkPrioritiySnapping(c);let g=this.options.snapDistance,x={marker:a,shape:this._shape,snapLatLng:m,segment:c.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:c.layer,distance:c.distance};if(this._fireSnapDrag(x.marker,x),this._fireSnapDrag(this._layer,x),c.distance<g){a._orgLatLng=a.getLatLng(),a.setLatLng(m),a._snapped=!0,a._snapInfo=x;let H=()=>{this._snapLatLng=m,this._fireSnap(a,x),this._fireSnap(this._layer,x)},N=this._snapLatLng||{},at=m||{};(N.lat!==at.lat||N.lng!==at.lng)&&H()}else this._snapLatLng&&(this._unsnap(x),a._snapped=!1,a._snapInfo=void 0,this._fireUnsnap(x.marker,x),this._fireUnsnap(this._layer,x));return!0},_createSnapList(){let r=[],a=[],c=this._map;c.off("layerremove",this._handleSnapLayerRemoval,this),c.on("layerremove",this._handleSnapLayerRemoval,this),c.eachLayer(d=>{if((d instanceof L.Polyline||d instanceof L.Marker||d instanceof L.CircleMarker||d instanceof L.ImageOverlay)&&d.options.snapIgnore!==!0){if(d.options.snapIgnore===void 0&&(!L.PM.optIn&&d.options.pmIgnore===!0||L.PM.optIn&&d.options.pmIgnore!==!1))return;(d instanceof L.Circle||d instanceof L.CircleMarker)&&d.pm&&d.pm._hiddenPolyCircle?r.push(d.pm._hiddenPolyCircle):d instanceof L.ImageOverlay&&(d=L.rectangle(d.getBounds())),r.push(d);let m=L.polyline([],{color:"red",pmIgnore:!0});m._pmTempLayer=!0,a.push(m),(d instanceof L.Circle||d instanceof L.CircleMarker)&&a.push(m)}}),r=r.filter(d=>this._layer!==d),r=r.filter(d=>d._latlng||d._latlngs&&Hn(d._latlngs)),r=r.filter(d=>!d._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let d=L.polyline([],{color:"red",pmIgnore:!0});d._pmTempLayer=!0,a.push(d)}),this._snapList=r.concat(this._otherSnapLayers)):this._snapList=r,this.debugIndicatorLines=a},_handleSnapLayerRemoval({layer:r}){if(!r._leaflet_id)return;let a=this._snapList.findIndex(c=>c._leaflet_id===r._leaflet_id);a>-1&&this._snapList.splice(a,1)},_calcClosestLayer(r,a){return this._calcClosestLayers(r,a,1)[0]},_calcClosestLayers(r,a,c=1){let d=[],m={};a.forEach((x,k)=>{if(x._parentCopy&&x._parentCopy===this._layer)return;let E=this._calcLayerDistances(r,x);if(E.distance=Math.floor(E.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[k]){let S=L.polyline([],{color:"red",pmIgnore:!0});S._pmTempLayer=!0,this.debugIndicatorLines[k]=S}this.debugIndicatorLines[k].setLatLngs([r,E.latlng])}c===1&&(m.distance===void 0||E.distance-5<=m.distance)?(E.distance+5<m.distance&&(d=[]),m=E,m.layer=x,d.push(m)):c!==1&&(m={},m=E,m.layer=x,d.push(m))}),c!==1&&(d=d.sort((x,k)=>x.distance-k.distance)),c===-1&&(c=d.length);let g=this._getClosestLayerByPriority(d,c);return L.Util.isArray(g)?g:[g]},_calcLayerDistances(r,a){let c=this._map,d=a instanceof L.Marker||a instanceof L.CircleMarker,m=a instanceof L.Polygon,g=r;if(d){let x=a.getLatLng();return{latlng:{...x},distance:this._getDistance(c,x,g)}}return this._calcLatLngDistances(g,a.getLatLngs(),c,m)},_calcLatLngDistances(r,a,c,d=!1){let m,g,x,k=E=>{E.forEach((S,H)=>{if(Array.isArray(S)){k(S);return}if(this.options.snapSegment){let N=S,at;d?at=H+1===E.length?0:H+1:at=H+1===E.length?void 0:H+1;let ft=E[at];if(ft){let St=this._getDistanceToSegment(c,r,N,ft);(g===void 0||St<g)&&(g=St,x=[N,ft])}}else{let N=this._getDistance(c,r,S);(g===void 0||N<g)&&(g=N,m=S)}})};return k(a),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(c,r,x[0],x[1])},segment:x,distance:g}:{latlng:m,distance:g}},_getClosestLayerByPriority(r,a=1){r=r.sort((x,k)=>x._leaflet_id-k._leaflet_id);let c=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],d=this._map.pm.globalOptions.snappingOrder||[],m=0,g={};return d.concat(c).forEach(x=>{g[x]||(m+=1,g[x]=m)}),r.sort(gc("instanceofShape",g)),a===1?r[0]||{}:r.slice(0,a)},_checkPrioritiySnapping(r){let a=this._map,c=r.segment[0],d=r.segment[1],m=r.latlng,g=this._getDistance(a,c,m),x=this._getDistance(a,d,m),k=g<x?c:d,E=g<x?g:x;if(this.options.snapMiddle){let N=L.PM.Utils.calcMiddleLatLng(a,c,d),at=this._getDistance(a,N,m);at<g&&at<x&&(k=N,E=at)}let S=this.options.snapDistance,H;return E<S?H=k:H=m,{...H}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(r,a,c,d){let m=r.getMaxZoom();m===1/0&&(m=r.getZoom());let g=r.project(a,m),x=r.project(c,m),k=r.project(d,m),E=L.LineUtil.closestPointOnSegment(g,x,k);return r.unproject(E,m)},_getDistanceToSegment(r,a,c,d){let m=r.latLngToLayerPoint(a),g=r.latLngToLayerPoint(c),x=r.latLngToLayerPoint(d);return L.LineUtil.pointToSegmentDistance(m,g,x)},_getDistance(r,a,c){return r.latLngToLayerPoint(a).distanceTo(r.latLngToLayerPoint(c))}},$s=vc,kl=L.Class.extend({includes:[$s,xr],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions(r){L.Util.setOptions(this,r),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(r){let a=new L.Icon.Default;a.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=a,this._map=r,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(c=>{this[c]=new L.PM.Draw[c](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(r,a=!1){a?this.options.pathOptions=(0,Hs.default)(this.options.pathOptions,r):this.options.pathOptions=r},getShapes(){return this.shapes},getShape(){return this._shape},enable(r,a){if(!r)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[r].enable(a)},disable(){this.shapes.forEach(r=>{this[r].disable()})},addControls(){this.shapes.forEach(r=>{this[r].addButton()})},getActiveShape(){let r;return this.shapes.forEach(a=>{this[a]._enabled&&(r=a)}),r},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let r=[];this._map.eachLayer(a=>{(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&(a._pmTempLayer||r.push(a))}),this._enabled?r.forEach(a=>{L.PM.Utils.disablePopup(a)}):r.forEach(a=>{L.PM.Utils.enablePopup(a)})},createNewDrawInstance(r,a){let c=this._getShapeFromBtnName(a);if(this[r])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[c])throw new TypeError(`There is no class L.PM.Draw.${c}`);return this[r]=new L.PM.Draw[c](this._map),this[r].toolbarButtonName=r,this[r]._shape=r,this.shapes.push(r),this[a]&&this[r].setOptions(this[a].options),this[r].setOptions(this[r].options),this[r]},_getShapeFromBtnName(r){let a={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return a[r]?a[r]:this[r]?this[r]._shape:r},_finishLayer(r){r.pm&&(r.pm.setOptions(this.options),r.pm._shape=this._shape,r.pm._map=this._map),this._addDrawnLayerProp(r)},_addDrawnLayerProp(r){r._drawnByGeoman=!0},_setPane(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Cn=kl;Cn.Marker=Cn.extend({initialize(r){this._map=r,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Te("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(a=>{this.isRelevantMarker(a)&&a.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},isRelevantMarker(r){return r instanceof L.Marker&&r.pm&&!r._pmTempLayer&&!r.pm._initTextMarker},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(r){if(!r.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng(),c=new L.Marker(a,this.options.markerStyle);this._setPane(c,"markerPane"),this._finishLayer(c),c.pm||(c.options.draggable=!1),c.addTo(this._map.pm._getContainingLayer()),c.pm&&this.options.markerEditable?c.pm.enable():c.dragging&&c.dragging.disable(),this._fireCreate(c),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){var r,a;(r=this.options.markerStyle)!=null&&r.icon&&((a=this._hintMarker)==null||a.setIcon(this.options.markerStyle.icon))}});var Fn=63710088e-1,Fo={centimeters:Fn*100,centimetres:Fn*100,degrees:Fn/111325,feet:Fn*3.28084,inches:Fn*39.37,kilometers:Fn/1e3,kilometres:Fn/1e3,meters:Fn,metres:Fn,miles:Fn/1609.344,millimeters:Fn*1e3,millimetres:Fn*1e3,nauticalmiles:Fn/1852,radians:1,yards:Fn*1.0936};function Lr(r,a,c){c===void 0&&(c={});var d={type:"Feature"};return(c.id===0||c.id)&&(d.id=c.id),c.bbox&&(d.bbox=c.bbox),d.properties=a||{},d.geometry=r,d}function ir(r,a,c){if(c===void 0&&(c={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Zs(r[0])||!Zs(r[1]))throw new Error("coordinates must contain numbers");var d={type:"Point",coordinates:r};return Lr(d,a,c)}function Cr(r,a,c){if(c===void 0&&(c={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var d={type:"LineString",coordinates:r};return Lr(d,a,c)}function li(r,a){a===void 0&&(a={});var c={type:"FeatureCollection"};return a.id&&(c.id=a.id),a.bbox&&(c.bbox=a.bbox),c.features=r,c}function rr(r,a){a===void 0&&(a="kilometers");var c=Fo[a];if(!c)throw new Error(a+" units is invalid");return r*c}function bc(r,a){a===void 0&&(a="kilometers");var c=Fo[a];if(!c)throw new Error(a+" units is invalid");return r/c}function or(r){var a=r%(2*Math.PI);return a*180/Math.PI}function en(r){var a=r%360;return a*Math.PI/180}function Zs(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function to(r){var a,c,d={type:"FeatureCollection",features:[]};if(r.type==="Feature"?c=r.geometry:c=r,c.type==="LineString")a=[c.coordinates];else if(c.type==="MultiLineString")a=c.coordinates;else if(c.type==="MultiPolygon")a=[].concat.apply([],c.coordinates);else if(c.type==="Polygon")a=c.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return a.forEach(function(m){a.forEach(function(g){for(var x=0;x<m.length-1;x++)for(var k=x;k<g.length-1;k++)if(!(m===g&&(Math.abs(x-k)===1||x===0&&k===m.length-2&&m[x][0]===m[m.length-1][0]&&m[x][1]===m[m.length-1][1]))){var E=xc(m[x][0],m[x][1],m[x+1][0],m[x+1][1],g[k][0],g[k][1],g[k+1][0],g[k+1][1]);E&&d.features.push(ir([E[0],E[1]]))}})}),d}function xc(r,a,c,d,m,g,x,k){var E,S,H,N,at,ft={x:null,y:null,onLine1:!1,onLine2:!1};return E=(k-g)*(c-r)-(x-m)*(d-a),E===0?ft.x!==null&&ft.y!==null?ft:!1:(S=a-g,H=r-m,N=(x-m)*S-(k-g)*H,at=(c-r)*S-(d-a)*H,S=N/E,H=at/E,ft.x=r+S*(c-r),ft.y=a+S*(d-a),S>=0&&S<=1&&(ft.onLine1=!0),H>=0&&H<=1&&(ft.onLine2=!0),ft.onLine1&&ft.onLine2?[ft.x,ft.y]:!1)}Cn.Line=Cn.extend({initialize(r){this._map=r,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Te("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine(){let r=this._layer.getLatLngs();if(r.length>0){let a=r[r.length-1];this._hintline.setLatLngs([a,this._hintMarker.getLatLng()])}},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let c=r;c.target=this._hintMarker,this._handleSnapping(c)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let a=this._layer._defaultShape().slice();a.push(this._hintMarker.getLatLng()),this._change(a)},hasSelfIntersection(){return to(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(r,a){let c=L.polyline(this._layer.getLatLngs());r&&(a||(a=this._hintMarker.getLatLng()),c.addLatLng(a));let d=to(c.toGeoJSON(15));this._doesSelfIntersect=d.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(d,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(r){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,r.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng(),c=this._layer.getLatLngs(),d=c[c.length-1];if(a.equals(c[0])||c.length>0&&a.equals(d)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:a,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(a);let m=this._createMarker(a);this._setTooltipText(),this._setHintLineAfterNewVertex(a),this._fireVertexAdded(m,void 0,a,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(r)},_setHintLineAfterNewVertex(r){this._hintline.setLatLngs([r,r])},_removeLastVertex(){let r=this._markers;if(r.length<=1){this.disable();return}let a=this._layer.getLatLngs(),c=r[r.length-1],{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(r,c);r.pop(),this._layerGroup.removeLayer(c);let m=r[r.length-1],g=a.indexOf(m.getLatLng());a=a.slice(0,g+1),this._layer.setLatLngs(a),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(c,d,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=1)return;let a=L.polyline(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createMarker(r){let a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),a.on("click",this._finishShape,this),a},_setTooltipText(){let{length:r}=this._layer.getLatLngs().flat(),a="";r<=1?a=Te("tooltips.continueLine"):a=Te("tooltips.finishLine"),this._hintMarker.setTooltipContent(a)},_change(r){this._fireChange(r,"Draw")},setStyle(){var r,a;(r=this._layer)==null||r.setStyle(this.options.templineStyle),(a=this._hintline)==null||a.setStyle(this.options.hintlineStyle)}}),Cn.Polygon=Cn.Line.extend({initialize(r){this._map=r,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(r){L.PM.Draw.Line.prototype.enable.call(this,r),this._layer.pm._shape="Polygon"},_createMarker(r){let a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),this._layer.getLatLngs().flat().length===1?(a.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(a)-1,this.options.snappable&&this._cleanupSnapping()):a.on("click",()=>1),a},_setTooltipText(){let{length:r}=this._layer.getLatLngs().flat(),a="";r<=2?a=Te("tooltips.continueLine"):a=Te("tooltips.finishPoly"),this._hintMarker.setTooltipContent(a)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=2)return;let a=L.polygon(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}),Cn.Rectangle=Cn.extend({initialize(r){this._map=r,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(r){if(L.Util.setOptions(this,r),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Te("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let a=0;a<2;a+=1){let c=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this._layerGroup.addLayer(c),this._styleMarkers.push(c)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_placeStartingMarkers(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(a),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(c=>{L.DomUtil.addClass(c._icon,"visible"),c.setLatLng(a)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Te("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let r=this._startMarker.getLatLng();r&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([r,r]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let c=r;c.target=this._hintMarker,this._handleSnapping(c)}let a=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(a,"Draw")},_syncRectangleSize(){let r=Io(this._startMarker.getLatLng(),this._map),a=Io(this._hintMarker.getLatLng(),this._map),c=L.PM.Utils._getRotatedRectangle(r,a,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(c),this.options.cursorMarker&&this._styleMarkers){let d=[];c.forEach(m=>{!m.equals(r,1e-8)&&!m.equals(a,1e-8)&&d.push(m)}),d.forEach((m,g)=>{try{this._styleMarkers[g].setLatLng(m)}catch{}})}},_findCorners(){let r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this.options.rectangleAngle||0,this._map)},_finishShape(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng(),c=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||c.equals(a))return;let d=L.rectangle([c,a],this.options.pathOptions);if(this.options.rectangleAngle){let m=L.PM.Utils._getRotatedRectangle(c,a,this.options.rectangleAngle||0,this._map);d.setLatLngs(m),d.pm&&d.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._fireCreate(d),this.disable(),this.options.continueDrawing&&this.enable()},setStyle(){var r;(r=this._layer)==null||r.setStyle(this.options.pathOptions)}}),Cn.CircleMarker=Cn.extend({initialize(r){this._map=r,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(r){if(L.Util.setOptions(this,r),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let a={};L.extend(a,this.options.templineStyle),a.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),a),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Te("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Te("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.disable()})},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_placeCenterMarker(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Te("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let r=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,a])},_syncCircleRadius(){let r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),c=this._distanceCalculation(r,a);this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(c)},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let c=r;c.target=this._hintMarker,this._handleSnapping(c)}this._handleHintMarkerSnapping();let a=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(a,"Draw")},isRelevantMarker(r){return r instanceof L.CircleMarker&&!(r instanceof L.Circle)&&r.pm&&!r._pmTempLayer},_createMarker(r){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!r.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng(),c=new this._BaseCircleClass(a,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(c),this._fireCreate(c),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(r){r.pm&&this.options.markerEditable&&r.pm.enable()},_finishShape(r){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._centerMarker.getLatLng(),c=this._defaultRadius;if(this.options[this._editableOption]){let g=this._hintMarker.getLatLng();c=this._distanceCalculation(a,g),this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?c=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&(c=this.options[this._maxRadiusOption])}let d={...this.options.pathOptions,radius:c},m=new this._BaseCircleClass(a,d);this._setPane(m,"layerPane"),this._finishLayer(m),m.addTo(this._map.pm._getContainingLayer()),m.pm&&m.pm._updateHiddenPolyCircle(),this._fireCreate(m),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker(){let r=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return r;let a=this._centerMarker.getLatLng(),c=this._distanceCalculation(a,r);this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?r=Qr(this._map,a,r,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&(r=Qr(this._map,a,r,this._getMaxDistanceInMeter()))}return r},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),c=this._distanceCalculation(r,a);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){var a,c;let r={};L.extend(r,this.options.templineStyle),this.options[this._editableOption]&&(r.radius=0),(a=this._layer)==null||a.setStyle(r),(c=this._hintline)==null||c.setStyle(this.options.hintlineStyle)},_distanceCalculation(r,a){return this._map.project(r).distanceTo(this._map.project(a))}}),Cn.Circle=Cn.CircleMarker.extend({initialize(r){this._map=r,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(r,a){return this._map.distance(r,a)}});function Xn(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Qn(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function jo(r){return r.type==="Feature"?r.geometry:r}function El(r,a){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function No(r,a,c){if(r!==null)for(var d,m,g,x,k,E,S,H=0,N=0,at,ft=r.type,St=ft==="FeatureCollection",qt=ft==="Feature",te=St?r.features.length:1,Ae=0;Ae<te;Ae++){S=St?r.features[Ae].geometry:qt?r.geometry:r,at=S?S.type==="GeometryCollection":!1,k=at?S.geometries.length:1;for(var G=0;G<k;G++){var W=0,tt=0;if(x=at?S.geometries[G]:S,x!==null){E=x.coordinates;var pt=x.type;switch(H=0,pt){case null:break;case"Point":if(a(E,N,Ae,W,tt)===!1)return!1;N++,W++;break;case"LineString":case"MultiPoint":for(d=0;d<E.length;d++){if(a(E[d],N,Ae,W,tt)===!1)return!1;N++,pt==="MultiPoint"&&W++}pt==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(d=0;d<E.length;d++){for(m=0;m<E[d].length-H;m++){if(a(E[d][m],N,Ae,W,tt)===!1)return!1;N++}pt==="MultiLineString"&&W++,pt==="Polygon"&&tt++}pt==="Polygon"&&W++;break;case"MultiPolygon":for(d=0;d<E.length;d++){for(tt=0,m=0;m<E[d].length;m++){for(g=0;g<E[d][m].length-H;g++){if(a(E[d][m][g],N,Ae,W,tt)===!1)return!1;N++}tt++}W++}break;case"GeometryCollection":for(d=0;d<x.geometries.length;d++)if(No(x.geometries[d],a)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function eo(r,a){if(r.type==="Feature")a(r,0);else if(r.type==="FeatureCollection")for(var c=0;c<r.features.length&&a(r.features[c],c)!==!1;c++);}function ui(r,a,c){var d=c;return eo(r,function(m,g){g===0&&c===void 0?d=m:d=a(d,m,g)}),d}function kr(r,a){var c,d,m,g,x,k,E,S,H,N,at=0,ft=r.type==="FeatureCollection",St=r.type==="Feature",qt=ft?r.features.length:1;for(c=0;c<qt;c++){for(k=ft?r.features[c].geometry:St?r.geometry:r,S=ft?r.features[c].properties:St?r.properties:{},H=ft?r.features[c].bbox:St?r.bbox:void 0,N=ft?r.features[c].id:St?r.id:void 0,E=k?k.type==="GeometryCollection":!1,x=E?k.geometries.length:1,m=0;m<x;m++){if(g=E?k.geometries[m]:k,g===null){if(a(null,at,S,H,N)===!1)return!1;continue}switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(a(g,at,S,H,N)===!1)return!1;break}case"GeometryCollection":{for(d=0;d<g.geometries.length;d++)if(a(g.geometries[d],at,S,H,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}at++}}function qs(r,a){kr(r,function(c,d,m,g,x){var k=c===null?null:c.type;switch(k){case null:case"Point":case"LineString":case"Polygon":return a(Lr(c,m,{bbox:g,id:x}),d,0)===!1?!1:void 0}var E;switch(k){case"MultiPoint":E="Point";break;case"MultiLineString":E="LineString";break;case"MultiPolygon":E="Polygon";break}for(var S=0;S<c.coordinates.length;S++){var H=c.coordinates[S],N={type:E,coordinates:H};if(a(Lr(N,m),d,S)===!1)return!1}})}function Si(r){if(!r)throw new Error("geojson is required");var a=[];return qs(r,function(c){wc(c,a)}),li(a)}function wc(r,a){var c=[],d=r.geometry;if(d!==null){switch(d.type){case"Polygon":c=Qn(d);break;case"LineString":c=[Qn(d)]}c.forEach(function(m){var g=Er(m,r.properties);g.forEach(function(x){x.id=a.length,a.push(x)})})}}function Er(r,a){var c=[];return r.reduce(function(d,m){var g=Cr([d,m],a);return g.bbox=Lc(d,m),c.push(g),m}),c}function Lc(r,a){var c=r[0],d=r[1],m=a[0],g=a[1],x=c<m?c:m,k=d<g?d:g,E=c>m?c:m,S=d>g?d:g;return[x,k,E,S]}var sr=Si,Ml=_(Yi(),1);function zo(r,a){var c={},d=[];if(r.type==="LineString"&&(r=Lr(r)),a.type==="LineString"&&(a=Lr(a)),r.type==="Feature"&&a.type==="Feature"&&r.geometry!==null&&a.geometry!==null&&r.geometry.type==="LineString"&&a.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&a.geometry.coordinates.length===2){var m=Pl(r,a);return m&&d.push(m),li(d)}var g=(0,Ml.default)();return g.load(sr(a)),eo(sr(r),function(x){eo(g.search(x),function(k){var E=Pl(x,k);if(E){var S=Qn(E).join(",");c[S]||(c[S]=!0,d.push(E))}})}),li(d)}function Pl(r,a){var c=Qn(r),d=Qn(a);if(c.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(d.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var m=c[0][0],g=c[0][1],x=c[1][0],k=c[1][1],E=d[0][0],S=d[0][1],H=d[1][0],N=d[1][1],at=(N-S)*(x-m)-(H-E)*(k-g),ft=(H-E)*(g-S)-(N-S)*(m-E),St=(x-m)*(g-S)-(k-g)*(m-E);if(at===0)return null;var qt=ft/at,te=St/at;if(qt>=0&&qt<=1&&te>=0&&te<=1){var Ae=m+qt*(x-m),G=g+qt*(k-g);return ir([Ae,G])}return null}var jn=zo,no=_(Yi(),1);function Cc(r,a,c){c===void 0&&(c={});var d=Xn(r),m=Xn(a),g=en(m[1]-d[1]),x=en(m[0]-d[0]),k=en(d[1]),E=en(m[1]),S=Math.pow(Math.sin(g/2),2)+Math.pow(Math.sin(x/2),2)*Math.cos(k)*Math.cos(E);return rr(2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S)),c.units)}var Bi=Cc;function kc(r){var a=r[0],c=r[1],d=r[2],m=r[3],g=Bi(r.slice(0,2),[d,c]),x=Bi(r.slice(0,2),[a,m]);if(g>=x){var k=(c+m)/2;return[a,k-(d-a)/2,d,k+(d-a)/2]}else{var E=(a+d)/2;return[E-(m-c)/2,c,E+(m-c)/2,m]}}var Ti=kc;function Ks(r){var a=[1/0,1/0,-1/0,-1/0];return No(r,function(c){a[0]>c[0]&&(a[0]=c[0]),a[1]>c[1]&&(a[1]=c[1]),a[2]<c[0]&&(a[2]=c[0]),a[3]<c[1]&&(a[3]=c[1])}),a}Ks.default=Ks;var gi=Ks;function Ec(r,a){a===void 0&&(a={});var c=a.precision,d=a.coordinates,m=a.mutate;if(c=c==null||isNaN(c)?6:c,d=d==null||isNaN(d)?3:d,!r)throw new Error("<geojson> is required");if(typeof c!="number")throw new Error("<precision> must be a number");if(typeof d!="number")throw new Error("<coordinates> must be a number");(m===!1||m===void 0)&&(r=JSON.parse(JSON.stringify(r)));var g=Math.pow(10,c);return No(r,function(x){Ai(x,g,d)}),r}function Ai(r,a,c){r.length>c&&r.splice(c,r.length);for(var d=0;d<r.length;d++)r[d]=Math.round(r[d]*a)/a;return r}var Vo=Ec;function Ws(r,a,c){if(c===void 0&&(c={}),c.final===!0)return Js(r,a);var d=Xn(r),m=Xn(a),g=en(d[0]),x=en(m[0]),k=en(d[1]),E=en(m[1]),S=Math.sin(x-g)*Math.cos(E),H=Math.cos(k)*Math.sin(E)-Math.sin(k)*Math.cos(E)*Math.cos(x-g);return or(Math.atan2(S,H))}function Js(r,a){var c=Ws(a,r);return c=(c+180)%360,c}function io(r,a,c,d){d===void 0&&(d={});var m=Xn(r),g=en(m[0]),x=en(m[1]),k=en(c),E=bc(a,d.units),S=Math.asin(Math.sin(x)*Math.cos(E)+Math.cos(x)*Math.sin(E)*Math.cos(k)),H=g+Math.atan2(Math.sin(k)*Math.sin(E)*Math.cos(x),Math.cos(E)-Math.sin(x)*Math.sin(S)),N=or(H),at=or(S);return ir([N,at],d.properties)}function Ys(r,a,c){c===void 0&&(c={});var d=ir([1/0,1/0],{dist:1/0}),m=0;return qs(r,function(g){for(var x=Qn(g),k=0;k<x.length-1;k++){var E=ir(x[k]);E.properties.dist=Bi(a,E,c);var S=ir(x[k+1]);S.properties.dist=Bi(a,S,c);var H=Bi(E,S,c),N=Math.max(E.properties.dist,S.properties.dist),at=Ws(E,S),ft=io(a,N,at+90,c),St=io(a,N,at-90,c),qt=jn(Cr([ft.geometry.coordinates,St.geometry.coordinates]),Cr([E.geometry.coordinates,S.geometry.coordinates])),te=null;qt.features.length>0&&(te=qt.features[0],te.properties.dist=Bi(a,te,c),te.properties.location=m+Bi(E,te,c)),E.properties.dist<d.properties.dist&&(d=E,d.properties.index=k,d.properties.location=m),S.properties.dist<d.properties.dist&&(d=S,d.properties.index=k+1,d.properties.location=m+H),te&&te.properties.dist<d.properties.dist&&(d=te,d.properties.index=k),m+=H}}),d}var Uo=Ys;function Mr(r,a){if(!r)throw new Error("line is required");if(!a)throw new Error("splitter is required");var c=El(r),d=El(a);if(c!=="LineString")throw new Error("line must be LineString");if(d==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(d==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var m=Vo(a,{precision:7});switch(d){case"Point":return oo(r,m);case"MultiPoint":return ro(r,m);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return ro(r,jn(r,m))}}function ro(r,a){var c=[],d=(0,no.default)();return qs(a,function(m){if(c.forEach(function(k,E){k.id=E}),!c.length)c=oo(r,m).features,c.forEach(function(k){k.bbox||(k.bbox=Ti(gi(k)))}),d.load(li(c));else{var g=d.search(m);if(g.features.length){var x=Xs(m,g);c=c.filter(function(k){return k.id!==x.id}),d.remove(x),eo(oo(x,m),function(k){c.push(k),d.insert(k)})}}}),li(c)}function oo(r,a){var c=[],d=Qn(r)[0],m=Qn(r)[r.geometry.coordinates.length-1];if(Qs(d,Xn(a))||Qs(m,Xn(a)))return li([r]);var g=(0,no.default)(),x=sr(r);g.load(x);var k=g.search(a);if(!k.features.length)return li([r]);var E=Xs(a,k),S=[d],H=ui(x,function(N,at,ft){var St=Qn(at)[1],qt=Xn(a);return ft===E.id?(N.push(qt),c.push(Cr(N)),Qs(qt,St)?[qt]:[qt,St]):(N.push(St),N)},S);return H.length>1&&c.push(Cr(H)),li(c)}function Xs(r,a){if(!a.features.length)throw new Error("lines must contain features");if(a.features.length===1)return a.features[0];var c,d=1/0;return eo(a,function(m){var g=Uo(m,r),x=g.properties.dist;x<d&&(c=m,d=x)}),c}function Qs(r,a){return r[0]===a[0]&&r[1]===a[1]}var Go=Mr;function Ho(r,a,c){if(c===void 0&&(c={}),!r)throw new Error("point is required");if(!a)throw new Error("polygon is required");var d=Xn(r),m=jo(a),g=m.type,x=a.bbox,k=m.coordinates;if(x&&Mc(d,x)===!1)return!1;g==="Polygon"&&(k=[k]);for(var E=!1,S=0;S<k.length&&!E;S++)if(ta(d,k[S][0],c.ignoreBoundary)){for(var H=!1,N=1;N<k[S].length&&!H;)ta(d,k[S][N],!c.ignoreBoundary)&&(H=!0),N++;H||(E=!0)}return E}function ta(r,a,c){var d=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var m=0,g=a.length-1;m<a.length;g=m++){var x=a[m][0],k=a[m][1],E=a[g][0],S=a[g][1],H=r[1]*(x-E)+k*(E-r[0])+S*(r[0]-x)===0&&(x-r[0])*(E-r[0])<=0&&(k-r[1])*(S-r[1])<=0;if(H)return!c;var N=k>r[1]!=S>r[1]&&r[0]<(E-x)*(r[1]-k)/(S-k)+x;N&&(d=!d)}return d}function Mc(r,a){return a[0]<=r[0]&&a[1]<=r[1]&&a[2]>=r[0]&&a[3]>=r[1]}function Sl(r,a,c){c===void 0&&(c={});for(var d=Xn(r),m=Qn(a),g=0;g<m.length-1;g++){var x=!1;if(c.ignoreEndVertices&&(g===0&&(x="start"),g===m.length-2&&(x="end"),g===0&&g+1===m.length-1&&(x="both")),Pc(m[g],m[g+1],d,x,typeof c.epsilon>"u"?null:c.epsilon))return!0}return!1}function Pc(r,a,c,d,m){var g=c[0],x=c[1],k=r[0],E=r[1],S=a[0],H=a[1],N=c[0]-k,at=c[1]-E,ft=S-k,St=H-E,qt=N*St-at*ft;if(m!==null){if(Math.abs(qt)>m)return!1}else if(qt!==0)return!1;if(d){if(d==="start")return Math.abs(ft)>=Math.abs(St)?ft>0?k<g&&g<=S:S<=g&&g<k:St>0?E<x&&x<=H:H<=x&&x<E;if(d==="end")return Math.abs(ft)>=Math.abs(St)?ft>0?k<=g&&g<S:S<g&&g<=k:St>0?E<=x&&x<H:H<x&&x<=E;if(d==="both")return Math.abs(ft)>=Math.abs(St)?ft>0?k<g&&g<S:S<g&&g<k:St>0?E<x&&x<H:H<x&&x<E}else return Math.abs(ft)>=Math.abs(St)?ft>0?k<=g&&g<=S:S<=g&&g<=k:St>0?E<=x&&x<=H:H<=x&&x<=E;return!1}var Nn=Sl;function $o(r,a){var c=jo(r),d=jo(a),m=c.type,g=d.type,x=c.coordinates,k=d.coordinates;switch(m){case"Point":switch(g){case"Point":return qo(x,k);default:throw new Error("feature2 "+g+" geometry not supported")}case"MultiPoint":switch(g){case"Point":return Sc(c,d);case"MultiPoint":return Zo(c,d);default:throw new Error("feature2 "+g+" geometry not supported")}case"LineString":switch(g){case"Point":return Nn(d,c,{ignoreEndVertices:!0});case"LineString":return Tc(c,d);case"MultiPoint":return Bc(c,d);default:throw new Error("feature2 "+g+" geometry not supported")}case"Polygon":switch(g){case"Point":return Ho(d,c,{ignoreBoundary:!0});case"LineString":return so(c,d);case"Polygon":return Ac(c,d);case"MultiPoint":return Bl(c,d);default:throw new Error("feature2 "+g+" geometry not supported")}default:throw new Error("feature1 "+m+" geometry not supported")}}function Sc(r,a){var c,d=!1;for(c=0;c<r.coordinates.length;c++)if(qo(r.coordinates[c],a.coordinates)){d=!0;break}return d}function Zo(r,a){for(var c=0,d=a.coordinates;c<d.length;c++){for(var m=d[c],g=!1,x=0,k=r.coordinates;x<k.length;x++){var E=k[x];if(qo(m,E)){g=!0;break}}if(!g)return!1}return!0}function Bc(r,a){for(var c=!1,d=0,m=a.coordinates;d<m.length;d++){var g=m[d];if(Nn(g,r,{ignoreEndVertices:!0})&&(c=!0),!Nn(g,r))return!1}return!!c}function Bl(r,a){for(var c=0,d=a.coordinates;c<d.length;c++){var m=d[c];if(!Ho(m,r,{ignoreBoundary:!0}))return!1}return!0}function Tc(r,a){for(var c=!1,d=0,m=a.coordinates;d<m.length;d++){var g=m[d];if(Nn({type:"Point",coordinates:g},r,{ignoreEndVertices:!0})&&(c=!0),!Nn({type:"Point",coordinates:g},r,{ignoreEndVertices:!1}))return!1}return c}function so(r,a){var c=!1,d=0,m=gi(r),g=gi(a);if(!ar(m,g))return!1;for(d;d<a.coordinates.length-1;d++){var x=Tl(a.coordinates[d],a.coordinates[d+1]);if(Ho({type:"Point",coordinates:x},r,{ignoreBoundary:!0})){c=!0;break}}return c}function Ac(r,a){if(r.type==="Feature"&&r.geometry===null||a.type==="Feature"&&a.geometry===null)return!1;var c=gi(r),d=gi(a);if(!ar(c,d))return!1;for(var m=jo(a).coordinates,g=0,x=m;g<x.length;g++)for(var k=x[g],E=0,S=k;E<S.length;E++){var H=S[E];if(!Ho(H,r))return!1}return!0}function ar(r,a){return!(r[0]>a[0]||r[2]<a[2]||r[1]>a[1]||r[3]<a[3])}function qo(r,a){return r[0]===a[0]&&r[1]===a[1]}function Tl(r,a){return[(r[0]+a[0])/2,(r[1]+a[1])/2]}var Oc=_(Ni()),yi=r=>()=>r,Ko=r=>{let a=r?(c,d)=>d.minus(c).abs().isLessThanOrEqualTo(r):yi(!1);return(c,d)=>a(c,d)?0:c.comparedTo(d)};function Al(r){let a=r?(c,d,m,g,x)=>c.exponentiatedBy(2).isLessThanOrEqualTo(g.minus(d).exponentiatedBy(2).plus(x.minus(m).exponentiatedBy(2)).times(r)):yi(!1);return(c,d,m)=>{let g=c.x,x=c.y,k=m.x,E=m.y,S=x.minus(E).times(d.x.minus(k)).minus(g.minus(k).times(d.y.minus(E)));return a(S,g,x,k,E)?0:S.comparedTo(0)}}var ao=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ea=Math.ceil,Rn=Math.floor,gn="[BigNumber Error] ",na=gn+"Number primitive has more than 15 significant digits: ",ti=1e14,_e=14,Wo=9007199254740991,Jo=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Oi=1e7,pn=1e9;function ia(r){var a,c,d,m=G.prototype={constructor:G,toString:null,valueOf:null},g=new G(1),x=20,k=4,E=-7,S=21,H=-1e7,N=1e7,at=!1,ft=1,St=0,qt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},te="0123456789abcdefghijklmnopqrstuvwxyz",Ae=!0;function G(M,T){var D,R,I,F,Y,J,Q,st,ot=this;if(!(ot instanceof G))return new G(M,T);if(T==null){if(M&&M._isBigNumber===!0){ot.s=M.s,!M.c||M.e>N?ot.c=ot.e=null:M.e<H?ot.c=[ot.e=0]:(ot.e=M.e,ot.c=M.c.slice());return}if((J=typeof M=="number")&&M*0==0){if(ot.s=1/M<0?(M=-M,-1):1,M===~~M){for(F=0,Y=M;Y>=10;Y/=10,F++);F>N?ot.c=ot.e=null:(ot.e=F,ot.c=[M]);return}st=String(M)}else{if(!ao.test(st=String(M)))return d(ot,st,J);ot.s=st.charCodeAt(0)==45?(st=st.slice(1),-1):1}(F=st.indexOf("."))>-1&&(st=st.replace(".","")),(Y=st.search(/e/i))>0?(F<0&&(F=Y),F+=+st.slice(Y+1),st=st.substring(0,Y)):F<0&&(F=st.length)}else{if(tn(T,2,te.length,"Base"),T==10&&Ae)return ot=new G(M),it(ot,x+ot.e+1,k);if(st=String(M),J=typeof M=="number"){if(M*0!=0)return d(ot,st,J,T);if(ot.s=1/M<0?(st=st.slice(1),-1):1,G.DEBUG&&st.replace(/^0\.0*|\./,"").length>15)throw Error(na+M)}else ot.s=st.charCodeAt(0)===45?(st=st.slice(1),-1):1;for(D=te.slice(0,T),F=Y=0,Q=st.length;Y<Q;Y++)if(D.indexOf(R=st.charAt(Y))<0){if(R=="."){if(Y>F){F=Q;continue}}else if(!I&&(st==st.toUpperCase()&&(st=st.toLowerCase())||st==st.toLowerCase()&&(st=st.toUpperCase()))){I=!0,Y=-1,F=0;continue}return d(ot,String(M),J,T)}J=!1,st=c(st,T,10,ot.s),(F=st.indexOf("."))>-1?st=st.replace(".",""):F=st.length}for(Y=0;st.charCodeAt(Y)===48;Y++);for(Q=st.length;st.charCodeAt(--Q)===48;);if(st=st.slice(Y,++Q)){if(Q-=Y,J&&G.DEBUG&&Q>15&&(M>Wo||M!==Rn(M)))throw Error(na+ot.s*M);if((F=F-Y-1)>N)ot.c=ot.e=null;else if(F<H)ot.c=[ot.e=0];else{if(ot.e=F,ot.c=[],Y=(F+1)%_e,F<0&&(Y+=_e),Y<Q){for(Y&&ot.c.push(+st.slice(0,Y)),Q-=_e;Y<Q;)ot.c.push(+st.slice(Y,Y+=_e));Y=_e-(st=st.slice(Y)).length}else Y-=Q;for(;Y--;st+="0");ot.c.push(+st)}}else ot.c=[ot.e=0]}G.clone=ia,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(M){var T,D;if(M!=null)if(typeof M=="object"){if(M.hasOwnProperty(T="DECIMAL_PLACES")&&(D=M[T],tn(D,0,pn,T),x=D),M.hasOwnProperty(T="ROUNDING_MODE")&&(D=M[T],tn(D,0,8,T),k=D),M.hasOwnProperty(T="EXPONENTIAL_AT")&&(D=M[T],D&&D.pop?(tn(D[0],-pn,0,T),tn(D[1],0,pn,T),E=D[0],S=D[1]):(tn(D,-pn,pn,T),E=-(S=D<0?-D:D))),M.hasOwnProperty(T="RANGE"))if(D=M[T],D&&D.pop)tn(D[0],-pn,-1,T),tn(D[1],1,pn,T),H=D[0],N=D[1];else if(tn(D,-pn,pn,T),D)H=-(N=D<0?-D:D);else throw Error(gn+T+" cannot be zero: "+D);if(M.hasOwnProperty(T="CRYPTO"))if(D=M[T],D===!!D)if(D)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))at=D;else throw at=!D,Error(gn+"crypto unavailable");else at=D;else throw Error(gn+T+" not true or false: "+D);if(M.hasOwnProperty(T="MODULO_MODE")&&(D=M[T],tn(D,0,9,T),ft=D),M.hasOwnProperty(T="POW_PRECISION")&&(D=M[T],tn(D,0,pn,T),St=D),M.hasOwnProperty(T="FORMAT"))if(D=M[T],typeof D=="object")qt=D;else throw Error(gn+T+" not an object: "+D);if(M.hasOwnProperty(T="ALPHABET"))if(D=M[T],typeof D=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(D))Ae=D.slice(0,10)=="0123456789",te=D;else throw Error(gn+T+" invalid: "+D)}else throw Error(gn+"Object expected: "+M);return{DECIMAL_PLACES:x,ROUNDING_MODE:k,EXPONENTIAL_AT:[E,S],RANGE:[H,N],CRYPTO:at,MODULO_MODE:ft,POW_PRECISION:St,FORMAT:qt,ALPHABET:te}},G.isBigNumber=function(M){if(!M||M._isBigNumber!==!0)return!1;if(!G.DEBUG)return!0;var T,D,R=M.c,I=M.e,F=M.s;t:if({}.toString.call(R)=="[object Array]"){if((F===1||F===-1)&&I>=-pn&&I<=pn&&I===Rn(I)){if(R[0]===0){if(I===0&&R.length===1)return!0;break t}if(T=(I+1)%_e,T<1&&(T+=_e),String(R[0]).length==T){for(T=0;T<R.length;T++)if(D=R[T],D<0||D>=ti||D!==Rn(D))break t;if(D!==0)return!0}}}else if(R===null&&I===null&&(F===null||F===1||F===-1))return!0;throw Error(gn+"Invalid BigNumber: "+M)},G.maximum=G.max=function(){return tt(arguments,-1)},G.minimum=G.min=function(){return tt(arguments,1)},G.random=function(){var M=9007199254740992,T=Math.random()*M&2097151?function(){return Rn(Math.random()*M)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(D){var R,I,F,Y,J,Q=0,st=[],ot=new G(g);if(D==null?D=x:tn(D,0,pn),Y=ea(D/_e),at)if(crypto.getRandomValues){for(R=crypto.getRandomValues(new Uint32Array(Y*=2));Q<Y;)J=R[Q]*131072+(R[Q+1]>>>11),J>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),R[Q]=I[0],R[Q+1]=I[1]):(st.push(J%1e14),Q+=2);Q=Y/2}else if(crypto.randomBytes){for(R=crypto.randomBytes(Y*=7);Q<Y;)J=(R[Q]&31)*281474976710656+R[Q+1]*1099511627776+R[Q+2]*4294967296+R[Q+3]*16777216+(R[Q+4]<<16)+(R[Q+5]<<8)+R[Q+6],J>=9e15?crypto.randomBytes(7).copy(R,Q):(st.push(J%1e14),Q+=7);Q=Y/7}else throw at=!1,Error(gn+"crypto unavailable");if(!at)for(;Q<Y;)J=T(),J<9e15&&(st[Q++]=J%1e14);for(Y=st[--Q],D%=_e,Y&&D&&(J=Jo[_e-D],st[Q]=Rn(Y/J)*J);st[Q]===0;st.pop(),Q--);if(Q<0)st=[F=0];else{for(F=-1;st[0]===0;st.splice(0,1),F-=_e);for(Q=1,J=st[0];J>=10;J/=10,Q++);Q<_e&&(F-=_e-Q)}return ot.e=F,ot.c=st,ot}}(),G.sum=function(){for(var M=1,T=arguments,D=new G(T[0]);M<T.length;)D=D.plus(T[M++]);return D},c=function(){var M="0123456789";function T(D,R,I,F){for(var Y,J=[0],Q,st=0,ot=D.length;st<ot;){for(Q=J.length;Q--;J[Q]*=R);for(J[0]+=F.indexOf(D.charAt(st++)),Y=0;Y<J.length;Y++)J[Y]>I-1&&(J[Y+1]==null&&(J[Y+1]=0),J[Y+1]+=J[Y]/I|0,J[Y]%=I)}return J.reverse()}return function(D,R,I,F,Y){var J,Q,st,ot,Lt,Xt,ne,ue,Ve=D.indexOf("."),qe=x,Ie=k;for(Ve>=0&&(ot=St,St=0,D=D.replace(".",""),ue=new G(R),Xt=ue.pow(D.length-Ve),St=ot,ue.c=T(p($n(Xt.c),Xt.e,"0"),10,I,M),ue.e=ue.c.length),ne=T(D,R,I,Y?(J=te,M):(J=M,te)),st=ot=ne.length;ne[--ot]==0;ne.pop());if(!ne[0])return J.charAt(0);if(Ve<0?--st:(Xt.c=ne,Xt.e=st,Xt.s=F,Xt=a(Xt,ue,qe,Ie,I),ne=Xt.c,Lt=Xt.r,st=Xt.e),Q=st+qe+1,Ve=ne[Q],ot=I/2,Lt=Lt||Q<0||ne[Q+1]!=null,Lt=Ie<4?(Ve!=null||Lt)&&(Ie==0||Ie==(Xt.s<0?3:2)):Ve>ot||Ve==ot&&(Ie==4||Lt||Ie==6&&ne[Q-1]&1||Ie==(Xt.s<0?8:7)),Q<1||!ne[0])D=Lt?p(J.charAt(1),-qe,J.charAt(0)):J.charAt(0);else{if(ne.length=Q,Lt)for(--I;++ne[--Q]>I;)ne[Q]=0,Q||(++st,ne=[1].concat(ne));for(ot=ne.length;!ne[--ot];);for(Ve=0,D="";Ve<=ot;D+=J.charAt(ne[Ve++]));D=p(D,st,J.charAt(0))}return D}}(),a=function(){function M(R,I,F){var Y,J,Q,st,ot=0,Lt=R.length,Xt=I%Oi,ne=I/Oi|0;for(R=R.slice();Lt--;)Q=R[Lt]%Oi,st=R[Lt]/Oi|0,Y=ne*Q+st*Xt,J=Xt*Q+Y%Oi*Oi+ot,ot=(J/F|0)+(Y/Oi|0)+ne*st,R[Lt]=J%F;return ot&&(R=[ot].concat(R)),R}function T(R,I,F,Y){var J,Q;if(F!=Y)Q=F>Y?1:-1;else for(J=Q=0;J<F;J++)if(R[J]!=I[J]){Q=R[J]>I[J]?1:-1;break}return Q}function D(R,I,F,Y){for(var J=0;F--;)R[F]-=J,J=R[F]<I[F]?1:0,R[F]=J*Y+R[F]-I[F];for(;!R[0]&&R.length>1;R.splice(0,1));}return function(R,I,F,Y,J){var Q,st,ot,Lt,Xt,ne,ue,Ve,qe,Ie,Ke,zn,Vl,Fc,jc,$i,sa,bi=R.s==I.s?1:-1,Zn=R.c,cn=I.c;if(!Zn||!Zn[0]||!cn||!cn[0])return new G(!R.s||!I.s||(Zn?cn&&Zn[0]==cn[0]:!cn)?NaN:Zn&&Zn[0]==0||!cn?bi*0:bi/0);for(Ve=new G(bi),qe=Ve.c=[],st=R.e-I.e,bi=F+st+1,J||(J=ti,st=ei(R.e/_e)-ei(I.e/_e),bi=bi/_e|0),ot=0;cn[ot]==(Zn[ot]||0);ot++);if(cn[ot]>(Zn[ot]||0)&&st--,bi<0)qe.push(1),Lt=!0;else{for(Fc=Zn.length,$i=cn.length,ot=0,bi+=2,Xt=Rn(J/(cn[0]+1)),Xt>1&&(cn=M(cn,Xt,J),Zn=M(Zn,Xt,J),$i=cn.length,Fc=Zn.length),Vl=$i,Ie=Zn.slice(0,$i),Ke=Ie.length;Ke<$i;Ie[Ke++]=0);sa=cn.slice(),sa=[0].concat(sa),jc=cn[0],cn[1]>=J/2&&jc++;do{if(Xt=0,Q=T(cn,Ie,$i,Ke),Q<0){if(zn=Ie[0],$i!=Ke&&(zn=zn*J+(Ie[1]||0)),Xt=Rn(zn/jc),Xt>1)for(Xt>=J&&(Xt=J-1),ne=M(cn,Xt,J),ue=ne.length,Ke=Ie.length;T(ne,Ie,ue,Ke)==1;)Xt--,D(ne,$i<ue?sa:cn,ue,J),ue=ne.length,Q=1;else Xt==0&&(Q=Xt=1),ne=cn.slice(),ue=ne.length;if(ue<Ke&&(ne=[0].concat(ne)),D(Ie,ne,Ke,J),Ke=Ie.length,Q==-1)for(;T(cn,Ie,$i,Ke)<1;)Xt++,D(Ie,$i<Ke?sa:cn,Ke,J),Ke=Ie.length}else Q===0&&(Xt++,Ie=[0]);qe[ot++]=Xt,Ie[0]?Ie[Ke++]=Zn[Vl]||0:(Ie=[Zn[Vl]],Ke=1)}while((Vl++<Fc||Ie[0]!=null)&&bi--);Lt=Ie[0]!=null,qe[0]||qe.splice(0,1)}if(J==ti){for(ot=1,bi=qe[0];bi>=10;bi/=10,ot++);it(Ve,F+(Ve.e=ot+st*_e-1)+1,Y,Lt)}else Ve.e=st,Ve.r=+Lt;return Ve}}();function W(M,T,D,R){var I,F,Y,J,Q;if(D==null?D=k:tn(D,0,8),!M.c)return M.toString();if(I=M.c[0],Y=M.e,T==null)Q=$n(M.c),Q=R==1||R==2&&(Y<=E||Y>=S)?l(Q,Y):p(Q,Y,"0");else if(M=it(new G(M),T,D),F=M.e,Q=$n(M.c),J=Q.length,R==1||R==2&&(T<=F||F<=E)){for(;J<T;Q+="0",J++);Q=l(Q,F)}else if(T-=Y,Q=p(Q,F,"0"),F+1>J){if(--T>0)for(Q+=".";T--;Q+="0");}else if(T+=F-J,T>0)for(F+1==J&&(Q+=".");T--;Q+="0");return M.s<0&&I?"-"+Q:Q}function tt(M,T){for(var D,R,I=1,F=new G(M[0]);I<M.length;I++)R=new G(M[I]),(!R.s||(D=Gi(F,R))===T||D===0&&F.s===T)&&(F=R);return F}function pt(M,T,D){for(var R=1,I=T.length;!T[--I];T.pop());for(I=T[0];I>=10;I/=10,R++);return(D=R+D*_e-1)>N?M.c=M.e=null:D<H?M.c=[M.e=0]:(M.e=D,M.c=T),M}d=function(){var M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,D=/^\.([^.]+)$/,R=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(F,Y,J,Q){var st,ot=J?Y:Y.replace(I,"");if(R.test(ot))F.s=isNaN(ot)?null:ot<0?-1:1;else{if(!J&&(ot=ot.replace(M,function(Lt,Xt,ne){return st=(ne=ne.toLowerCase())=="x"?16:ne=="b"?2:8,!Q||Q==st?Xt:Lt}),Q&&(st=Q,ot=ot.replace(T,"$1").replace(D,"0.$1")),Y!=ot))return new G(ot,st);if(G.DEBUG)throw Error(gn+"Not a"+(Q?" base "+Q:"")+" number: "+Y);F.s=null}F.c=F.e=null}}();function it(M,T,D,R){var I,F,Y,J,Q,st,ot,Lt=M.c,Xt=Jo;if(Lt){t:{for(I=1,J=Lt[0];J>=10;J/=10,I++);if(F=T-I,F<0)F+=_e,Y=T,Q=Lt[st=0],ot=Rn(Q/Xt[I-Y-1]%10);else if(st=ea((F+1)/_e),st>=Lt.length)if(R){for(;Lt.length<=st;Lt.push(0));Q=ot=0,I=1,F%=_e,Y=F-_e+1}else break t;else{for(Q=J=Lt[st],I=1;J>=10;J/=10,I++);F%=_e,Y=F-_e+I,ot=Y<0?0:Rn(Q/Xt[I-Y-1]%10)}if(R=R||T<0||Lt[st+1]!=null||(Y<0?Q:Q%Xt[I-Y-1]),R=D<4?(ot||R)&&(D==0||D==(M.s<0?3:2)):ot>5||ot==5&&(D==4||R||D==6&&(F>0?Y>0?Q/Xt[I-Y]:0:Lt[st-1])%10&1||D==(M.s<0?8:7)),T<1||!Lt[0])return Lt.length=0,R?(T-=M.e+1,Lt[0]=Xt[(_e-T%_e)%_e],M.e=-T||0):Lt[0]=M.e=0,M;if(F==0?(Lt.length=st,J=1,st--):(Lt.length=st+1,J=Xt[_e-F],Lt[st]=Y>0?Rn(Q/Xt[I-Y]%Xt[Y])*J:0),R)for(;;)if(st==0){for(F=1,Y=Lt[0];Y>=10;Y/=10,F++);for(Y=Lt[0]+=J,J=1;Y>=10;Y/=10,J++);F!=J&&(M.e++,Lt[0]==ti&&(Lt[0]=1));break}else{if(Lt[st]+=J,Lt[st]!=ti)break;Lt[st--]=0,J=1}for(F=Lt.length;Lt[--F]===0;Lt.pop());}M.e>N?M.c=M.e=null:M.e<H&&(M.c=[M.e=0])}return M}function ut(M){var T,D=M.e;return D===null?M.toString():(T=$n(M.c),T=D<=E||D>=S?l(T,D):p(T,D,"0"),M.s<0?"-"+T:T)}return m.absoluteValue=m.abs=function(){var M=new G(this);return M.s<0&&(M.s=1),M},m.comparedTo=function(M,T){return Gi(this,new G(M,T))},m.decimalPlaces=m.dp=function(M,T){var D,R,I,F=this;if(M!=null)return tn(M,0,pn),T==null?T=k:tn(T,0,8),it(new G(F),M+F.e+1,T);if(!(D=F.c))return null;if(R=((I=D.length-1)-ei(this.e/_e))*_e,I=D[I])for(;I%10==0;I/=10,R--);return R<0&&(R=0),R},m.dividedBy=m.div=function(M,T){return a(this,new G(M,T),x,k)},m.dividedToIntegerBy=m.idiv=function(M,T){return a(this,new G(M,T),0,1)},m.exponentiatedBy=m.pow=function(M,T){var D,R,I,F,Y,J,Q,st,ot,Lt=this;if(M=new G(M),M.c&&!M.isInteger())throw Error(gn+"Exponent not an integer: "+ut(M));if(T!=null&&(T=new G(T)),J=M.e>14,!Lt.c||!Lt.c[0]||Lt.c[0]==1&&!Lt.e&&Lt.c.length==1||!M.c||!M.c[0])return ot=new G(Math.pow(+ut(Lt),J?M.s*(2-n(M)):+ut(M))),T?ot.mod(T):ot;if(Q=M.s<0,T){if(T.c?!T.c[0]:!T.s)return new G(NaN);R=!Q&&Lt.isInteger()&&T.isInteger(),R&&(Lt=Lt.mod(T))}else{if(M.e>9&&(Lt.e>0||Lt.e<-1||(Lt.e==0?Lt.c[0]>1||J&&Lt.c[1]>=24e7:Lt.c[0]<8e13||J&&Lt.c[0]<=9999975e7)))return F=Lt.s<0&&n(M)?-0:0,Lt.e>-1&&(F=1/F),new G(Q?1/F:F);St&&(F=ea(St/_e+2))}for(J?(D=new G(.5),Q&&(M.s=1),st=n(M)):(I=Math.abs(+ut(M)),st=I%2),ot=new G(g);;){if(st){if(ot=ot.times(Lt),!ot.c)break;F?ot.c.length>F&&(ot.c.length=F):R&&(ot=ot.mod(T))}if(I){if(I=Rn(I/2),I===0)break;st=I%2}else if(M=M.times(D),it(M,M.e+1,1),M.e>14)st=n(M);else{if(I=+ut(M),I===0)break;st=I%2}Lt=Lt.times(Lt),F?Lt.c&&Lt.c.length>F&&(Lt.c.length=F):R&&(Lt=Lt.mod(T))}return R?ot:(Q&&(ot=g.div(ot)),T?ot.mod(T):F?it(ot,St,k,Y):ot)},m.integerValue=function(M){var T=new G(this);return M==null?M=k:tn(M,0,8),it(T,T.e+1,M)},m.isEqualTo=m.eq=function(M,T){return Gi(this,new G(M,T))===0},m.isFinite=function(){return!!this.c},m.isGreaterThan=m.gt=function(M,T){return Gi(this,new G(M,T))>0},m.isGreaterThanOrEqualTo=m.gte=function(M,T){return(T=Gi(this,new G(M,T)))===1||T===0},m.isInteger=function(){return!!this.c&&ei(this.e/_e)>this.c.length-2},m.isLessThan=m.lt=function(M,T){return Gi(this,new G(M,T))<0},m.isLessThanOrEqualTo=m.lte=function(M,T){return(T=Gi(this,new G(M,T)))===-1||T===0},m.isNaN=function(){return!this.s},m.isNegative=function(){return this.s<0},m.isPositive=function(){return this.s>0},m.isZero=function(){return!!this.c&&this.c[0]==0},m.minus=function(M,T){var D,R,I,F,Y=this,J=Y.s;if(M=new G(M,T),T=M.s,!J||!T)return new G(NaN);if(J!=T)return M.s=-T,Y.plus(M);var Q=Y.e/_e,st=M.e/_e,ot=Y.c,Lt=M.c;if(!Q||!st){if(!ot||!Lt)return ot?(M.s=-T,M):new G(Lt?Y:NaN);if(!ot[0]||!Lt[0])return Lt[0]?(M.s=-T,M):new G(ot[0]?Y:k==3?-0:0)}if(Q=ei(Q),st=ei(st),ot=ot.slice(),J=Q-st){for((F=J<0)?(J=-J,I=ot):(st=Q,I=Lt),I.reverse(),T=J;T--;I.push(0));I.reverse()}else for(R=(F=(J=ot.length)<(T=Lt.length))?J:T,J=T=0;T<R;T++)if(ot[T]!=Lt[T]){F=ot[T]<Lt[T];break}if(F&&(I=ot,ot=Lt,Lt=I,M.s=-M.s),T=(R=Lt.length)-(D=ot.length),T>0)for(;T--;ot[D++]=0);for(T=ti-1;R>J;){if(ot[--R]<Lt[R]){for(D=R;D&&!ot[--D];ot[D]=T);--ot[D],ot[R]+=ti}ot[R]-=Lt[R]}for(;ot[0]==0;ot.splice(0,1),--st);return ot[0]?pt(M,ot,st):(M.s=k==3?-1:1,M.c=[M.e=0],M)},m.modulo=m.mod=function(M,T){var D,R,I=this;return M=new G(M,T),!I.c||!M.s||M.c&&!M.c[0]?new G(NaN):!M.c||I.c&&!I.c[0]?new G(I):(ft==9?(R=M.s,M.s=1,D=a(I,M,0,3),M.s=R,D.s*=R):D=a(I,M,0,ft),M=I.minus(D.times(M)),!M.c[0]&&ft==1&&(M.s=I.s),M)},m.multipliedBy=m.times=function(M,T){var D,R,I,F,Y,J,Q,st,ot,Lt,Xt,ne,ue,Ve,qe,Ie=this,Ke=Ie.c,zn=(M=new G(M,T)).c;if(!Ke||!zn||!Ke[0]||!zn[0])return!Ie.s||!M.s||Ke&&!Ke[0]&&!zn||zn&&!zn[0]&&!Ke?M.c=M.e=M.s=null:(M.s*=Ie.s,!Ke||!zn?M.c=M.e=null:(M.c=[0],M.e=0)),M;for(R=ei(Ie.e/_e)+ei(M.e/_e),M.s*=Ie.s,Q=Ke.length,Lt=zn.length,Q<Lt&&(ue=Ke,Ke=zn,zn=ue,I=Q,Q=Lt,Lt=I),I=Q+Lt,ue=[];I--;ue.push(0));for(Ve=ti,qe=Oi,I=Lt;--I>=0;){for(D=0,Xt=zn[I]%qe,ne=zn[I]/qe|0,Y=Q,F=I+Y;F>I;)st=Ke[--Y]%qe,ot=Ke[Y]/qe|0,J=ne*st+ot*Xt,st=Xt*st+J%qe*qe+ue[F]+D,D=(st/Ve|0)+(J/qe|0)+ne*ot,ue[F--]=st%Ve;ue[F]=D}return D?++R:ue.splice(0,1),pt(M,ue,R)},m.negated=function(){var M=new G(this);return M.s=-M.s||null,M},m.plus=function(M,T){var D,R=this,I=R.s;if(M=new G(M,T),T=M.s,!I||!T)return new G(NaN);if(I!=T)return M.s=-T,R.minus(M);var F=R.e/_e,Y=M.e/_e,J=R.c,Q=M.c;if(!F||!Y){if(!J||!Q)return new G(I/0);if(!J[0]||!Q[0])return Q[0]?M:new G(J[0]?R:I*0)}if(F=ei(F),Y=ei(Y),J=J.slice(),I=F-Y){for(I>0?(Y=F,D=Q):(I=-I,D=J),D.reverse();I--;D.push(0));D.reverse()}for(I=J.length,T=Q.length,I-T<0&&(D=Q,Q=J,J=D,T=I),I=0;T;)I=(J[--T]=J[T]+Q[T]+I)/ti|0,J[T]=ti===J[T]?0:J[T]%ti;return I&&(J=[I].concat(J),++Y),pt(M,J,Y)},m.precision=m.sd=function(M,T){var D,R,I,F=this;if(M!=null&&M!==!!M)return tn(M,1,pn),T==null?T=k:tn(T,0,8),it(new G(F),M,T);if(!(D=F.c))return null;if(I=D.length-1,R=I*_e+1,I=D[I]){for(;I%10==0;I/=10,R--);for(I=D[0];I>=10;I/=10,R++);}return M&&F.e+1>R&&(R=F.e+1),R},m.shiftedBy=function(M){return tn(M,-Wo,Wo),this.times("1e"+M)},m.squareRoot=m.sqrt=function(){var M,T,D,R,I,F=this,Y=F.c,J=F.s,Q=F.e,st=x+4,ot=new G("0.5");if(J!==1||!Y||!Y[0])return new G(!J||J<0&&(!Y||Y[0])?NaN:Y?F:1/0);if(J=Math.sqrt(+ut(F)),J==0||J==1/0?(T=$n(Y),(T.length+Q)%2==0&&(T+="0"),J=Math.sqrt(+T),Q=ei((Q+1)/2)-(Q<0||Q%2),J==1/0?T="5e"+Q:(T=J.toExponential(),T=T.slice(0,T.indexOf("e")+1)+Q),D=new G(T)):D=new G(J+""),D.c[0]){for(Q=D.e,J=Q+st,J<3&&(J=0);;)if(I=D,D=ot.times(I.plus(a(F,I,st,1))),$n(I.c).slice(0,J)===(T=$n(D.c)).slice(0,J))if(D.e<Q&&--J,T=T.slice(J-3,J+1),T=="9999"||!R&&T=="4999"){if(!R&&(it(I,I.e+x+2,0),I.times(I).eq(F))){D=I;break}st+=4,J+=4,R=1}else{(!+T||!+T.slice(1)&&T.charAt(0)=="5")&&(it(D,D.e+x+2,1),M=!D.times(D).eq(F));break}}return it(D,D.e+x+1,k,M)},m.toExponential=function(M,T){return M!=null&&(tn(M,0,pn),M++),W(this,M,T,1)},m.toFixed=function(M,T){return M!=null&&(tn(M,0,pn),M=M+this.e+1),W(this,M,T)},m.toFormat=function(M,T,D){var R,I=this;if(D==null)M!=null&&T&&typeof T=="object"?(D=T,T=null):M&&typeof M=="object"?(D=M,M=T=null):D=qt;else if(typeof D!="object")throw Error(gn+"Argument not an object: "+D);if(R=I.toFixed(M,T),I.c){var F,Y=R.split("."),J=+D.groupSize,Q=+D.secondaryGroupSize,st=D.groupSeparator||"",ot=Y[0],Lt=Y[1],Xt=I.s<0,ne=Xt?ot.slice(1):ot,ue=ne.length;if(Q&&(F=J,J=Q,Q=F,ue-=F),J>0&&ue>0){for(F=ue%J||J,ot=ne.substr(0,F);F<ue;F+=J)ot+=st+ne.substr(F,J);Q>0&&(ot+=st+ne.slice(F)),Xt&&(ot="-"+ot)}R=Lt?ot+(D.decimalSeparator||"")+((Q=+D.fractionGroupSize)?Lt.replace(new RegExp("\\d{"+Q+"}\\B","g"),"$&"+(D.fractionGroupSeparator||"")):Lt):ot}return(D.prefix||"")+R+(D.suffix||"")},m.toFraction=function(M){var T,D,R,I,F,Y,J,Q,st,ot,Lt,Xt,ne=this,ue=ne.c;if(M!=null&&(J=new G(M),!J.isInteger()&&(J.c||J.s!==1)||J.lt(g)))throw Error(gn+"Argument "+(J.isInteger()?"out of range: ":"not an integer: ")+ut(J));if(!ue)return new G(ne);for(T=new G(g),st=D=new G(g),R=Q=new G(g),Xt=$n(ue),F=T.e=Xt.length-ne.e-1,T.c[0]=Jo[(Y=F%_e)<0?_e+Y:Y],M=!M||J.comparedTo(T)>0?F>0?T:st:J,Y=N,N=1/0,J=new G(Xt),Q.c[0]=0;ot=a(J,T,0,1),I=D.plus(ot.times(R)),I.comparedTo(M)!=1;)D=R,R=I,st=Q.plus(ot.times(I=st)),Q=I,T=J.minus(ot.times(I=T)),J=I;return I=a(M.minus(D),R,0,1),Q=Q.plus(I.times(st)),D=D.plus(I.times(R)),Q.s=st.s=ne.s,F=F*2,Lt=a(st,R,F,k).minus(ne).abs().comparedTo(a(Q,D,F,k).minus(ne).abs())<1?[st,R]:[Q,D],N=Y,Lt},m.toNumber=function(){return+ut(this)},m.toPrecision=function(M,T){return M!=null&&tn(M,1,pn),W(this,M,T,2)},m.toString=function(M){var T,D=this,R=D.s,I=D.e;return I===null?R?(T="Infinity",R<0&&(T="-"+T)):T="NaN":(M==null?T=I<=E||I>=S?l($n(D.c),I):p($n(D.c),I,"0"):M===10&&Ae?(D=it(new G(D),x+I+1,k),T=p($n(D.c),D.e,"0")):(tn(M,2,te.length,"Base"),T=c(p($n(D.c),I,"0"),10,M,R,!0)),R<0&&D.c[0]&&(T="-"+T)),T},m.valueOf=m.toJSON=function(){return ut(this)},m._isBigNumber=!0,m[Symbol.toStringTag]="BigNumber",m[Symbol.for("nodejs.util.inspect.custom")]=m.valueOf,r!=null&&G.set(r),G}function ei(r){var a=r|0;return r>0||r===a?a:a-1}function $n(r){for(var a,c,d=1,m=r.length,g=r[0]+"";d<m;){for(a=r[d++]+"",c=_e-a.length;c--;a="0"+a);g+=a}for(m=g.length;g.charCodeAt(--m)===48;);return g.slice(0,m+1||1)}function Gi(r,a){var c,d,m=r.c,g=a.c,x=r.s,k=a.s,E=r.e,S=a.e;if(!x||!k)return null;if(c=m&&!m[0],d=g&&!g[0],c||d)return c?d?0:-k:x;if(x!=k)return x;if(c=x<0,d=E==S,!m||!g)return d?0:!m^c?1:-1;if(!d)return E>S^c?1:-1;for(k=(E=m.length)<(S=g.length)?E:S,x=0;x<k;x++)if(m[x]!=g[x])return m[x]>g[x]^c?1:-1;return E==S?0:E>S^c?1:-1}function tn(r,a,c,d){if(r<a||r>c||r!==Rn(r))throw Error(gn+(d||"Argument")+(typeof r=="number"?r<a||r>c?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function n(r){var a=r.c.length-1;return ei(r.e/_e)==a&&r.c[a]%2!=0}function l(r,a){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(a<0?"e":"e+")+a}function p(r,a,c){var d,m;if(a<0){for(m=c+".";++a;m+=c);r=m+r}else if(d=r.length,++a>d){for(m=c,a-=d;--a;m+=c);r+=m}else a<d&&(r=r.slice(0,a)+"."+r.slice(a));return r}var y=ia(),C=y,B=class{constructor(r){le(this,"key");le(this,"left",null);le(this,"right",null);this.key=r}},K=class extends B{constructor(r){super(r)}},lt=class{constructor(){le(this,"size",0);le(this,"modificationCount",0);le(this,"splayCount",0)}splay(r){let a=this.root;if(a==null)return this.compare(r,r),-1;let c=null,d=null,m=null,g=null,x=a,k=this.compare,E;for(;;)if(E=k(x.key,r),E>0){let S=x.left;if(S==null||(E=k(S.key,r),E>0&&(x.left=S.right,S.right=x,x=S,S=x.left,S==null)))break;c==null?d=x:c.left=x,c=x,x=S}else if(E<0){let S=x.right;if(S==null||(E=k(S.key,r),E<0&&(x.right=S.left,S.left=x,x=S,S=x.right,S==null)))break;m==null?g=x:m.right=x,m=x,x=S}else break;return m!=null&&(m.right=x.left,x.left=g),c!=null&&(c.left=x.right,x.right=d),this.root!==x&&(this.root=x,this.splayCount++),E}splayMin(r){let a=r,c=a.left;for(;c!=null;){let d=c;a.left=d.right,d.right=a,a=d,c=a.left}return a}splayMax(r){let a=r,c=a.right;for(;c!=null;){let d=c;a.right=d.left,d.left=a,a=d,c=a.right}return a}_delete(r){if(this.root==null||this.splay(r)!=0)return null;let a=this.root,c=a,d=a.left;if(this.size--,d==null)this.root=a.right;else{let m=a.right;a=this.splayMax(d),a.right=m,this.root=a}return this.modificationCount++,c}addNewRoot(r,a){this.size++,this.modificationCount++;let c=this.root;if(c==null){this.root=r;return}a<0?(r.left=c,r.right=c.right,c.right=null):(r.right=c,r.left=c.left,c.left=null),this.root=r}_first(){let r=this.root;return r==null?null:(this.root=this.splayMin(r),this.root)}_last(){let r=this.root;return r==null?null:(this.root=this.splayMax(r),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(r){return this.validKey(r)&&this.splay(r)==0}defaultCompare(){return(r,a)=>r<a?-1:r>a?1:0}wrap(){return{getRoot:()=>this.root,setRoot:r=>{this.root=r},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:r=>{this.splayCount=r},splay:r=>this.splay(r),has:r=>this.has(r)}}},mt=class ma extends lt{constructor(c,d){super();le(this,"root",null);le(this,"compare");le(this,"validKey");le(this,jd,"[object Set]");this.compare=c??this.defaultCompare(),this.validKey=d??(m=>m!=null&&m!=null)}delete(c){return this.validKey(c)?this._delete(c)!=null:!1}deleteAll(c){for(let d of c)this.delete(d)}forEach(c){let d=this[Symbol.iterator](),m;for(;m=d.next(),!m.done;)c(m.value,m.value,this)}add(c){let d=this.splay(c);return d!=0&&this.addNewRoot(new K(c),d),this}addAndReturn(c){let d=this.splay(c);return d!=0&&this.addNewRoot(new K(c),d),this.root.key}addAll(c){for(let d of c)this.add(d)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(c){if(c==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(c)<0)return this.root.key;let d=this.root.left;if(d==null)return null;let m=d.right;for(;m!=null;)d=m,m=d.right;return d.key}firstAfter(c){if(c==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(c)>0)return this.root.key;let d=this.root.right;if(d==null)return null;let m=d.left;for(;m!=null;)d=m,m=d.left;return d.key}retainAll(c){let d=new ma(this.compare,this.validKey),m=this.modificationCount;for(let g of c){if(m!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(g)&&this.splay(g)==0&&d.add(this.root.key)}d.size!=this.size&&(this.root=d.root,this.size=d.size,this.modificationCount++)}lookup(c){return!this.validKey(c)||this.splay(c)!=0?null:this.root.key}intersection(c){let d=new ma(this.compare,this.validKey);for(let m of this)c.has(m)&&d.add(m);return d}difference(c){let d=new ma(this.compare,this.validKey);for(let m of this)c.has(m)||d.add(m);return d}union(c){let d=this.clone();return d.addAll(c),d}clone(){let c=new ma(this.compare,this.validKey);return c.size=this.size,c.root=this.copyNode(this.root),c}copyNode(c){if(c==null)return null;function d(g,x){let k,E;do{if(k=g.left,E=g.right,k!=null){let S=new K(k.key);x.left=S,d(k,S)}if(E!=null){let S=new K(E.key);x.right=S,g=E,x=S}}while(E!=null)}let m=new K(c.key);return d(c,m),m}toSet(){return this.clone()}entries(){return new pe(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[(Nd=Symbol.iterator,jd=Symbol.toStringTag,Nd)](){return new Wt(this.wrap())}},kt=class{constructor(r){le(this,"tree");le(this,"path",new Array);le(this,"modificationCount",null);le(this,"splayCount");this.tree=r,this.splayCount=r.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let r=this.path[this.path.length-1];return this.getValue(r)}rebuildPath(r){this.path.splice(0,this.path.length),this.tree.splay(r),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(r){for(;r!=null;)this.path.push(r),r=r.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let c=this.tree.getRoot();for(;c!=null;)this.path.push(c),c=c.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let r=this.path[this.path.length-1],a=r.right;if(a!=null){for(;a!=null;)this.path.push(a),a=a.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===r;)r=this.path.pop();return this.path.length>0}},Wt=class extends kt{getValue(r){return r.key}},pe=class extends kt{getValue(r){return[r.key,r.key]}},ke=r=>r,Dn=r=>{if(r){let a=new mt(Ko(r)),c=new mt(Ko(r)),d=(g,x)=>x.addAndReturn(g),m=g=>({x:d(g.x,a),y:d(g.y,c)});return m({x:new C(0),y:new C(0)}),m}return ke},ln=r=>({set:a=>{un=ln(a)},reset:()=>ln(r),compare:Ko(r),snap:Dn(r),orient:Al(r)}),un=ln(),yn=(r,a)=>r.ll.x.isLessThanOrEqualTo(a.x)&&a.x.isLessThanOrEqualTo(r.ur.x)&&r.ll.y.isLessThanOrEqualTo(a.y)&&a.y.isLessThanOrEqualTo(r.ur.y),Hi=(r,a)=>{if(a.ur.x.isLessThan(r.ll.x)||r.ur.x.isLessThan(a.ll.x)||a.ur.y.isLessThan(r.ll.y)||r.ur.y.isLessThan(a.ll.y))return null;let c=r.ll.x.isLessThan(a.ll.x)?a.ll.x:r.ll.x,d=r.ur.x.isLessThan(a.ur.x)?r.ur.x:a.ur.x,m=r.ll.y.isLessThan(a.ll.y)?a.ll.y:r.ll.y,g=r.ur.y.isLessThan(a.ur.y)?r.ur.y:a.ur.y;return{ll:{x:c,y:m},ur:{x:d,y:g}}},Yo=(r,a)=>r.x.times(a.y).minus(r.y.times(a.x)),Ol=(r,a)=>r.x.times(a.x).plus(r.y.times(a.y)),Xo=r=>Ol(r,r).sqrt(),Rl=(r,a,c)=>{let d={x:a.x.minus(r.x),y:a.y.minus(r.y)},m={x:c.x.minus(r.x),y:c.y.minus(r.y)};return Yo(m,d).div(Xo(m)).div(Xo(d))},Rc=(r,a,c)=>{let d={x:a.x.minus(r.x),y:a.y.minus(r.y)},m={x:c.x.minus(r.x),y:c.y.minus(r.y)};return Ol(m,d).div(Xo(m)).div(Xo(d))},ra=(r,a,c)=>a.y.isZero()?null:{x:r.x.plus(a.x.div(a.y).times(c.minus(r.y))),y:c},on=(r,a,c)=>a.x.isZero()?null:{x:c,y:r.y.plus(a.y.div(a.x).times(c.minus(r.x)))},Qo=(r,a,c,d)=>{if(a.x.isZero())return on(c,d,r.x);if(d.x.isZero())return on(r,a,c.x);if(a.y.isZero())return ra(c,d,r.y);if(d.y.isZero())return ra(r,a,c.y);let m=Yo(a,d);if(m.isZero())return null;let g={x:c.x.minus(r.x),y:c.y.minus(r.y)},x=Yo(g,a).div(m),k=Yo(g,d).div(m),E=r.x.plus(k.times(a.x)),S=c.x.plus(x.times(d.x)),H=r.y.plus(k.times(a.y)),N=c.y.plus(x.times(d.y)),at=E.plus(S).div(2),ft=H.plus(N).div(2);return{x:at,y:ft}},vi=class Fg{constructor(a,c){le(this,"point");le(this,"isLeft");le(this,"segment");le(this,"otherSE");le(this,"consumedBy");a.events===void 0?a.events=[this]:a.events.push(this),this.point=a,this.isLeft=c}static compare(a,c){let d=Fg.comparePoints(a.point,c.point);return d!==0?d:(a.point!==c.point&&a.link(c),a.isLeft!==c.isLeft?a.isLeft?1:-1:ts.compare(a.segment,c.segment))}static comparePoints(a,c){return a.x.isLessThan(c.x)?-1:a.x.isGreaterThan(c.x)?1:a.y.isLessThan(c.y)?-1:a.y.isGreaterThan(c.y)?1:0}link(a){if(a.point===this.point)throw new Error("Tried to link already linked events");let c=a.point.events;for(let d=0,m=c.length;d<m;d++){let g=c[d];this.point.events.push(g),g.point=this.point}this.checkForConsuming()}checkForConsuming(){let a=this.point.events.length;for(let c=0;c<a;c++){let d=this.point.events[c];if(d.segment.consumedBy===void 0)for(let m=c+1;m<a;m++){let g=this.point.events[m];g.consumedBy===void 0&&d.otherSE.point.events===g.otherSE.point.events&&d.segment.consume(g.segment)}}}getAvailableLinkedEvents(){let a=[];for(let c=0,d=this.point.events.length;c<d;c++){let m=this.point.events[c];m!==this&&!m.segment.ringOut&&m.segment.isInResult()&&a.push(m)}return a}getLeftmostComparator(a){let c=new Map,d=m=>{let g=m.otherSE;c.set(m,{sine:Rl(this.point,a.point,g.point),cosine:Rc(this.point,a.point,g.point)})};return(m,g)=>{c.has(m)||d(m),c.has(g)||d(g);let{sine:x,cosine:k}=c.get(m),{sine:E,cosine:S}=c.get(g);return x.isGreaterThanOrEqualTo(0)&&E.isGreaterThanOrEqualTo(0)?k.isLessThan(S)?1:k.isGreaterThan(S)?-1:0:x.isLessThan(0)&&E.isLessThan(0)?k.isLessThan(S)?-1:k.isGreaterThan(S)?1:0:E.isLessThan(x)?-1:E.isGreaterThan(x)?1:0}}},Dc=0,ts=class su{constructor(a,c,d,m){le(this,"id");le(this,"leftSE");le(this,"rightSE");le(this,"rings");le(this,"windings");le(this,"ringOut");le(this,"consumedBy");le(this,"prev");le(this,"_prevInResult");le(this,"_beforeState");le(this,"_afterState");le(this,"_isInResult");this.id=++Dc,this.leftSE=a,a.segment=this,a.otherSE=c,this.rightSE=c,c.segment=this,c.otherSE=a,this.rings=d,this.windings=m}static compare(a,c){let d=a.leftSE.point.x,m=c.leftSE.point.x,g=a.rightSE.point.x,x=c.rightSE.point.x;if(x.isLessThan(d))return 1;if(g.isLessThan(m))return-1;let k=a.leftSE.point.y,E=c.leftSE.point.y,S=a.rightSE.point.y,H=c.rightSE.point.y;if(d.isLessThan(m)){if(E.isLessThan(k)&&E.isLessThan(S))return 1;if(E.isGreaterThan(k)&&E.isGreaterThan(S))return-1;let N=a.comparePoint(c.leftSE.point);if(N<0)return 1;if(N>0)return-1;let at=c.comparePoint(a.rightSE.point);return at!==0?at:-1}if(d.isGreaterThan(m)){if(k.isLessThan(E)&&k.isLessThan(H))return-1;if(k.isGreaterThan(E)&&k.isGreaterThan(H))return 1;let N=c.comparePoint(a.leftSE.point);if(N!==0)return N;let at=a.comparePoint(c.rightSE.point);return at<0?1:at>0?-1:1}if(k.isLessThan(E))return-1;if(k.isGreaterThan(E))return 1;if(g.isLessThan(x)){let N=c.comparePoint(a.rightSE.point);if(N!==0)return N}if(g.isGreaterThan(x)){let N=a.comparePoint(c.rightSE.point);if(N<0)return 1;if(N>0)return-1}if(!g.eq(x)){let N=S.minus(k),at=g.minus(d),ft=H.minus(E),St=x.minus(m);if(N.isGreaterThan(at)&&ft.isLessThan(St))return 1;if(N.isLessThan(at)&&ft.isGreaterThan(St))return-1}return g.isGreaterThan(x)?1:g.isLessThan(x)||S.isLessThan(H)?-1:S.isGreaterThan(H)?1:a.id<c.id?-1:a.id>c.id?1:0}static fromRing(a,c,d){let m,g,x,k=vi.comparePoints(a,c);if(k<0)m=a,g=c,x=1;else if(k>0)m=c,g=a,x=-1;else throw new Error(`Tried to create degenerate segment at [${a.x}, ${a.y}]`);let E=new vi(m,!0),S=new vi(g,!1);return new su(E,S,[d],[x])}replaceRightSE(a){this.rightSE=a,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let a=this.leftSE.point.y,c=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:a.isLessThan(c)?a:c},ur:{x:this.rightSE.point.x,y:a.isGreaterThan(c)?a:c}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(a){return a.x.eq(this.leftSE.point.x)&&a.y.eq(this.leftSE.point.y)||a.x.eq(this.rightSE.point.x)&&a.y.eq(this.rightSE.point.y)}comparePoint(a){return un.orient(this.leftSE.point,a,this.rightSE.point)}getIntersection(a){let c=this.bbox(),d=a.bbox(),m=Hi(c,d);if(m===null)return null;let g=this.leftSE.point,x=this.rightSE.point,k=a.leftSE.point,E=a.rightSE.point,S=yn(c,k)&&this.comparePoint(k)===0,H=yn(d,g)&&a.comparePoint(g)===0,N=yn(c,E)&&this.comparePoint(E)===0,at=yn(d,x)&&a.comparePoint(x)===0;if(H&&S)return at&&!N?x:!at&&N?E:null;if(H)return N&&g.x.eq(E.x)&&g.y.eq(E.y)?null:g;if(S)return at&&x.x.eq(k.x)&&x.y.eq(k.y)?null:k;if(at&&N)return null;if(at)return x;if(N)return E;let ft=Qo(g,this.vector(),k,a.vector());return ft===null||!yn(m,ft)?null:un.snap(ft)}split(a){let c=[],d=a.events!==void 0,m=new vi(a,!0),g=new vi(a,!1),x=this.rightSE;this.replaceRightSE(g),c.push(g),c.push(m);let k=new su(m,x,this.rings.slice(),this.windings.slice());return vi.comparePoints(k.leftSE.point,k.rightSE.point)>0&&k.swapEvents(),vi.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),d&&(m.checkForConsuming(),g.checkForConsuming()),c}swapEvents(){let a=this.rightSE;this.rightSE=this.leftSE,this.leftSE=a,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let c=0,d=this.windings.length;c<d;c++)this.windings[c]*=-1}consume(a){let c=this,d=a;for(;c.consumedBy;)c=c.consumedBy;for(;d.consumedBy;)d=d.consumedBy;let m=su.compare(c,d);if(m!==0){if(m>0){let g=c;c=d,d=g}if(c.prev===d){let g=c;c=d,d=g}for(let g=0,x=d.rings.length;g<x;g++){let k=d.rings[g],E=d.windings[g],S=c.rings.indexOf(k);S===-1?(c.rings.push(k),c.windings.push(E)):c.windings[S]+=E}d.rings=null,d.windings=null,d.consumedBy=c,d.leftSE.consumedBy=c.leftSE,d.rightSE.consumedBy=c.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let a=this.prev.consumedBy||this.prev;this._beforeState=a.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let a=this.beforeState();this._afterState={rings:a.rings.slice(0),windings:a.windings.slice(0),multiPolys:[]};let c=this._afterState.rings,d=this._afterState.windings,m=this._afterState.multiPolys;for(let k=0,E=this.rings.length;k<E;k++){let S=this.rings[k],H=this.windings[k],N=c.indexOf(S);N===-1?(c.push(S),d.push(H)):d[N]+=H}let g=[],x=[];for(let k=0,E=c.length;k<E;k++){if(d[k]===0)continue;let S=c[k],H=S.poly;if(x.indexOf(H)===-1)if(S.isExterior)g.push(H);else{x.indexOf(H)===-1&&x.push(H);let N=g.indexOf(S.poly);N!==-1&&g.splice(N,1)}}for(let k=0,E=g.length;k<E;k++){let S=g[k].multiPoly;m.indexOf(S)===-1&&m.push(S)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let a=this.beforeState().multiPolys,c=this.afterState().multiPolys;switch(Fl.type){case"union":{let d=a.length===0,m=c.length===0;this._isInResult=d!==m;break}case"intersection":{let d,m;a.length<c.length?(d=a.length,m=c.length):(d=c.length,m=a.length),this._isInResult=m===Fl.numMultiPolys&&d<m;break}case"xor":{let d=Math.abs(a.length-c.length);this._isInResult=d%2===1;break}case"difference":{let d=m=>m.length===1&&m[0].isSubject;this._isInResult=d(a)!==d(c);break}}return this._isInResult}},es=class{constructor(r,a,c){le(this,"poly");le(this,"isExterior");le(this,"segments");le(this,"bbox");if(!Array.isArray(r)||r.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=a,this.isExterior=c,this.segments=[],typeof r[0][0]!="number"||typeof r[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let d=un.snap({x:new C(r[0][0]),y:new C(r[0][1])});this.bbox={ll:{x:d.x,y:d.y},ur:{x:d.x,y:d.y}};let m=d;for(let g=1,x=r.length;g<x;g++){if(typeof r[g][0]!="number"||typeof r[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let k=un.snap({x:new C(r[g][0]),y:new C(r[g][1])});k.x.eq(m.x)&&k.y.eq(m.y)||(this.segments.push(ts.fromRing(m,k,this)),k.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=k.x),k.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=k.y),k.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=k.x),k.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=k.y),m=k)}(!d.x.eq(m.x)||!d.y.eq(m.y))&&this.segments.push(ts.fromRing(m,d,this))}getSweepEvents(){let r=[];for(let a=0,c=this.segments.length;a<c;a++){let d=this.segments[a];r.push(d.leftSE),r.push(d.rightSE)}return r}},Dl=class{constructor(r,a){le(this,"multiPoly");le(this,"exteriorRing");le(this,"interiorRings");le(this,"bbox");if(!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new es(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let c=1,d=r.length;c<d;c++){let m=new es(r[c],this,!1);m.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=m.bbox.ll.x),m.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=m.bbox.ll.y),m.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=m.bbox.ur.x),m.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=m.bbox.ur.y),this.interiorRings.push(m)}this.multiPoly=a}getSweepEvents(){let r=this.exteriorRing.getSweepEvents();for(let a=0,c=this.interiorRings.length;a<c;a++){let d=this.interiorRings[a].getSweepEvents();for(let m=0,g=d.length;m<g;m++)r.push(d[m])}return r}},Il=class{constructor(r,a){le(this,"isSubject");le(this,"polys");le(this,"bbox");if(!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof r[0][0][0]=="number"&&(r=[r])}catch{}this.polys=[],this.bbox={ll:{x:new C(Number.POSITIVE_INFINITY),y:new C(Number.POSITIVE_INFINITY)},ur:{x:new C(Number.NEGATIVE_INFINITY),y:new C(Number.NEGATIVE_INFINITY)}};for(let c=0,d=r.length;c<d;c++){let m=new Dl(r[c],this);m.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=m.bbox.ll.x),m.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=m.bbox.ll.y),m.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=m.bbox.ur.x),m.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=m.bbox.ur.y),this.polys.push(m)}this.isSubject=a}getSweepEvents(){let r=[];for(let a=0,c=this.polys.length;a<c;a++){let d=this.polys[a].getSweepEvents();for(let m=0,g=d.length;m<g;m++)r.push(d[m])}return r}},Vg=class Hh{constructor(a){le(this,"events");le(this,"poly");le(this,"_isExteriorRing");le(this,"_enclosingRing");this.events=a;for(let c=0,d=a.length;c<d;c++)a[c].segment.ringOut=this;this.poly=null}static factory(a){let c=[];for(let d=0,m=a.length;d<m;d++){let g=a[d];if(!g.isInResult()||g.ringOut)continue;let x=null,k=g.leftSE,E=g.rightSE,S=[k],H=k.point,N=[];for(;x=k,k=E,S.push(k),k.point!==H;)for(;;){let at=k.getAvailableLinkedEvents();if(at.length===0){let qt=S[0].point,te=S[S.length-1].point;throw new Error(`Unable to complete output ring starting at [${qt.x}, ${qt.y}]. Last matching segment found ends at [${te.x}, ${te.y}].`)}if(at.length===1){E=at[0].otherSE;break}let ft=null;for(let qt=0,te=N.length;qt<te;qt++)if(N[qt].point===k.point){ft=qt;break}if(ft!==null){let qt=N.splice(ft)[0],te=S.splice(qt.index);te.unshift(te[0].otherSE),c.push(new Hh(te.reverse()));continue}N.push({index:S.length,point:k.point});let St=k.getLeftmostComparator(x);E=at.sort(St)[0].otherSE;break}c.push(new Hh(S))}return c}getGeom(){let a=this.events[0].point,c=[a];for(let S=1,H=this.events.length-1;S<H;S++){let N=this.events[S].point,at=this.events[S+1].point;un.orient(N,a,at)!==0&&(c.push(N),a=N)}if(c.length===1)return null;let d=c[0],m=c[1];un.orient(d,a,m)===0&&c.shift(),c.push(c[0]);let g=this.isExteriorRing()?1:-1,x=this.isExteriorRing()?0:c.length-1,k=this.isExteriorRing()?c.length:-1,E=[];for(let S=x;S!=k;S+=g)E.push([c[S].x.toNumber(),c[S].y.toNumber()]);return E}isExteriorRing(){if(this._isExteriorRing===void 0){let a=this.enclosingRing();this._isExteriorRing=a?!a.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var m,g;let a=this.events[0];for(let x=1,k=this.events.length;x<k;x++){let E=this.events[x];vi.compare(a,E)>0&&(a=E)}let c=a.segment.prevInResult(),d=c?c.prevInResult():null;for(;;){if(!c)return null;if(!d)return c.ringOut;if(d.ringOut!==c.ringOut)return((m=d.ringOut)==null?void 0:m.enclosingRing())!==c.ringOut?c.ringOut:(g=c.ringOut)==null?void 0:g.enclosingRing();c=d.prevInResult(),d=c?c.prevInResult():null}}},Ad=class{constructor(r){le(this,"exteriorRing");le(this,"interiorRings");this.exteriorRing=r,r.poly=this,this.interiorRings=[]}addInterior(r){this.interiorRings.push(r),r.poly=this}getGeom(){let r=this.exteriorRing.getGeom();if(r===null)return null;let a=[r];for(let c=0,d=this.interiorRings.length;c<d;c++){let m=this.interiorRings[c].getGeom();m!==null&&a.push(m)}return a}},Ug=class{constructor(r){le(this,"rings");le(this,"polys");this.rings=r,this.polys=this._composePolys(r)}getGeom(){let r=[];for(let a=0,c=this.polys.length;a<c;a++){let d=this.polys[a].getGeom();d!==null&&r.push(d)}return r}_composePolys(r){var c;let a=[];for(let d=0,m=r.length;d<m;d++){let g=r[d];if(!g.poly)if(g.isExteriorRing())a.push(new Ad(g));else{let x=g.enclosingRing();x!=null&&x.poly||a.push(new Ad(x)),(c=x==null?void 0:x.poly)==null||c.addInterior(g)}}return a}},Gg=class{constructor(r,a=ts.compare){le(this,"queue");le(this,"tree");le(this,"segments");this.queue=r,this.tree=new mt(a),this.segments=[]}process(r){let a=r.segment,c=[];if(r.consumedBy)return r.isLeft?this.queue.delete(r.otherSE):this.tree.delete(a),c;r.isLeft&&this.tree.add(a);let d=a,m=a;do d=this.tree.lastBefore(d);while(d!=null&&d.consumedBy!=null);do m=this.tree.firstAfter(m);while(m!=null&&m.consumedBy!=null);if(r.isLeft){let g=null;if(d){let k=d.getIntersection(a);if(k!==null&&(a.isAnEndpoint(k)||(g=k),!d.isAnEndpoint(k))){let E=this._splitSafely(d,k);for(let S=0,H=E.length;S<H;S++)c.push(E[S])}}let x=null;if(m){let k=m.getIntersection(a);if(k!==null&&(a.isAnEndpoint(k)||(x=k),!m.isAnEndpoint(k))){let E=this._splitSafely(m,k);for(let S=0,H=E.length;S<H;S++)c.push(E[S])}}if(g!==null||x!==null){let k=null;g===null?k=x:x===null?k=g:k=vi.comparePoints(g,x)<=0?g:x,this.queue.delete(a.rightSE),c.push(a.rightSE);let E=a.split(k);for(let S=0,H=E.length;S<H;S++)c.push(E[S])}c.length>0?(this.tree.delete(a),c.push(r)):(this.segments.push(a),a.prev=d)}else{if(d&&m){let g=d.getIntersection(m);if(g!==null){if(!d.isAnEndpoint(g)){let x=this._splitSafely(d,g);for(let k=0,E=x.length;k<E;k++)c.push(x[k])}if(!m.isAnEndpoint(g)){let x=this._splitSafely(m,g);for(let k=0,E=x.length;k<E;k++)c.push(x[k])}}}this.tree.delete(a)}return c}_splitSafely(r,a){this.tree.delete(r);let c=r.rightSE;this.queue.delete(c);let d=r.split(a);return d.push(c),r.consumedBy===void 0&&this.tree.add(r),d}},Hg=class{constructor(){le(this,"type");le(this,"numMultiPolys")}run(r,a,c){oa.type=r;let d=[new Il(a,!0)];for(let E=0,S=c.length;E<S;E++)d.push(new Il(c[E],!1));if(oa.numMultiPolys=d.length,oa.type==="difference"){let E=d[0],S=1;for(;S<d.length;)Hi(d[S].bbox,E.bbox)!==null?S++:d.splice(S,1)}if(oa.type==="intersection")for(let E=0,S=d.length;E<S;E++){let H=d[E];for(let N=E+1,at=d.length;N<at;N++)if(Hi(H.bbox,d[N].bbox)===null)return[]}let m=new mt(vi.compare);for(let E=0,S=d.length;E<S;E++){let H=d[E].getSweepEvents();for(let N=0,at=H.length;N<at;N++)m.add(H[N])}let g=new Gg(m),x=null;for(m.size!=0&&(x=m.first(),m.delete(x));x;){let E=g.process(x);for(let S=0,H=E.length;S<H;S++){let N=E[S];N.consumedBy===void 0&&m.add(N)}m.size!=0?(x=m.first(),m.delete(x)):x=null}un.reset();let k=Vg.factory(g.segments);return new Ug(k).getGeom()}},oa=new Hg,Fl=oa,$g=(r,...a)=>Fl.run("intersection",r,a),Zg=(r,...a)=>Fl.run("difference",r,a);un.set;function jl(r){let a={type:"Feature"};return a.geometry=r,a}function Nl(r){return r.type==="Feature"?r.geometry:r}function Od(r){return r&&r.geometry&&r.geometry.coordinates?r.geometry.coordinates:r}function qg(r){return jl({type:"LineString",coordinates:r})}function Kg(r){return jl({type:"MultiLineString",coordinates:r})}function Rd(r){return jl({type:"Polygon",coordinates:r})}function Dd(r){return jl({type:"MultiPolygon",coordinates:r})}function Wg(r,a){let c=Nl(r),d=Nl(a),m=$g(c.coordinates,d.coordinates);return m.length===0?null:m.length===1?Rd(m[0]):Dd(m)}function Jg(r,a){let c=Nl(r),d=Nl(a),m=Zg(c.coordinates,d.coordinates);return m.length===0?null:m.length===1?Rd(m[0]):Dd(m)}function Id(r){return Array.isArray(r)?1+Id(r[0]):-1}function Yg(r){r instanceof L.Polyline&&(r=r.toGeoJSON(15));let a=Od(r),c=Id(a),d=[];return c>1?a.forEach(m=>{d.push(qg(m))}):d.push(r),d}function Xg(r){let a=[];return r.eachLayer(c=>{a.push(Od(c.toGeoJSON(15)))}),Kg(a)}Cn.Cut=Cn.Polygon.extend({initialize(r){this._map=r,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=2)return;let a=L.polygon(r,this.options.pathOptions);a._latlngInfos=this._layer._latlngInfo,this.cut(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:c,originalLayer:d})=>{this._fireCut(d,c,d),this._fireCut(this._map,c,d),d.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()},cut(r){let a=this._map._layers,c=r._latlngInfos||[];Object.keys(a).map(d=>a[d]).filter(d=>d.pm).filter(d=>!d._pmTempLayer).filter(d=>!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1).filter(d=>d instanceof L.Polyline).filter(d=>d!==r).filter(d=>d.pm.options.allowCutting).filter(d=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(d)>-1:!0).filter(d=>!this._layerGroup.hasLayer(d)).filter(d=>{try{let m=!!jn(r.toGeoJSON(15),d.toGeoJSON(15)).features.length>0;return m||d instanceof L.Polyline&&!(d instanceof L.Polygon)?m:!!Wg(r.toGeoJSON(15),d.toGeoJSON(15))}catch{return d instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(d=>{let m;if(d instanceof L.Polygon){m=L.polygon(d.getLatLngs());let E=m.getLatLngs();c.forEach(S=>{if(S&&S.snapInfo){let{latlng:H}=S,N=this._calcClosestLayer(H,[m]);if(N&&N.segment&&N.distance<this.options.snapDistance){let{segment:at}=N;if(at&&at.length===2){let{indexPath:ft,parentPath:St,newIndex:qt}=L.PM.Utils._getIndexFromSegment(E,at);(ft.length>1?(0,Oc.default)(E,St):E).splice(qt,0,H)}}}})}else m=d;let g=this._cutLayer(r,m),x=L.geoJSON(g,d.options);x.getLayers().length===1&&([x]=x.getLayers()),this._setPane(x,"layerPane");let k=x.addTo(this._map.pm._getContainingLayer());if(k.pm.enable(d.pm.options),k.pm.disable(),d._pmTempLayer=!0,r._pmTempLayer=!0,d.remove(),d.removeFrom(this._map.pm._getContainingLayer()),r.remove(),r.removeFrom(this._map.pm._getContainingLayer()),k.getLayers&&k.getLayers().length===0&&this._map.pm.removeLayer({target:k}),k instanceof L.LayerGroup?(k.eachLayer(E=>{this._addDrawnLayerProp(E)}),this._addDrawnLayerProp(k)):this._addDrawnLayerProp(k),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let E=this.options.layersToCut.indexOf(d);E>-1&&this.options.layersToCut.splice(E,1)}this._editedLayers.push({layer:k,originalLayer:d})})},_cutLayer(r,a){let c=L.geoJSON(),d;if(a instanceof L.Polygon)d=Jg(a.toGeoJSON(15),r.toGeoJSON(15));else{let m=Yg(a);m.forEach(g=>{let x=Go(g,r.toGeoJSON(15)),k;x&&x.features.length>0?k=L.geoJSON(x):k=L.geoJSON(g),k.getLayers().forEach(E=>{$o(r.toGeoJSON(15),E.toGeoJSON(15))||E.addTo(c)})}),m.length>1?d=Xg(c):d=c.toGeoJSON(15)}return d},_change:L.Util.falseFn}),Cn.Text=Cn.extend({initialize(r){this._map=r,this._shape="Text",this.toolbarButtonName="drawText"},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Te("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){var r;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),(r=this._hintMarker)==null||r.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}},_createMarker(r){var m,g,x,k;if(!r.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(m=this.options.textOptions)==null?void 0:m.className){let E=this.options.textOptions.className.split(" ");this.textArea.classList.add(...E)}let c=this._createTextIcon(this.textArea),d=new L.Marker(a,{textMarker:!0,_textMarkerOverPM:!0,icon:c});if(this._setPane(d,"markerPane"),this._finishLayer(d),d.pm||(d.options.draggable=!1),d.addTo(this._map.pm._getContainingLayer()),d.pm){d.pm.textArea=this.textArea,L.setOptions(d.pm,{removeIfEmpty:((g=this.options.textOptions)==null?void 0:g.removeIfEmpty)??!0});let E=((x=this.options.textOptions)==null?void 0:x.focusAfterDraw)??!0;d.pm._createTextMarker(E),(k=this.options.textOptions)!=null&&k.text&&d.pm.setText(this.options.textOptions.text)}this._fireCreate(d),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createTextArea(){let r=document.createElement("textarea");return r.readOnly=!0,r.classList.add("pm-textarea","pm-disabled"),r},_createTextIcon(r){return L.divIcon({className:"pm-text-marker",html:r})}});var Qg={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,wr(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let r=this._getDOMElem();r&&(wr(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(r)):L.DomEvent.on(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,wr(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let r=this._getDOMElem();r&&(wr(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(r)):L.DomEvent.off(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(r){let a=r.touches?r.touches[0]:r,c={originalEvent:a,target:this._layer};return c.containerPoint=this._map.mouseEventToContainerPoint(a),c.latlng=this._map.containerPointToLatLng(c.containerPoint),this._dragMixinOnMouseDown(c),!1},_simulateMouseMoveEvent(r){let a=r.touches?r.touches[0]:r,c={originalEvent:a,target:this._layer};return c.containerPoint=this._map.mouseEventToContainerPoint(a),c.latlng=this._map.containerPointToLatLng(c.containerPoint),this._dragMixinOnMouseMove(c),!1},_simulateMouseUpEvent(r){let a={originalEvent:r.touches?r.touches[0]:r,target:this._layer};return r.type.indexOf("touch")===-1&&(a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint)),this._dragMixinOnMouseUp(a),!1},_dragMixinOnMouseDown(r){if(r.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(r);let a=r._fromLayerSync,c=this._syncLayers("_dragMixinOnMouseDown",r);if(this._layer instanceof L.Marker&&(this.options.snappable&&!a&&!c?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let d="resizeableCircleMarker";this._layer instanceof L.Circle&&(d="resizableCircle"),this.options.snappable&&!a&&!c?this._layer.pm.options[d]||this._initSnappableMarkersDrag():this._layer.pm.options[d]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=r.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(r){this._overwriteEventIfItComesFromMarker(r);let a=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",r),this._dragging||(this._dragging=!0,L.DomUtil.addClass(a,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=r.latlng),this._onLayerDrag(r),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(r){let a=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",r),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,a&&L.DomUtil.removeClass(a,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(r){let{latlng:a}=r,c={lat:a.lat-this._tempDragCoord.lat,lng:a.lng-this._tempDragCoord.lng},d=m=>m.map(g=>{if(Array.isArray(g))return d(g);let x={lat:g.lat+c.lat,lng:g.lng+c.lng};return(g.alt||g.alt===0)&&(x.alt=g.alt),x});if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let m=d([this._layer.getLatLng()]);this._layer.setLatLng(m[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let m=this._layer.getLatLng();this._layer._snapped&&(m=this._layer._orgLatLng);let g=d([m]);this._layer.setLatLng(g[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let m=d([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(m),this._fireChange(this._layer.getBounds(),"Edit")}else{let m=d(this._layer.getLatLngs());this._layer.setLatLngs(m),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=a,r.layer=this._layer,this._fireDrag(r)},addDraggingClass(){let r=this._getDOMElem();r&&L.DomUtil.addClass(r,"leaflet-pm-draggable")},removeDraggingClass(){let r=this._getDOMElem();r&&L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_getDOMElem(){let r=null;return this._layer._path?r=this._layer._path:this._layer._renderer&&this._layer._renderer._container?r=this._layer._renderer._container:this._layer._image?r=this._layer._image:this._layer._icon&&(r=this._layer._icon),r},_overwriteEventIfItComesFromMarker(r){r.target.getLatLng&&(!r.target._radius||r.target._radius<=10)&&(r.containerPoint=this._map.mouseEventToContainerPoint(r.originalEvent),r.latlng=this._map.containerPointToLatLng(r.containerPoint))},_syncLayers(r,a){if(this.enabled())return!1;if(!a._fromLayerSync&&this._layer===a.target&&this.options.syncLayersOnDrag){a._fromLayerSync=!0;let c=[];if(L.Util.isArray(this.options.syncLayersOnDrag))c=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(d=>{d instanceof L.LayerGroup&&(c=c.concat(d.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let d in this._parentLayerGroup){let m=this._parentLayerGroup[d];m.pm&&(c=m.pm.getLayers(!0))}return L.Util.isArray(c)&&c.length>0&&(c=c.filter(d=>!!d.pm).filter(d=>!!d.pm.options.draggable),c.forEach(d=>{d!==this._layer&&d.pm[r]&&(d._snapped=!1,d.pm[r](a))})),c.length>0}return!1},_stopDOMImageDrag(r){return r.preventDefault(),!1}},t0=Qg,e0=_(Ni());function n0(r,a,c,d){return c.unproject(a.transform(c.project(r,d)),d)}function Fd(r,a,c){let d=c.getMaxZoom();if(d===1/0&&(d=c.getZoom()),L.Util.isArray(r)){let m=[];return r.forEach(g=>{m.push(Fd(g,a,c))}),m}return r instanceof L.LatLng?n0(r,a,c,d):null}function ns(r,a){a instanceof L.Layer&&(a=a.getLatLng());let c=r.getMaxZoom();return c===1/0&&(c=r.getZoom()),r.project(a,c)}function zl(r,a){let c=r.getMaxZoom();return c===1/0&&(c=r.getZoom()),r.unproject(a,c)}var i0={_onRotateStart(r){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=ns(this._map,this._rotationOriginLatLng),this._rotationStartPoint=ns(this._map,r.target.getLatLng()),this._initialRotateLatLng=Vi(this._layer),this._startAngle=this.getAngle();let a=Vi(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,a),this._fireRotationStart(this._map,a)},_onRotate(r){let a=ns(this._map,r.target.getLatLng()),c=this._rotationStartPoint,d=this._rotationOriginPoint,m=Math.atan2(a.y-d.y,a.x-d.x)-Math.atan2(c.y-d.y,c.x-d.x);this._layer.setLatLngs(this._rotateLayer(m,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let g=this;function x(H,N=[],at=-1){if(at>-1&&N.push(at),L.Util.isArray(H[0]))H.forEach((ft,St)=>x(ft,N.slice(),St));else{let ft=(0,e0.default)(g._markers,N);H.forEach((St,qt)=>{ft[qt].setLatLng(St)})}}x(this._layer.getLatLngs());let k=Vi(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(m,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let E=m*180/Math.PI;E=E<0?E+360:E;let S=E+this._startAngle;this._setAngle(S),this._rotationLayer.pm._setAngle(S),this._fireRotation(this._rotationLayer,E,k),this._fireRotation(this._map,E,k),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let r=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let a=Vi(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Vi(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,r,a),this._fireRotationEnd(this._map,r,a),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(r,a,c,d,m){let g=ns(m,c);return this._matrix=d.clone().rotate(r,g).flip(),Fd(a,this._matrix,m)},_setAngle(r){r=r<0?r+360:r,this._angle=r%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let r=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),a=r.getCenter();return r.removeFrom(this._layer._map),a},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Gs(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let r={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),r),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Vi(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(r){let a=this.getAngle(),c=this._layer.getLatLngs(),d=r*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(d,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+r),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(d,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let m=this.getAngle()-a;m=m<0?m+360:m,this._startAngle=a,this._fireRotation(this._layer,m,c,this._layer),this._fireRotation(this._map||this._layer._map,m,c,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(r){let a=r-this.getAngle();this.rotateLayer(a)},getAngle(){return this._angle||0},setInitAngle(r){this._setAngle(r)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(r){this._rotationCenter=r,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(r)}},r0=i0,o0=L.Class.extend({includes:[t0,$s,r0,xr],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions(r){L.Util.setOptions(this,r)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(r,a){let c=a.target,d={layer:this._layer,marker:c,event:a},m="";return r==="move"?m="moveVertexValidation":r==="add"?m="addVertexValidation":r==="remove"&&(m="removeVertexValidation"),this.options[m]&&typeof this.options[m]=="function"&&!this.options[m](d)?(r==="move"&&(c._cancelDragEventChain=c.getLatLng()),!1):(c._cancelDragEventChain=null,!0)},_vertexValidationDrag(r){return r._cancelDragEventChain?(r._latlng=r._cancelDragEventChain,r.update(),!1):!0},_vertexValidationDragEnd(r){return r._cancelDragEventChain?(r._cancelDragEventChain=null,!1):!0}}),Bn=o0;Bn.LayerGroup=L.Class.extend({initialize(r){this._layerGroup=r,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(d=>this._initLayer(d));let a=d=>{if(d.layer._pmTempLayer)return;this._layers=this.getLayers();let m=this._layers.filter(g=>!g.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in g.pm._parentLayerGroup));m.forEach(g=>{this._initLayer(g)}),m.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(a,100,this),this),this._layerGroup.on("layerremove",d=>{this._removeLayerFromGroup(d.target)},this);let c=d=>{d.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(c,100,this),this)},enable(r,a=[]){a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(c=>{c instanceof L.LayerGroup?a.indexOf(c._leaflet_id)===-1&&(a.push(c._leaflet_id),c.pm.enable(r,a)):c.pm.enable(r)})},disable(r=[]){r.length===0&&(this._layers=this.getLayers()),this._layers.forEach(a=>{a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.disable(r)):a.pm.disable()})},enabled(r=[]){return r.length===0&&(this._layers=this.getLayers()),!!this._layers.find(a=>a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1?(r.push(a._leaflet_id),a.pm.enabled(r)):!1:a.pm.enabled())},toggleEdit(r,a=[]){a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(c=>{c instanceof L.LayerGroup?a.indexOf(c._leaflet_id)===-1&&(a.push(c._leaflet_id),c.pm.toggleEdit(r,a)):c.pm.toggleEdit(r)})},_initLayer(r){let a=L.Util.stamp(this._layerGroup);r.pm._parentLayerGroup||(r.pm._parentLayerGroup={}),r.pm._parentLayerGroup[a]=this._layerGroup},_removeLayerFromGroup(r){if(r.pm&&r.pm._layerGroup){let a=L.Util.stamp(this._layerGroup);delete r.pm._layerGroup[a]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(r=>r.pm.dragging()):!1},getOptions(){return this.options},_getMap(){var r;return this._map||((r=this._layers.find(a=>!!a._map))==null?void 0:r._map)||null},getLayers(r=!1,a=!0,c=!0,d=[]){let m=[];return r?this._layerGroup.getLayers().forEach(g=>{m.push(g),g instanceof L.LayerGroup&&d.indexOf(g._leaflet_id)===-1&&(d.push(g._leaflet_id),m=m.concat(g.pm.getLayers(!0,!0,!0,d)))}):m=this._layerGroup.getLayers(),c&&(m=m.filter(g=>!(g instanceof L.LayerGroup))),a&&(m=m.filter(g=>!!g.pm),m=m.filter(g=>!g._pmTempLayer),m=m.filter(g=>!L.PM.optIn&&!g.options.pmIgnore||L.PM.optIn&&g.options.pmIgnore===!1)),m},setOptions(r,a=[]){a.length===0&&(this._layers=this.getLayers()),this.options=r,this._layers.forEach(c=>{c.pm&&(c instanceof L.LayerGroup?a.indexOf(c._leaflet_id)===-1&&(a.push(c._leaflet_id),c.pm.setOptions(r,a)):c.pm.setOptions(r))})}}),Bn.Marker=Bn.extend({_shape:"Marker",initialize(r){this._layer=r,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(r={draggable:!0}){if(L.Util.setOptions(this,r),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(r){let a=r.target;a.remove(),this._fireRemove(a),this._fireRemove(this._map,a)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)}});var Pr=_(Ni()),s0={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let r=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=r.filter((a,c,d)=>d.indexOf(a)===c)},_removeFromCache(r){let a=this.markerCache.indexOf(r);a>-1&&this.markerCache.splice(a,1)},renderLimits(r){this.markerCache.forEach(a=>{r.includes(a)?this._markerGroup.addLayer(a):this._markerGroup.removeLayer(a)})},applyLimitFilters({latlng:r={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let a=[...this._filterClosestMarkers(r)];this.renderLimits(a)},_filterClosestMarkers(r){let a=[...this.markerCache],c=this.options.limitMarkersToCount;return c===-1?a:(a.sort((d,m)=>{let g=d._latlng.distanceTo(r),x=m._latlng.distanceTo(r);return g-x}),a.filter((d,m)=>c>-1?m<c:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(r){this._preventRenderMarkers=!!r}},a0=s0;Bn.Line=Bn.extend({includes:[a0],_shape:"Line",initialize(r){this._layer=r,this._enabled=!1},enable(r){if(L.Util.setOptions(this,r),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(r){return this.enabled()?this.disable():this.enable(r),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let r=this._map,a=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let c=d=>{if(Array.isArray(d[0]))return d.map(c,this);let m=d.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&d.map((g,x)=>{let k=this.isPolygon()?(x+1)%d.length:x+1;return this._createMiddleMarker(m[x],m[k])}),m};this._markers=c(a),this.filterMarkerGroup(),r.addLayer(this._markerGroup)},_createMarker(r){let a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this.options.rotate?(a.on("dragstart",this._onRotateStart,this),a.on("drag",this._onRotate,this),a.on("dragend",this._onRotateEnd,this)):(a.on("click",this._onVertexClick,this),a.on("dragstart",this._onMarkerDragStart,this),a.on("move",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||a.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(a),a},_createMiddleMarker(r,a){if(!r||!a)return!1;let c=L.PM.Utils.calcMiddleLatLng(this._map,r.getLatLng(),a.getLatLng()),d=this._createMarker(c),m=L.divIcon({className:"marker-icon marker-icon-middle"});return d.setIcon(m),d.leftM=r,d.rightM=a,r._middleMarkerNext=d,a._middleMarkerPrev=d,d.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),d.on("movestart",this._onMiddleMarkerMoveStart,this),d},_onMiddleMarkerClick(r){let a=r.target;if(!this._vertexValidation("add",r))return;let c=L.divIcon({className:"marker-icon"});a.setIcon(c),this._addMarker(a,a.leftM,a.rightM)},_onMiddleMarkerMoveStart(r){let a=r.target;if(a.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",r)){a.on("move",this._onMiddleMarkerMovePrevent,this);return}a._dragging=!0,this._addMarker(a,a.leftM,a.rightM)},_onMiddleMarkerMovePrevent(r){let a=r.target;this._vertexValidationDrag(a)},_onMiddleMarkerMoveEnd(r){let a=r.target;if(a.off("move",this._onMiddleMarkerMovePrevent,this),a.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(a))return;let c=L.divIcon({className:"marker-icon"});a.setIcon(c),setTimeout(()=>{delete a._dragging},100)},_addMarker(r,a,c){r.off("movestart",this._onMiddleMarkerMoveStart,this),r.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let d=r.getLatLng(),m=this._layer._latlngs;delete r.leftM,delete r.rightM;let{indexPath:g,index:x,parentPath:k}=L.PM.Utils.findDeepMarkerIndex(this._markers,a),E=g.length>1?(0,Pr.default)(m,k):m,S=g.length>1?(0,Pr.default)(this._markers,k):this._markers;E.splice(x+1,0,d),S.splice(x+1,0,r),this._layer.setLatLngs(m),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(a,r),this._createMiddleMarker(r,c)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(r,L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,d),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return to(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(r){let a=this._layer,c,d;if(this.options.allowSelfIntersection?c=!1:(d=to(this._layer.toGeoJSON(15)),c=d.features.length>0),c){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return c;r?this._flashLayer():(a.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(d)}else a.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return c},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(r,a){r.forEach(c=>{Array.isArray(c)?this._updateDisabledMarkerStyle(c,a):c._icon&&(a&&!this._checkMarkerAllowedToDrag(c)?L.DomUtil.addClass(c._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(c._icon,"vertexmarker-disabled"))})},_removeMarker(r){let a=r.target;if(!this._vertexValidation("remove",r))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=Vi(this._layer,this._layer.getLatLngs()));let c=this._layer.getLatLngs(),{indexPath:d,index:m,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);if(!d)return;let x=d.length>1?(0,Pr.default)(c,g):c,k=d.length>1?(0,Pr.default)(this._markers,g):this._markers;if(!this.options.removeLayerBelowMinVertexCount&&(x.length<=2||this.isPolygon()&&x.length<=3)){this._flashLayer();return}x.splice(m,1),this._layer.setLatLngs(c),this.isPolygon()&&x.length<=2&&x.splice(0,x.length);let E=!1;if(x.length<=1&&(x.splice(0,x.length),g.length>1&&d.length>1&&(c=zi(c)),this._layer.setLatLngs(c),this._initMarkers(),E=!0),Hn(c)||this._layer.remove(),c=zi(c),this._layer.setLatLngs(c),this._markers=zi(this._markers),!E&&(k=d.length>1?(0,Pr.default)(this._markers,g):this._markers,a._middleMarkerPrev&&(this._markerGroup.removeLayer(a._middleMarkerPrev),this._removeFromCache(a._middleMarkerPrev)),a._middleMarkerNext&&(this._markerGroup.removeLayer(a._middleMarkerNext),this._removeFromCache(a._middleMarkerNext)),this._markerGroup.removeLayer(a),this._removeFromCache(a),k)){let S,H;if(this.isPolygon()?(S=(m+1)%k.length,H=(m+(k.length-1))%k.length):(H=m-1<0?void 0:m-1,S=m+1>=k.length?void 0:m+1),S!==H){let N=k[H],at=k[S];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(N,at)}k.splice(m,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(a,d),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(r){let a=this._layer.getLatLngs(),c=r.getLatLng(),{indexPath:d,index:m,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);(d.length>1?(0,Pr.default)(a,g):a).splice(m,1,c),this._layer.setLatLngs(a)},_getNeighborMarkers(r){let{indexPath:a,index:c,parentPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),m=a.length>1?(0,Pr.default)(this._markers,d):this._markers,g=(c+1)%m.length,x=(c+(m.length-1))%m.length,k=m[x],E=m[g];return{prevMarker:k,nextMarker:E}},_checkMarkerAllowedToDrag(r){let{prevMarker:a,nextMarker:c}=this._getNeighborMarkers(r),d=L.polyline([a.getLatLng(),r.getLatLng()]),m=L.polyline([r.getLatLng(),c.getLatLng()]),g=jn(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.length,x=jn(this._layer.toGeoJSON(15),m.toGeoJSON(15)).features.length;return r.getLatLng()===this._markers[0][0].getLatLng()?x+=1:r.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(g+=1),!(g<=2&&x<=2)},_onMarkerDragStart(r){let a=r.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",r))return;let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragStart(r,c),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Vi(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(a):this._markerAllowedToDrag=null},_onMarkerDrag(r){let a=r.target;if(!this._vertexValidationDrag(a))return;let{indexPath:c,index:d,parentPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);if(!c)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(a);let g=c.length>1?(0,Pr.default)(this._markers,m):this._markers,x=(d+1)%g.length,k=(d+(g.length-1))%g.length,E=a.getLatLng(),S=g[k].getLatLng(),H=g[x].getLatLng();if(a._middleMarkerNext){let N=L.PM.Utils.calcMiddleLatLng(this._map,E,H);a._middleMarkerNext.setLatLng(N)}if(a._middleMarkerPrev){let N=L.PM.Utils.calcMiddleLatLng(this._map,E,S);a._middleMarkerPrev.setLatLng(N)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(r,c),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(r){let a=r.target;if(!this._vertexValidationDragEnd(a))return;let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a),d=this.hasSelfIntersection();d&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(d=!1);let m=!this.options.allowSelfIntersection&&d;if(this._fireMarkerDragEnd(r,c,m),m){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(r,c);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(r){let a=r.target;if(a._dragging)return;let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireVertexClick(r,c)}}),Bn.Polygon=Bn.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(r){let{prevMarker:a,nextMarker:c}=this._getNeighborMarkers(r),d=L.polyline([a.getLatLng(),r.getLatLng()]),m=L.polyline([r.getLatLng(),c.getLatLng()]),g=jn(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.length,x=jn(this._layer.toGeoJSON(15),m.toGeoJSON(15)).features.length;return!(g<=2&&x<=2)}}),Bn.Rectangle=Bn.Polygon.extend({_shape:"Rectangle",_initMarkers(){let r=this._map,a=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,r.addLayer(this._markerGroup),this._markers=[],this._markers[0]=a.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((c,d)=>{let m=this._cornerMarkers.find(g=>g._index===d);m&&m.setLatLng(c)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(r,a){let c=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._origLatLng=r,c._index=a,c._pmTempLayer=!0,c.on("click",this._onVertexClick,this),this._markerGroup.addLayer(c),c},_addMarkerEvents(){this._markers[0].forEach(r=>{r.on("dragstart",this._onMarkerDragStart,this),r.on("drag",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||r.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(r){if(!this._vertexValidation("move",r))return;let a=r.target,c=this._cornerMarkers;a._oppositeCornerLatLng=c.find(m=>m._index===(a._index+2)%4).getLatLng(),a._snapped=!1;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragStart(r,d)},_onMarkerDrag(r){let a=r.target;if(!this._vertexValidationDrag(a)||a._index===void 0)return;this._adjustRectangleForMarkerMove(a);let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDrag(r,c),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(r){let a=r.target;if(!this._vertexValidationDragEnd(a))return;this._cornerMarkers.forEach(d=>{delete d._oppositeCornerLatLng});let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragEnd(r,c),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(r){L.extend(r._origLatLng,r._latlng);let a=L.PM.Utils._getRotatedRectangle(r.getLatLng(),r._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(a),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers(){let r=this._layer.getLatLngs()[0];r&&r.length!==4&&r.length>0?(r.forEach((a,c)=>{this._cornerMarkers[c].setLatLng(a)}),this._cornerMarkers.slice(r.length).forEach(a=>{a.setLatLng(r[0])})):!r||!r.length?console.error("The layer has no LatLngs"):this._cornerMarkers.forEach(a=>{a.setLatLng(r[a._index])})},_findCorners(){this._angle===void 0&&this.setInitAngle(Gs(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this.getAngle(),this._map||this)}}),Bn.CircleMarker=Bn.extend({_shape:"CircleMarker",initialize(r){this._layer=r,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(r={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,r),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);let a=this._layer.getLatLng(),c=this._layer._radius,d=this._getLatLngOnCircle(a,c);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(d),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(r,a){let c=this._map.project(r),d=L.point(c.x+a,c.y);return this._map.unproject(d)},_createHintLine(r,a){let c=r.getLatLng(),d=a.getLatLng();this._hintline=L.polyline([c,d],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(r){let a=this._createMarker(r);return this.options.draggable?L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"):a.dragging.disable(),a},_createOuterMarker(r){let a=this._createMarker(r);return a.on("drag",this._resizeCircle,this),a},_createMarker(r){let a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),a.on("click",this._onVertexClick,this),this._helperLayers.addLayer(a),a},_moveCircle(r){if(r.target._cancelDragEventChain)return;let a=this._centerMarker.getLatLng();this._layer.setLatLng(a);let c=this._layer._radius,d=this._getLatLngOnCircle(a,c);this._outerMarker._latlng=d,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let r=this._layer.getLatLng(),a=this._layer._radius,c=this._getLatLngOnCircle(r,a);this._outerMarker.setLatLng(c),this._centerMarker.setLatLng(r),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._distanceCalculation(r,a);this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(c),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,a])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag(r){let a=r.target;a instanceof L.Marker&&!this._vertexValidationDrag(a)||this._fireMarkerDrag(r)},_onMarkerDragEnd(r){this._extedingMarkerDragEnd();let a=r.target;this._vertexValidationDragEnd(a)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(r))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let r=this._layer._map||this._map;if(r){let a=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),r,this._layer.getLatLng()),c=L.circle(this._layer.getLatLng(),this._layer.options);c.setRadius(a);let d=r&&r.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(c,200,!d).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(c,200,!d),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._distanceCalculation(r,a);return this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?a=Qr(this._map,r,a,this._getMinDistanceInMeter(r)):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&(a=Qr(this._map,r,a,this._getMaxDistanceInMeter(r))),a},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._distanceCalculation(r,a);this.options[this._minRadiusOption]&&c<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&c>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(r,a){return this._map.project(r).distanceTo(this._map.project(a))},_getMinDistanceInMeter(r){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,r)},_getMaxDistanceInMeter(r){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,r)},_onVertexClick(r){r.target._dragging||this._fireVertexClick(r,void 0)}}),Bn.Circle=Bn.CircleMarker.extend({_shape:"Circle",initialize(r){this._layer=r,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable(r){L.PM.Edit.CircleMarker.prototype.enable.call(this,r||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let r=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(r,a){return this._map.distance(r,a)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(r){r.target._dragging||this._fireVertexClick(r,void 0)}}),Bn.ImageOverlay=Bn.extend({_shape:"ImageOverlay",initialize(r){this._layer=r,this._enabled=!1},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},enabled(){return this._enabled},enable(r={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,r),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let r=this._layer.getBounds(),a=r.getNorthWest(),c=r.getNorthEast(),d=r.getSouthEast(),m=r.getSouthWest();return[a,c,d,m]}}),Bn.Text=Bn.extend({_shape:"Text",initialize(r){this._layer=r,this._enabled=!1},enable(r){if(L.Util.setOptions(this,r),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let r=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),r.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let r=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,a=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${r}px`,this.textArea.style.width=`${a}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(r){r.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(r={}){let a=this._hasFocus;this._hasFocus=r.type==="focus",!a!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(r){this.textArea.value=r,this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let a=this.options.className.split(" ");this.textArea.classList.add(...a)}let r=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(r),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(r=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),r===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(r){r.preventDefault()}});var Ic=function(r,a,c,d,m,g){this._matrix=[r,a,c,d,m,g]};Ic.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Ic.prototype={transform(r){return this._transform(r.clone())},_transform(r){let a=this._matrix,{x:c,y:d}=r;return r.x=a[0]*c+a[1]*d+a[4],r.y=a[2]*c+a[3]*d+a[5],r},untransform(r){let a=this._matrix;return new L.Point((r.x/a[0]-a[4])/a[0],(r.y/a[2]-a[5])/a[2])},clone(){let r=this._matrix;return new L.PM.Matrix(r[0],r[1],r[2],r[3],r[4],r[5])},translate(r){if(r===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let a,c;return typeof r=="number"?(a=r,c=r):(a=r.x,c=r.y),this._add(1,0,0,1,a,c)},scale(r,a){if(r===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let c,d;return a=a||L.point(0,0),typeof r=="number"?(c=r,d=r):(c=r.x,d=r.y),this._add(c,0,0,d,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},rotate(r,a){let c=Math.cos(r),d=Math.sin(r);return a=a||new L.Point(0,0),this._add(c,d,-d,c,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(r,a,c,d,m,g){let x=[[],[],[]],k=this._matrix,E=[[k[0],k[2],k[4]],[k[1],k[3],k[5]],[0,0,1]],S=[[r,c,m],[a,d,g],[0,0,1]],H;r&&r instanceof L.PM.Matrix&&(k=r._matrix,S=[[k[0],k[2],k[4]],[k[1],k[3],k[5]],[0,0,1]]);for(let N=0;N<3;N+=1)for(let at=0;at<3;at+=1){H=0;for(let ft=0;ft<3;ft+=1)H+=E[N][ft]*S[ft][at];x[N][at]=H}return this._matrix=[x[0][0],x[1][0],x[0][1],x[1][1],x[0][2],x[1][2]],this}};var l0=Ic,u0={calcMiddleLatLng(r,a,c){let d=r.project(a),m=r.project(c);return r.unproject(d._add(m)._divideBy(2))},findLayers(r){let a=[];return r.eachLayer(c=>{(c instanceof L.Polyline||c instanceof L.Marker||c instanceof L.Circle||c instanceof L.CircleMarker||c instanceof L.ImageOverlay)&&a.push(c)}),a=a.filter(c=>!!c.pm),a=a.filter(c=>!c._pmTempLayer),a=a.filter(c=>!L.PM.optIn&&!c.options.pmIgnore||L.PM.optIn&&c.options.pmIgnore===!1),a},circleToPolygon(r,a=60,c=!0){let d=r.getLatLng(),m=r.getRadius(),g=xl(d,m,a,0,c),x=[];for(let k=0;k<g.length;k+=1){let E=[g[k].lat,g[k].lng];x.push(E)}return L.polygon(x,r.options)},disablePopup(r){r.getPopup()&&(r._tempPopupCopy=r.getPopup(),r.unbindPopup())},enablePopup(r){r._tempPopupCopy&&(r.bindPopup(r._tempPopupCopy),delete r._tempPopupCopy)},_fireEvent(r,a,c,d=!1){r.fire(a,c,d);let{groups:m}=this.getAllParentGroups(r);m.forEach(g=>{g.fire(a,c,d)})},getAllParentGroups(r){let a=[],c=[],d=m=>{for(let g in m._eventParents)if(a.indexOf(g)===-1){a.push(g);let x=m._eventParents[g];c.push(x),d(x)}};return!r._pmLastGroupFetch||!r._pmLastGroupFetch.time||new Date().getTime()-r._pmLastGroupFetch.time>1e3?(d(r),r._pmLastGroupFetch={time:new Date().getTime(),groups:c,groupIds:a},{groupIds:a,groups:c}):{groups:r._pmLastGroupFetch.groups,groupIds:r._pmLastGroupFetch.groupIds}},createGeodesicPolygon:xl,getTranslation:Te,findDeepCoordIndex(r,a,c=!0){let d,m=x=>(k,E)=>{let S=x.concat(E);if(c){if(k.lat&&k.lat===a.lat&&k.lng===a.lng)return d=S,!0}else if(k.lat&&L.latLng(k).equals(a))return d=S,!0;return Array.isArray(k)&&k.some(m(S))};r.some(m([]));let g={};return d&&(g={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),g},findDeepMarkerIndex(r,a){let c,d=g=>(x,k)=>{let E=g.concat(k);return x._leaflet_id===a._leaflet_id?(c=E,!0):Array.isArray(x)&&x.some(d(E))};r.some(d([]));let m={};return c&&(m={indexPath:c,index:c[c.length-1],parentPath:c.slice(0,c.length-1)}),m},_getIndexFromSegment(r,a){if(a&&a.length===2){let c=this.findDeepCoordIndex(r,a[0]),d=this.findDeepCoordIndex(r,a[1]),m=Math.max(c.index,d.index);return(c.index===0||d.index===0)&&m!==1&&(m+=1),{indexA:c,indexB:d,newIndex:m,indexPath:c.indexPath,parentPath:c.parentPath}}return null},_getRotatedRectangle(r,a,c,d){let m=ns(d,r),g=ns(d,a),x=c*Math.PI/180,k=Math.cos(x),E=Math.sin(x),S=(g.x-m.x)*k+(g.y-m.y)*E,H=(g.y-m.y)*k-(g.x-m.x)*E,N=S*k+m.x,at=S*E+m.y,ft=-H*E+m.x,St=H*k+m.y,qt=zl(d,m),te=zl(d,{x:N,y:at}),Ae=zl(d,g),G=zl(d,{x:ft,y:St});return[qt,te,Ae,G]},pxRadiusToMeterRadius(r,a,c){let d=a.project(c),m=L.point(d.x+r,d.y);return a.distance(a.unproject(m),c)}},c0=u0;L.PM=L.PM||{version:Ts.version,Map:yc,Toolbar:Cl,Draw:Cn,Edit:Bn,Utils:c0,Matrix:l0,activeLang:"en",optIn:!1,initialize(r){this.addInitHooks(r)},setOptIn(r){this.optIn=!!r},addInitHooks(){function r(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(r);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(a);function c(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(c);function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(d);function m(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(m);function g(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(g);function x(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(x);function k(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(k);function E(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(E)},reInitLayer(r){r instanceof L.LayerGroup&&r.eachLayer(a=>{this.reInitLayer(a)}),r.pm||L.PM.optIn&&r.options.pmIgnore!==!1||r.options.pmIgnore||(r instanceof L.Map?r.pm=new L.PM.Map(r):r instanceof L.Marker?r.options.textMarker?(r.pm=new L.PM.Edit.Text(r),r.pm._initTextMarker(),r.pm._createTextMarker(!1)):r.pm=new L.PM.Edit.Marker(r):r instanceof L.Circle?r.pm=new L.PM.Edit.Circle(r):r instanceof L.CircleMarker?r.pm=new L.PM.Edit.CircleMarker(r):r instanceof L.Rectangle?r.pm=new L.PM.Edit.Rectangle(r):r instanceof L.Polygon?r.pm=new L.PM.Edit.Polygon(r):r instanceof L.Polyline?r.pm=new L.PM.Edit.Line(r):r instanceof L.LayerGroup?r.pm=new L.PM.Edit.LayerGroup(r):r instanceof L.ImageOverlay&&(r.pm=new L.PM.Edit.ImageOverlay(r)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(r){let a=this._map.mouseEventToLayerPoint(r),c,d;for(let m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(c))&&(d=c);d&&(L.DomEvent.fakeStop(r),this._fireEvent([d],r))}}),L.PM.initialize()})();var Df={exports:{}};(function(t,e){(function(i,o){o(e)})(us,function(i){var o=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(s){L.Util.setOptions(this,s),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(s){if(s instanceof L.LayerGroup)return this.addLayers([s]);if(!s.getLatLng)return this._nonPointGroup.addLayer(s),this.fire("layeradd",{layer:s}),this;if(!this._map)return this._needsClustering.push(s),this.fire("layeradd",{layer:s}),this;if(this.hasLayer(s))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(s,this._maxZoom),this.fire("layeradd",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=s,f=this._zoom;if(s.__parent)for(;u.__parent._zoom>=f;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(s,u):this._animationAddLayerNonAnimated(s,u)),this},removeLayer:function(s){return s instanceof L.LayerGroup?this.removeLayers([s]):(s.getLatLng?this._map?s.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(s)),this._removeLayer(s,!0),this.fire("layerremove",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),s.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(s)&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow())):(!this._arraySplice(this._needsClustering,s)&&this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})):(this._nonPointGroup.removeLayer(s),this.fire("layerremove",{layer:s})),this)},addLayers:function(s,u){if(!L.Util.isArray(s))return this.addLayer(s);var f,_=this._featureGroup,v=this._nonPointGroup,b=this.options.chunkedLoading,w=this.options.chunkInterval,P=this.options.chunkProgress,O=s.length,j=0,V=!0;if(this._map){var rt=new Date().getTime(),ht=L.bind(function(){var U=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();j<O;j++){if(b&&j%200==0){var et=new Date().getTime()-U;if(w<et)break}if((f=s[j])instanceof L.LayerGroup)V&&(s=s.slice(),V=!1),this._extractNonGroupLayers(f,s),O=s.length;else if(f.getLatLng){if(!this.hasLayer(f)&&(this._addLayer(f,this._maxZoom),u||this.fire("layeradd",{layer:f}),f.__parent&&f.__parent.getChildCount()===2)){var gt=f.__parent.getAllChildMarkers(),Bt=gt[0]===f?gt[1]:gt[0];_.removeLayer(Bt)}}else v.addLayer(f),u||this.fire("layeradd",{layer:f})}P&&P(j,O,new Date().getTime()-rt),j===O?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(ht,this.options.chunkDelay)},this);ht()}else for(var ct=this._needsClustering;j<O;j++)(f=s[j])instanceof L.LayerGroup?(V&&(s=s.slice(),V=!1),this._extractNonGroupLayers(f,s),O=s.length):f.getLatLng?this.hasLayer(f)||ct.push(f):v.addLayer(f);return this},removeLayers:function(s){var u,f,_=s.length,v=this._featureGroup,b=this._nonPointGroup,w=!0;if(!this._map){for(u=0;u<_;u++)(f=s[u])instanceof L.LayerGroup?(w&&(s=s.slice(),w=!1),this._extractNonGroupLayers(f,s),_=s.length):(this._arraySplice(this._needsClustering,f),b.removeLayer(f),this.hasLayer(f)&&this._needsRemoving.push({layer:f,latlng:f._latlng}),this.fire("layerremove",{layer:f}));return this}if(this._unspiderfy){this._unspiderfy();var P=s.slice(),O=_;for(u=0;u<O;u++)(f=P[u])instanceof L.LayerGroup?(this._extractNonGroupLayers(f,P),O=P.length):this._unspiderfyLayer(f)}for(u=0;u<_;u++)(f=s[u])instanceof L.LayerGroup?(w&&(s=s.slice(),w=!1),this._extractNonGroupLayers(f,s),_=s.length):f.__parent?(this._removeLayer(f,!0,!0),this.fire("layerremove",{layer:f}),v.hasLayer(f)&&(v.removeLayer(f),f.clusterShow&&f.clusterShow())):(b.removeLayer(f),this.fire("layerremove",{layer:f}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(s){s.off(this._childMarkerEventHandlers,this),delete s.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var s=new L.LatLngBounds;this._topClusterLevel&&s.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;0<=u;u--)s.extend(this._needsClustering[u].getLatLng());return s.extend(this._nonPointGroup.getBounds()),s},eachLayer:function(s,u){var f,_,v,b=this._needsClustering.slice(),w=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(b),_=b.length-1;0<=_;_--){for(f=!0,v=w.length-1;0<=v;v--)if(w[v].layer===b[_]){f=!1;break}f&&s.call(u,b[_])}this._nonPointGroup.eachLayer(s,u)},getLayers:function(){var s=[];return this.eachLayer(function(u){s.push(u)}),s},getLayer:function(s){var u=null;return s=parseInt(s,10),this.eachLayer(function(f){L.stamp(f)===s&&(u=f)}),u},hasLayer:function(s){if(!s)return!1;var u,f=this._needsClustering;for(u=f.length-1;0<=u;u--)if(f[u]===s)return!0;for(u=(f=this._needsRemoving).length-1;0<=u;u--)if(f[u].layer===s)return!1;return!(!s.__parent||s.__parent._group!==this)||this._nonPointGroup.hasLayer(s)},zoomToShowLayer:function(s,u){var f=this._map;typeof u!="function"&&(u=function(){});var _=function(){!f.hasLayer(s)&&!f.hasLayer(s.__parent)||this._inZoomAnimation||(this._map.off("moveend",_,this),this.off("animationend",_,this),f.hasLayer(s)?u():s.__parent._icon&&(this.once("spiderfied",u,this),s.__parent.spiderfy()))};s._icon&&this._map.getBounds().contains(s.getLatLng())?u():s.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",_,this),this._map.panTo(s.getLatLng())):(this._map.on("moveend",_,this),this.on("animationend",_,this),s.__parent.zoomToBounds())},onAdd:function(s){var u,f,_;if(this._map=s,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(s),this._nonPointGroup.addTo(s),this._gridClusters||this._generateInitialClusters(),this._maxLat=s.options.crs.projection.MAX_LATITUDE,u=0,f=this._needsRemoving.length;u<f;u++)(_=this._needsRemoving[u]).newlatlng=_.layer._latlng,_.layer._latlng=_.latlng;for(u=0,f=this._needsRemoving.length;u<f;u++)_=this._needsRemoving[u],this._removeLayer(_.layer,!0),_.layer._latlng=_.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),f=this._needsClustering,this._needsClustering=[],this.addLayers(f,!0)},onRemove:function(s){s.off("zoomend",this._zoomEnd,this),s.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(s){for(var u=s;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(s,u){for(var f=s.length-1;0<=f;f--)if(s[f]===u)return s.splice(f,1),!0},_removeFromGridUnclustered:function(s,u){for(var f=this._map,_=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());v<=u&&_[u].removeObject(s,f.project(s.getLatLng(),u));u--);},_childMarkerDragStart:function(s){s.target.__dragStart=s.target._latlng},_childMarkerMoved:function(s){if(!this._ignoreMove&&!s.target.__dragStart){var u=s.target._popup&&s.target._popup.isOpen();this._moveChild(s.target,s.oldLatLng,s.latlng),u&&s.target.openPopup()}},_moveChild:function(s,u,f){s._latlng=u,this.removeLayer(s),s._latlng=f,this.addLayer(s)},_childMarkerDragEnd:function(s){var u=s.target.__dragStart;delete s.target.__dragStart,u&&this._moveChild(s.target,u,s.target._latlng)},_removeLayer:function(s,u,f){var _=this._gridClusters,v=this._gridUnclustered,b=this._featureGroup,w=this._map,P=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(s,this._maxZoom);var O,j=s.__parent,V=j._markers;for(this._arraySplice(V,s);j&&(j._childCount--,j._boundsNeedUpdate=!0,!(j._zoom<P));)u&&j._childCount<=1?(O=j._markers[0]===s?j._markers[1]:j._markers[0],_[j._zoom].removeObject(j,w.project(j._cLatLng,j._zoom)),v[j._zoom].addObject(O,w.project(O.getLatLng(),j._zoom)),this._arraySplice(j.__parent._childClusters,j),j.__parent._markers.push(O),O.__parent=j.__parent,j._icon&&(b.removeLayer(j),f||b.addLayer(O))):j._iconNeedsUpdate=!0,j=j.__parent;delete s.__parent},_isOrIsParent:function(s,u){for(;u;){if(s===u)return!0;u=u.parentNode}return!1},fire:function(s,u,f){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;s="cluster"+s}L.FeatureGroup.prototype.fire.call(this,s,u,f)},listens:function(s,u){return L.FeatureGroup.prototype.listens.call(this,s,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+s,u)},_defaultIconCreateFunction:function(s){var u=s.getChildCount(),f=" marker-cluster-";return f+=u<10?"small":u<100?"medium":"large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+f,iconSize:new L.Point(40,40)})},_bindEvents:function(){var s=this._map,u=this.options.spiderfyOnMaxZoom,f=this.options.showCoverageOnHover,_=this.options.zoomToBoundsOnClick,v=this.options.spiderfyOnEveryZoom;(u||_||v)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),f&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),s.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(s){var u=s.layer,f=u;if(s.type!=="clusterkeypress"||!s.originalEvent||s.originalEvent.keyCode===13){for(;f._childClusters.length===1;)f=f._childClusters[0];f._zoom===this._maxZoom&&f._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),s.originalEvent&&s.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(s){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),2<s.layer.getChildCount()&&s.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(s.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var s=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,_=this.options.spiderfyOnEveryZoom,v=this._map;(s||f||_)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),v.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var s=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),s),this._currentShownBounds=s}},_generateInitialClusters:function(){var s=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),f=this.options.maxClusterRadius,_=f;typeof f!="function"&&(_=function(){return f}),this.options.disableClusteringAtZoom!==null&&(s=this.options.disableClusteringAtZoom-1),this._maxZoom=s,this._gridClusters={},this._gridUnclustered={};for(var v=s;u<=v;v--)this._gridClusters[v]=new L.DistanceGrid(_(v)),this._gridUnclustered[v]=new L.DistanceGrid(_(v));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(s,u){var f,_,v=this._gridClusters,b=this._gridUnclustered,w=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(s),s.on(this._childMarkerEventHandlers,this);w<=u;u--){f=this._map.project(s.getLatLng(),u);var P=v[u].getNearObject(f);if(P)return P._addChild(s),void(s.__parent=P);if(P=b[u].getNearObject(f)){var O=P.__parent;O&&this._removeLayer(P,!1);var j=new this._markerCluster(this,u,P,s);v[u].addObject(j,this._map.project(j._cLatLng,u)),P.__parent=j;var V=s.__parent=j;for(_=u-1;_>O._zoom;_--)V=new this._markerCluster(this,_,V),v[_].addObject(V,this._map.project(P.getLatLng(),_));return O._addChild(V),void this._removeFromGridUnclustered(P,u)}b[u].addObject(s,f)}this._topClusterLevel._addChild(s),s.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(s){s instanceof L.MarkerCluster&&s._iconNeedsUpdate&&s._updateIcon()})},_enqueue:function(s){this._queue.push(s),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var s=0;s<this._queue.length;s++)this._queue[s].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var s=Math.round(this._map._zoom);this._processQueue(),this._zoom<s&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,s)):this._zoom>s?(this._animationStart(),this._animationZoomOut(this._zoom,s)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(s){var u=this._maxLat;return u!==void 0&&(s.getNorth()>=u&&(s._northEast.lat=1/0),s.getSouth()<=-u&&(s._southWest.lat=-1/0)),s},_animationAddLayerNonAnimated:function(s,u){if(u===s)this._featureGroup.addLayer(s);else if(u._childCount===2){u._addToMap();var f=u.getAllChildMarkers();this._featureGroup.removeLayer(f[0]),this._featureGroup.removeLayer(f[1])}else u._updateIcon()},_extractNonGroupLayers:function(s,u){var f,_=s.getLayers(),v=0;for(u=u||[];v<_.length;v++)(f=_[v])instanceof L.LayerGroup?this._extractNonGroupLayers(f,u):u.push(f);return u},_overrideMarkerIcon:function(s){return s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(s,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(s,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(s,u){this._animationAddLayerNonAnimated(s,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(s,u){var f,_=this._getExpandedVisibleBounds(),v=this._featureGroup,b=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(_,s,b,function(w){var P,O=w._latlng,j=w._markers;for(_.contains(O)||(O=null),w._isSingleParent()&&s+1===u?(v.removeLayer(w),w._recursivelyAddChildrenToMap(null,u,_)):(w.clusterHide(),w._recursivelyAddChildrenToMap(O,u,_)),f=j.length-1;0<=f;f--)P=j[f],_.contains(P._latlng)||v.removeLayer(P)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(_,u),v.eachLayer(function(w){w instanceof L.MarkerCluster||!w._icon||w.clusterShow()}),this._topClusterLevel._recursively(_,s,u,function(w){w._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(_,s,b,function(w){v.removeLayer(w),w.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(s,u){this._animationZoomOutSingle(this._topClusterLevel,s-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s,this._getExpandedVisibleBounds())},_animationAddLayer:function(s,u){var f=this,_=this._featureGroup;_.addLayer(s),u!==s&&(2<u._childCount?(u._updateIcon(),this._forceLayout(),this._animationStart(),s._setPos(this._map.latLngToLayerPoint(u.getLatLng())),s.clusterHide(),this._enqueue(function(){_.removeLayer(s),s.clusterShow(),f._animationEnd()})):(this._forceLayout(),f._animationStart(),f._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(s,u,f){var _=this._getExpandedVisibleBounds(),v=Math.floor(this._map.getMinZoom());s._recursivelyAnimateChildrenInAndAddSelfToMap(_,v,u+1,f);var b=this;this._forceLayout(),s._recursivelyBecomeVisible(_,f),this._enqueue(function(){if(s._childCount===1){var w=s._markers[0];this._ignoreMove=!0,w.setLatLng(w.getLatLng()),this._ignoreMove=!1,w.clusterShow&&w.clusterShow()}else s._recursively(_,f,v,function(P){P._recursivelyRemoveChildrenFromMap(_,v,u+1)});b._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(s){return new L.MarkerClusterGroup(s)};var h=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(s,u,f,_){L.Marker.prototype.initialize.call(this,f?f._cLatLng||f.getLatLng():new L.LatLng(0,0),{icon:this,pane:s.options.clusterPane}),this._group=s,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,f&&this._addChild(f),_&&this._addChild(_)},getAllChildMarkers:function(s,u){s=s||[];for(var f=this._childClusters.length-1;0<=f;f--)this._childClusters[f].getAllChildMarkers(s,u);for(var _=this._markers.length-1;0<=_;_--)u&&this._markers[_].__dragStart||s.push(this._markers[_]);return s},getChildCount:function(){return this._childCount},zoomToBounds:function(s){for(var u,f=this._childClusters.slice(),_=this._group._map,v=_.getBoundsZoom(this._bounds),b=this._zoom+1,w=_.getZoom();0<f.length&&b<v;){b++;var P=[];for(u=0;u<f.length;u++)P=P.concat(f[u]._childClusters);f=P}b<v?this._group._map.setView(this._latlng,b):v<=w?this._group._map.setView(this._latlng,w+1):this._group._map.fitBounds(this._bounds,s)},getBounds:function(){var s=new L.LatLngBounds;return s.extend(this._bounds),s},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(s,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(s),s instanceof L.MarkerCluster?(u||(this._childClusters.push(s),s.__parent=this),this._childCount+=s._childCount):(u||this._markers.push(s),this._childCount++),this.__parent&&this.__parent._addChild(s,!0)},_setClusterCenter:function(s){this._cLatLng||(this._cLatLng=s._cLatLng||s._latlng)},_resetBounds:function(){var s=this._bounds;s._southWest&&(s._southWest.lat=1/0,s._southWest.lng=1/0),s._northEast&&(s._northEast.lat=-1/0,s._northEast.lng=-1/0)},_recalculateBounds:function(){var s,u,f,_,v=this._markers,b=this._childClusters,w=0,P=0,O=this._childCount;if(O!==0){for(this._resetBounds(),s=0;s<v.length;s++)f=v[s]._latlng,this._bounds.extend(f),w+=f.lat,P+=f.lng;for(s=0;s<b.length;s++)(u=b[s])._boundsNeedUpdate&&u._recalculateBounds(),this._bounds.extend(u._bounds),f=u._wLatLng,_=u._childCount,w+=f.lat*_,P+=f.lng*_;this._latlng=this._wLatLng=new L.LatLng(w/O,P/O),this._boundsNeedUpdate=!1}},_addToMap:function(s){s&&(this._backupLatlng=this._latlng,this.setLatLng(s)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(s,u,f){this._recursively(s,this._group._map.getMinZoom(),f-1,function(_){var v,b,w=_._markers;for(v=w.length-1;0<=v;v--)(b=w[v])._icon&&(b._setPos(u),b.clusterHide())},function(_){var v,b,w=_._childClusters;for(v=w.length-1;0<=v;v--)(b=w[v])._icon&&(b._setPos(u),b.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(s,u,f,_){this._recursively(s,_,u,function(v){v._recursivelyAnimateChildrenIn(s,v._group._map.latLngToLayerPoint(v.getLatLng()).round(),f),v._isSingleParent()&&f-1===_?(v.clusterShow(),v._recursivelyRemoveChildrenFromMap(s,u,f)):v.clusterHide(),v._addToMap()})},_recursivelyBecomeVisible:function(s,u){this._recursively(s,this._group._map.getMinZoom(),u,null,function(f){f.clusterShow()})},_recursivelyAddChildrenToMap:function(s,u,f){this._recursively(f,this._group._map.getMinZoom()-1,u,function(_){if(u!==_._zoom)for(var v=_._markers.length-1;0<=v;v--){var b=_._markers[v];f.contains(b._latlng)&&(s&&(b._backupLatlng=b.getLatLng(),b.setLatLng(s),b.clusterHide&&b.clusterHide()),_._group._featureGroup.addLayer(b))}},function(_){_._addToMap(s)})},_recursivelyRestoreChildPositions:function(s){for(var u=this._markers.length-1;0<=u;u--){var f=this._markers[u];f._backupLatlng&&(f.setLatLng(f._backupLatlng),delete f._backupLatlng)}if(s-1===this._zoom)for(var _=this._childClusters.length-1;0<=_;_--)this._childClusters[_]._restorePosition();else for(var v=this._childClusters.length-1;0<=v;v--)this._childClusters[v]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(s,u,f,_){var v,b;this._recursively(s,u-1,f-1,function(w){for(b=w._markers.length-1;0<=b;b--)v=w._markers[b],_&&_.contains(v._latlng)||(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())},function(w){for(b=w._childClusters.length-1;0<=b;b--)v=w._childClusters[b],_&&_.contains(v._latlng)||(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())})},_recursively:function(s,u,f,_,v){var b,w,P=this._childClusters,O=this._zoom;if(u<=O&&(_&&_(this),v&&O===f&&v(this)),O<u||O<f)for(b=P.length-1;0<=b;b--)(w=P[b])._boundsNeedUpdate&&w._recalculateBounds(),s.intersects(w._bounds)&&w._recursively(s,u,f,_,v)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var s=this.options.opacity;return this.setOpacity(0),this.options.opacity=s,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(s){this._cellSize=s,this._sqCellSize=s*s,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(s,u){var f=this._getCoord(u.x),_=this._getCoord(u.y),v=this._grid,b=v[_]=v[_]||{},w=b[f]=b[f]||[],P=L.Util.stamp(s);this._objectPoint[P]=u,w.push(s)},updateObject:function(s,u){this.removeObject(s),this.addObject(s,u)},removeObject:function(s,u){var f,_,v=this._getCoord(u.x),b=this._getCoord(u.y),w=this._grid,P=w[b]=w[b]||{},O=P[v]=P[v]||[];for(delete this._objectPoint[L.Util.stamp(s)],f=0,_=O.length;f<_;f++)if(O[f]===s)return O.splice(f,1),_===1&&delete P[v],!0},eachObject:function(s,u){var f,_,v,b,w,P,O=this._grid;for(f in O)for(_ in w=O[f])for(v=0,b=(P=w[_]).length;v<b;v++)s.call(u,P[v])&&(v--,b--)},getNearObject:function(s){var u,f,_,v,b,w,P,O,j=this._getCoord(s.x),V=this._getCoord(s.y),rt=this._objectPoint,ht=this._sqCellSize,ct=null;for(u=V-1;u<=V+1;u++)if(v=this._grid[u]){for(f=j-1;f<=j+1;f++)if(b=v[f])for(_=0,w=b.length;_<w;_++)P=b[_],((O=this._sqDist(rt[L.Util.stamp(P)],s))<ht||O<=ht&&ct===null)&&(ht=O,ct=P)}return ct},_getCoord:function(s){var u=Math.floor(s/this._cellSize);return isFinite(u)?u:s},_sqDist:function(s,u){var f=u.x-s.x,_=u.y-s.y;return f*f+_*_}},L.QuickHull={getDistant:function(s,u){var f=u[1].lat-u[0].lat;return(u[0].lng-u[1].lng)*(s.lat-u[0].lat)+f*(s.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(s,u){var f,_,v,b=0,w=null,P=[];for(f=u.length-1;0<=f;f--)_=u[f],0<(v=this.getDistant(_,s))&&(P.push(_),b<v&&(b=v,w=_));return{maxPoint:w,newPoints:P}},buildConvexHull:function(s,u){var f=[],_=this.findMostDistantPointFromBaseLine(s,u);return _.maxPoint?f=(f=f.concat(this.buildConvexHull([s[0],_.maxPoint],_.newPoints))).concat(this.buildConvexHull([_.maxPoint,s[1]],_.newPoints)):[s[0]]},getConvexHull:function(s){var u,f=!1,_=!1,v=!1,b=!1,w=null,P=null,O=null,j=null,V=null,rt=null;for(u=s.length-1;0<=u;u--){var ht=s[u];(f===!1||ht.lat>f)&&(f=(w=ht).lat),(_===!1||ht.lat<_)&&(_=(P=ht).lat),(v===!1||ht.lng>v)&&(v=(O=ht).lng),(b===!1||ht.lng<b)&&(b=(j=ht).lng)}return V=_!==f?(rt=P,w):(rt=j,O),[].concat(this.buildConvexHull([rt,V],s),this.buildConvexHull([V,rt],s))}},L.MarkerCluster.include({getConvexHull:function(){var s,u,f=this.getAllChildMarkers(),_=[];for(u=f.length-1;0<=u;u--)s=f[u].getLatLng(),_.push(s);return L.QuickHull.getConvexHull(_)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var s,u=this.getAllChildMarkers(null,!0),f=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),s=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(u.length,f):u.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(u.length,f):(f.y+=10,this._generatePointsCircle(u.length,f)),this._animationSpiderfy(u,s)}},unspiderfy:function(s){this._group._inZoomAnimation||(this._animationUnspiderfy(s),this._group._spiderfied=null)},_generatePointsCircle:function(s,u){var f,_,v=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+s)/this._2PI,b=this._2PI/s,w=[];for(v=Math.max(v,35),w.length=s,f=0;f<s;f++)_=this._circleStartAngle+f*b,w[f]=new L.Point(u.x+v*Math.cos(_),u.y+v*Math.sin(_))._round();return w},_generatePointsSpiral:function(s,u){var f,_=this._group.options.spiderfyDistanceMultiplier,v=_*this._spiralLengthStart,b=_*this._spiralFootSeparation,w=_*this._spiralLengthFactor*this._2PI,P=0,O=[];for(f=O.length=s;0<=f;f--)f<s&&(O[f]=new L.Point(u.x+v*Math.cos(P),u.y+v*Math.sin(P))._round()),v+=w/(P+=b/v+5e-4*f);return O},_noanimationUnspiderfy:function(){var s,u,f=this._group,_=f._map,v=f._featureGroup,b=this.getAllChildMarkers(null,!0);for(f._ignoreMove=!0,this.setOpacity(1),u=b.length-1;0<=u;u--)s=b[u],v.removeLayer(s),s._preSpiderfyLatlng&&(s.setLatLng(s._preSpiderfyLatlng),delete s._preSpiderfyLatlng),s.setZIndexOffset&&s.setZIndexOffset(0),s._spiderLeg&&(_.removeLayer(s._spiderLeg),delete s._spiderLeg);f.fire("unspiderfied",{cluster:this,markers:b}),f._ignoreMove=!1,f._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(s,u){var f,_,v,b,w=this._group,P=w._map,O=w._featureGroup,j=this._group.options.spiderLegPolylineOptions;for(w._ignoreMove=!0,f=0;f<s.length;f++)b=P.layerPointToLatLng(u[f]),_=s[f],v=new L.Polyline([this._latlng,b],j),P.addLayer(v),_._spiderLeg=v,_._preSpiderfyLatlng=_._latlng,_.setLatLng(b),_.setZIndexOffset&&_.setZIndexOffset(1e6),O.addLayer(_);this.setOpacity(.3),w._ignoreMove=!1,w.fire("spiderfied",{cluster:this,markers:s})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(s,u){var f,_,v,b,w,P,O=this,j=this._group,V=j._map,rt=j._featureGroup,ht=this._latlng,ct=V.latLngToLayerPoint(ht),U=L.Path.SVG,et=L.extend({},this._group.options.spiderLegPolylineOptions),gt=et.opacity;for(gt===void 0&&(gt=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),U?(et.opacity=0,et.className=(et.className||"")+" leaflet-cluster-spider-leg"):et.opacity=gt,j._ignoreMove=!0,f=0;f<s.length;f++)_=s[f],P=V.layerPointToLatLng(u[f]),v=new L.Polyline([ht,P],et),V.addLayer(v),_._spiderLeg=v,U&&(w=(b=v._path).getTotalLength()+.1,b.style.strokeDasharray=w,b.style.strokeDashoffset=w),_.setZIndexOffset&&_.setZIndexOffset(1e6),_.clusterHide&&_.clusterHide(),rt.addLayer(_),_._setPos&&_._setPos(ct);for(j._forceLayout(),j._animationStart(),f=s.length-1;0<=f;f--)P=V.layerPointToLatLng(u[f]),(_=s[f])._preSpiderfyLatlng=_._latlng,_.setLatLng(P),_.clusterShow&&_.clusterShow(),U&&((b=(v=_._spiderLeg)._path).style.strokeDashoffset=0,v.setStyle({opacity:gt}));this.setOpacity(.3),j._ignoreMove=!1,setTimeout(function(){j._animationEnd(),j.fire("spiderfied",{cluster:O,markers:s})},200)},_animationUnspiderfy:function(s){var u,f,_,v,b,w,P=this,O=this._group,j=O._map,V=O._featureGroup,rt=s?j._latLngToNewLayerPoint(this._latlng,s.zoom,s.center):j.latLngToLayerPoint(this._latlng),ht=this.getAllChildMarkers(null,!0),ct=L.Path.SVG;for(O._ignoreMove=!0,O._animationStart(),this.setOpacity(1),f=ht.length-1;0<=f;f--)(u=ht[f])._preSpiderfyLatlng&&(u.closePopup(),u.setLatLng(u._preSpiderfyLatlng),delete u._preSpiderfyLatlng,w=!0,u._setPos&&(u._setPos(rt),w=!1),u.clusterHide&&(u.clusterHide(),w=!1),w&&V.removeLayer(u),ct&&(b=(v=(_=u._spiderLeg)._path).getTotalLength()+.1,v.style.strokeDashoffset=b,_.setStyle({opacity:0})));O._ignoreMove=!1,setTimeout(function(){var U=0;for(f=ht.length-1;0<=f;f--)(u=ht[f])._spiderLeg&&U++;for(f=ht.length-1;0<=f;f--)(u=ht[f])._spiderLeg&&(u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),1<U&&V.removeLayer(u),j.removeLayer(u._spiderLeg),delete u._spiderLeg);O._animationEnd(),O.fire("unspiderfied",{cluster:P,markers:ht})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(s){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(s))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(s){this._spiderfied&&this._spiderfied.unspiderfy(s)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(s){s._spiderLeg&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow(),s.setZIndexOffset&&s.setZIndexOffset(0),this._map.removeLayer(s._spiderLeg),delete s._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(s){return s?s instanceof L.MarkerClusterGroup?s=s._topClusterLevel.getAllChildMarkers():s instanceof L.LayerGroup?s=s._layers:s instanceof L.MarkerCluster?s=s.getAllChildMarkers():s instanceof L.Marker&&(s=[s]):s=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(s),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(s),this},_flagParentsIconsNeedUpdate:function(s){var u,f;for(u in s)for(f=s[u].__parent;f;)f._iconNeedsUpdate=!0,f=f.__parent},_refreshSingleMarkerModeMarkers:function(s){var u,f;for(u in s)f=s[u],this.hasLayer(f)&&f.setIcon(this._overrideMarkerIcon(f))}}),L.Marker.include({refreshIconOptions:function(s,u){var f=this.options.icon;return L.setOptions(f,s),this.setIcon(f),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),i.MarkerClusterGroup=o,i.MarkerCluster=h,Object.defineProperty(i,"__esModule",{value:!0})})})(Df,Df.exports);const dM={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:0},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Function,default:()=>({})},prefix:{type:[String,Boolean],default:!1},cluster:{type:Boolean,default:!1},maxClusterRadius:{type:Number,default:20},clusterIconCreateFunction:{type:Function,default:void 0}},emits:["add:layer","drag:layer","draw:start","edit:layer","geojson","geojson:ready","zoom:change","zoom:start"],setup(t,{expose:e,emit:i}){delete ni.Icon.Default.prototype._getIconUrl,ni.Icon.Default.mergeOptions({iconRetinaUrl:tM,iconUrl:eM,shadowUrl:nM});const o=t,h=i;let s,u,f,_;const v=Jt(null),b=Yt(()=>({maxZoom:o.zoomBounds,zoom:{animate:o.zoomAnimate}}));vn(()=>o.geojson,U=>{_.clearLayers(),ht(U)},{deep:!0}),vn(()=>o.dragging,U=>{U?s.dragging.enable():s.dragging.disable()});function w(){const U={maxClusterRadius:o.maxClusterRadius};return o.clusterIconCreateFunction&&Object.assign(U,{iconCreateFunction:et=>o.clusterIconCreateFunction({L:ni,cluster:et})}),U}On(()=>{const U=YE(ni,{maxZoom:o.maxZoom,minZoom:o.minZoom,className:"map-tiles"}),[et]=Object.values(U),gt={center:o.center,zoom:o.zoom,worldCopyJump:!0,dragging:o.dragging,maxZoom:o.maxZoom};o.disableZoom&&Object.assign(gt,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),f=new ni.FeatureGroup,_=o.cluster?new ni.markerClusterGroup(w()):new ni.FeatureGroup,s=ni.map(v.value,gt),s.attributionControl.setPrefix(o.prefix),s.pm.setGlobalOptions({layerGroup:f}),_.addTo(s),s.addLayer(f),s.addLayer(_),o.geojson&&ht(o.geojson),o.controls&&(s.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),s.on("pm:create",Bt=>{h("geojson",P()),h("add:layer",j(Bt.layer))}),f.on("pm:edit",Bt=>{h("geojson",P()),h("edit:layer",j(Bt.layer))}),s.on("pm:drawstart",Bt=>{O(),h("draw:start",Bt)}),s.on("zoom",Bt=>h("zoom:change",Bt)),s.on("zoomstart",Bt=>h("zoom:start",Bt))),et.addTo(s),Object.keys(U).length>1&&ni.control.layers(U,{},{position:"topleft",collapsed:!1}).addTo(s),rt()});function P(){const U=ni.featureGroup();return f.eachLayer(et=>{(et instanceof ni.Path||et instanceof ni.Marker)&&et.pm&&U.addLayer(et)}),U.toGeoJSON()}function O(){f.clearLayers()}function j(U){const et=U.toGeoJSON();return typeof U.getRadius=="function"&&(et.properties.radius=U.getRadius()),et}const V=()=>{if(!_)return;const U=_.getBounds();s.invalidateSize(),Za(()=>{Object.keys(U).length&&s.fitBounds(U,b.value)})},rt=()=>{u=new ResizeObserver(U=>{U[0].contentRect,V()}),u.observe(v.value)};gr(()=>{_.clearLayers(),u==null||u.disconnect()});function ht(U){if(U){const et={L:ni};ni.geoJSON(U,{...hM(et),...o.geojsonOptions(et)}).addTo(_);const gt=_.getBounds();gt.isValid()&&s.fitBounds(gt,b.value)}h("geojson:ready",_)}function ct(){return s}return e({clearDrawLayers:O,getMapObject:ct,resizeMap:V}),(U,et)=>(A(),Z("div",{ref_key:"leafletMap",ref:v,style:Ci({width:o.width,height:o.height})},null,4))}};function pM(t){fM(t,Object.assign({"/src/components/Map/VMap.client.vue":dM}))}function fM(t,e){Object.entries(e).forEach(([o,h])=>{const s=o.split("/").pop().replace(/\.client.\w+$/,"");t.component(s,h)})}const mM=["innerHTML"],_M={key:0,class:"h-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},gM={key:1,class:"inline h-4 w-1"},yM=["innerHTML"],vM={__name:"AddressMaker.global",props:{items:{type:Array,required:!0}},setup(t){const e=t,i=Yt(()=>{const[h,...s]=e.items;return{username:h,host:s}});function o(){const[h,...s]=e.items;document.location.href=`mailto:${h}@${s.join(".")}`}return(h,s)=>(A(),Z("span",{class:"text-secondary-color cursor-pointer whitespace-nowrap",onClick:o},[$("span",{innerHTML:i.value.username},null,8,mM),(A(!0),Z(Ut,null,fe(i.value.host,(u,f)=>(A(),Z(Ut,null,[f===0?(A(),Z("svg",_M,s[0]||(s[0]=[$("path",{"stroke-linecap":"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"},null,-1)]))):(A(),Z("svg",gM,s[1]||(s[1]=[$("circle",{cy:"calc(100% - 5px)",cx:"2.5",r:"1",fill:"currentColor"},null,-1)]))),$("span",{innerHTML:u},null,8,yM)],64))),256))]))}},bM={};function xM(t,e){return A(),wt(Au,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:nt(()=>[be(t.$slots,"default")]),_:3})}const wM=xe(bM,[["render",xM]]),LM={},CM={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"};function kM(t,e){return A(),Z("svg",CM,e[0]||(e[0]=[ev('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1)]))}const EM=xe(LM,[["render",kM]]),MM={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},PM={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},SM=["placeholder"],BM={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},TM=["onClick"],AM=["innerHTML"],OM=500,RM={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(t,{emit:e}){const i=t,o=e,h=Jt(""),s=Jt([]),u=Jt(!1),f=Jt(null);let _;vn(h,b=>{clearTimeout(_),b.length?_=setTimeout(()=>{u.value=!0,kn.get(i.url,{params:{...i.params,[i.queryParam]:h.value}}).then(({data:w})=>{u.value=!1,s.value=w})},OM):s.value=[]});const v=b=>{o("select",b),h.value=""};return On(()=>{i.autofocus&&f.value.focus()}),(b,w)=>{const P=_t("IconSearch");return A(),Z("div",MM,[$("div",PM,[X(P,{class:"w-4 h-4 text-gray-500"})]),An($("input",{"onUpdate:modelValue":w[0]||(w[0]=O=>h.value=O),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:t.placeholder,ref_key:"inputElement",ref:f},null,8,SM),[[pd,h.value]]),u.value?(A(),wt(EM,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Rt("",!0),s.value.length?(A(),Z("ul",BM,[(A(!0),Z(Ut,null,fe(s.value,O=>(A(),Z("li",{key:O.id,class:"autocomplete__item px-3 py-2 border-b text-xs text-base-content cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:j=>v(O)},[$("span",{innerHTML:O[t.label]},null,8,AM)],8,TM))),128))])):Rt("",!0)])}}},jg=xe(RM,[["__scopeId","data-v-bd0dac97"]]),DM={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(t){const e=Wa(),i=({id:o,otu_valid_id:h})=>{e.push({name:"otus-id-overview",params:{id:h||o}})};return(o,h)=>(A(),wt(jg,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:t.autofocus,params:{having_taxon_name_only:!0},onSelect:i},null,8,["autofocus"]))}},IM=["title"],FM={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const i=t,o=e,h=Yt({get(){return i.modelValue},set(s){o("update:modelValue",s)}});return(s,u)=>{const f=_t("IconMinusCircle"),_=_t("IconPlusCircle");return A(),Z("button",{type:"button",title:h.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:u[0]||(u[0]=v=>h.value=!h.value)},[h.value?(A(),wt(f,{key:0,class:"w-5 h-5"})):(A(),wt(_,{key:1,class:"w-5 h-5"}))],8,IM)}}},jM={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(t){return(e,i)=>(A(),Z("button",{type:"button",class:hn(["px-3","py-1","hover:bg-opacity-80",{"bg-primary-color":t.primary,"bg-secondary-color":t.secondary,"text-primary-content":t.primary,"text-secondary-content":t.secondary}])},[be(e.$slots,"default")],2))}},NM={},zM={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function VM(t,e){return A(),Z("div",zM,[be(t.$slots,"default")])}const UM=xe(NM,[["render",VM]]),GM={},HM={class:"p-4 pl-5 pr-5"};function $M(t,e){return A(),Z("div",HM,[be(t.$slots,"default")])}const ZM=xe(GM,[["render",$M]]),qM={},KM={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function WM(t,e){return A(),Z("div",KM,[be(t.$slots,"default")])}const JM=xe(qM,[["render",WM]]),YM={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(t){const e=t,i=Jt(!1);let o;function h(){navigator.clipboard.writeText(e.text).then(()=>{i.value=!0,o=setTimeout(()=>{i.value=!1},e.delay)})}return Ji(()=>{clearTimeout(o)}),(s,u)=>{const f=_t("IconCheck"),_=_t("IconClipboard"),v=_t("VButton");return A(),wt(v,{class:"px-2 py-2 rounded-full",primary:"",onClick:h},{default:nt(()=>[i.value?(A(),wt(f,{key:0,class:"w-4 h-4"})):(A(),wt(_,{key:1,class:"w-4 h-4"}))]),_:1})}}},XM={class:"relative inline"},QM=["onClick"],tP={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(t){const e=Jt(null),i=Jt(!1),o=()=>{i.value=!i.value},h=u=>{i.value=!1,u.action()};function s(u){var f;(!u.target||!((f=e.value)!=null&&f.contains(u.target)))&&(i.value=!1)}return On(()=>{document.addEventListener("pointerdown",s,{passive:!0,capture:!0})}),Ji(()=>{document.removeEventListener("pointerdown",s,{capture:!0})}),(u,f)=>(A(),Z("div",XM,[$("button",{title:"Menu",onClick:o},[be(u.$slots,"button")]),i.value?(A(),Z("ul",{key:0,ref_key:"element",ref:e,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(A(!0),Z(Ut,null,fe(t.items,_=>(A(),Z("li",{key:_.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:v=>h(_)},Ft(_.label),9,QM))),128))],512)):Rt("",!0)]))}};function Ng({props:t}){const e=Jt([]);function i(o){var h,s;return{id:o.id,objectId:o.depiction_object_id,objectType:o.depiction_object_type,objectLabel:o.depiction_object.label,label:o.label,imageOriginal:o.image.original,imageMedium:o.image.medium,attribution:((h=o.attribution)==null?void 0:h.label)||"",labelAttribution:[o.depiction_object.label,((s=o.attribution)==null?void 0:s.label)||""].join(" ")}}return vn(()=>t.depictionId,o=>{o.length&&kn.get("/depictions/gallery",{params:{depiction_id:o}}).then(({data:h})=>{e.value=h.map(i).sort((s,u)=>t.depictionId.indexOf(s.id)-t.depictionId.indexOf(u.id))})},{immediate:!0}),{depictions:e}}const eP=["src","alt"],nP={class:"bg-black bg-opacity-25 absolute h-full w-full"},iP={key:0,class:"z-10 text-white text-sm drop-shadow absolute bottom-2 right-0 px-4"},rP=["innerHTML"],oP={__name:"GalleryCarousel.global",props:{depictionId:{type:Array,default:()=>[]},interval:{type:Number,default:1e4},height:{type:String,default:"550px"}},setup(t){const e=t,{depictions:i}=Ng({props:e}),o=Jt(0),h=Yt(()=>({height:e.height})),s=Yt(()=>i.value[o.value]||{}),u=Yt(()=>s.value.objectType==="Otu"),f=Yt(()=>[s.value.objectLabel,s.value.attribution].join(" "));let _=null;function v(){o.value=(o.value+1)%i.value.length}return vn(i,()=>{e.interval?(clearInterval(_),_=setInterval(v,e.interval)):o.value=Math.floor(Math.random()*i.value.length)}),Ji(()=>{clearInterval(_)}),(b,w)=>{const P=_t("RouterLink");return A(),Z("div",{class:"w-full relative",style:Ci(h.value)},[X(Au,{name:"fade"},{default:nt(()=>[s.value.imageOriginal?(A(),Z("img",{key:s.value.imageOriginal,class:"object-cover overflow-hidden h-full w-full absolute top-0 my-0",src:s.value.imageOriginal,alt:s.value.label},null,8,eP)):Rt("",!0)]),_:1}),$("div",nP,[be(b.$slots,"default",{},void 0,!0)]),s.value.objectId?(A(),Z("span",iP,[u.value?(A(),wt(P,{key:0,class:"text-white decoration-transparent",to:{name:"otus-id",params:{id:s.value.objectId}},innerHTML:f.value},null,8,["to","innerHTML"])):(A(),Z("span",{key:1,innerHTML:f.value},null,8,rP))])):Rt("",!0)],4)}}},sP=xe(oP,[["__scopeId","data-v-0e946aee"]]),aP=["title"],lP=["alt","src"],uP={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(t){return(e,i)=>(A(),Z("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:t.title},[$("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:t.title,src:t.image.thumb},null,8,lP)],8,aP))}},cP={class:"flex flex-row overflow-x-auto print:flex-wrap gap-1.5"},zg={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(t,{emit:e}){const i=e;return(o,h)=>(A(),Z("div",cP,[(A(!0),Z(Ut,null,fe(t.images,(s,u)=>{var f;return A(),Z("div",{key:s.id},[X(uP,{image:s,class:hn({"border border-secondary-color":t.current===u}),title:(f=s.depictions)==null?void 0:f.map(_=>_.label).join(";"),onClick:_=>i("selectIndex",u)},null,8,["image","class","title","onClick"])])}),128))]))}},hP={class:"h-80 max-h-80 flex items-center justify-center"},dP=["textContent"],pP=["src","alt"],fP={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(t,{emit:e}){const i=t,o=e,h=Jt(!1),s=Jt(null),u=Jt(null);vn(()=>i.image,v=>{v.original&&(u.value=null,h.value=!0)});function f(v){v.preventDefault(),h.value=!1,u.value="Image was not found or format is not supported"}function _(){h.value=!1}return On(()=>{s.value.addEventListener("load",_),s.value.addEventListener("error",f)}),(v,b)=>{var O;const w=_t("VSpinner"),P=_t("ClientOnly");return A(),Z("div",hP,[X(P,null,{default:nt(()=>[h.value?(A(),wt(w,{key:0})):Rt("",!0)]),_:1}),u.value?(A(),Z("span",{key:0,textContent:Ft(u.value)},null,8,dP)):Rt("",!0),An($("img",{ref_key:"imageElement",ref:s,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:t.image.original,alt:(O=t.image.depictions)==null?void 0:O.map(j=>j.label).join(";"),onClick:b[0]||(b[0]=j=>o("open:viewer"))},null,8,pP),[[Ou,!u.value]])])}}},mP={class:"flex flex-col"},_P={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},gP={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(t){const e=t,i=Jt(!1),o=Jt(0),h=Yt(()=>e.images[o.value]||{}),s=()=>{o.value--},u=()=>{o.value++};return vn(()=>e.images,()=>{o.value=0},{immediate:!0}),(f,_)=>{const v=_t("ImageViewer");return A(),Z(Ut,null,[$("div",mP,[$("div",_P,[X(fP,{image:h.value,"onOpen:viewer":_[0]||(_[0]=()=>i.value=!0)},null,8,["image"])]),X(zg,{class:"pt-2 pb-2",images:t.images,onSelectIndex:_[1]||(_[1]=b=>{o.value=b})},null,8,["images"])]),i.value?(A(),wt(v,{key:0,index:o.value,images:t.images,next:o.value<e.images.length-1,previous:o.value>0,onSelectIndex:_[2]||(_[2]=b=>o.value=b),onNext:_[3]||(_[3]=b=>u()),onPrevious:_[4]||(_[4]=b=>s()),onClose:_[5]||(_[5]=b=>i.value=!1)},null,8,["index","images","next","previous"])):Rt("",!0)],64)}}},yP=["src"],vP=["innerHTML"],bP={__name:"GalleryMosaic.global",props:{depictionId:{type:Array,default:()=>[]},imageHeight:{type:String,default:"112px"},imageWidth:{type:String,default:"200px"},wrap:{type:Boolean,default:!1},label:{type:Boolean,default:!1}},setup(t){const e=t,i=Yt(()=>({height:e.imageHeight}));function o(s){return s.objectType==="Otu"?"RouterLink":"div"}const{depictions:h}=Ng({props:e});return(s,u)=>(A(),Z("div",{class:hn(["grid","gap-2",{"grid-flow-col":!e.wrap}]),style:Ci(e.wrap&&`grid-template-columns: repeat(auto-fit, minmax(${e.imageWidth}, 1fr))`)},[(A(!0),Z(Ut,null,fe(zt(h),f=>(A(),wt(Eo(o(f)),{key:f.id,to:{name:"otus-id",params:{id:f.objectId}}},{default:nt(()=>[$("img",{src:f.imageMedium,style:Ci(i.value),class:"max-w-full my-0 object-cover w-full"},null,12,yP),t.label?(A(),Z("span",{key:0,class:"text-sm",innerHTML:f.labelAttribution},null,8,vP)):Rt("",!0)]),_:2},1032,["to"]))),128))],6))}},xP={},wP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function LP(t,e){return A(),Z("svg",wP,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))}const CP=xe(xP,[["render",LP]]),kP={},EP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function MP(t,e){return A(),Z("svg",EP,e[0]||(e[0]=[$("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1)]))}const PP=xe(kP,[["render",MP]]),SP={},BP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function TP(t,e){return A(),Z("svg",BP,e[0]||(e[0]=[$("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1)]))}const AP=xe(SP,[["render",TP]]),OP={},RP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function DP(t,e){return A(),Z("svg",RP,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1)]))}const IP=xe(OP,[["render",DP]]),FP={},jP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function NP(t,e){return A(),Z("svg",jP,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1)]))}const zP=xe(FP,[["render",NP]]),VP={},UP={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function GP(t,e){return A(),Z("svg",UP,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)]))}const HP=xe(VP,[["render",GP]]),$P={},ZP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function qP(t,e){return A(),Z("svg",ZP,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)]))}const KP=xe($P,[["render",qP]]),WP={},JP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function YP(t,e){return A(),Z("svg",JP,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1)]))}const XP=xe(WP,[["render",YP]]),QP={},tS={viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true"};function eS(t,e){return A(),Z("svg",tS,e[0]||(e[0]=[$("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1)]))}const nS=xe(QP,[["render",eS]]),iS={},rS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function oS(t,e){return A(),Z("svg",rS,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1)]))}const sS=xe(iS,[["render",oS]]),aS={},lS={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"};function uS(t,e){return A(),Z("svg",lS,e[0]||(e[0]=[$("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1)]))}const cS=xe(aS,[["render",uS]]),hS={},dS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function pS(t,e){return A(),Z("svg",dS,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))}const fS=xe(hS,[["render",pS]]),mS={},_S={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function gS(t,e){return A(),Z("svg",_S,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))}const yS=xe(mS,[["render",gS]]),vS={},bS={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function xS(t,e){return A(),Z("svg",bS,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1)]))}const wS=xe(vS,[["render",xS]]),LS={},CS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function kS(t,e){return A(),Z("svg",CS,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)]))}const ES=xe(LS,[["render",kS]]),MS={},PS={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function SS(t,e){return A(),Z("svg",PS,e[0]||(e[0]=[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)]))}const BS=xe(MS,[["render",SS]]),TS={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(t){return(e,i)=>(A(),Z("div",null,[$("p",null,Ft(t.attribution.label),1)]))}},AS={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(t){return(e,i)=>(A(),Z("div",null,[(A(!0),Z(Ut,null,fe(t.depictions,o=>(A(),Z("div",{key:o.id},[$("p",null,Ft(o.label),1)]))),128))]))}},OS=["innerHTML"],RS={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(t){return(e,i)=>(A(),Z("div",null,[$("p",{innerHTML:t.source.label},null,8,OS)]))}},DS={class:"p-2 text-black dark:text-white opacity-50"},IS={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(t){return(e,i)=>(A(),Z("span",DS,Ft(t.currentImage+1)+"/"+Ft(t.totalImages),1))}},FS={},jS={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function NS(t,e){const i=_t("IconArrowRight");return A(),Z("button",jS,[X(i,{class:"h-8 w-8"})])}const zS=xe(FS,[["render",NS]]),VS={},US={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function GS(t,e){const i=_t("IconArrowLeft");return A(),Z("button",US,[X(i,{class:"h-8 w-8"})])}const HS=xe(VS,[["render",GS]]),$S={},ZS={class:"p-2 box-border flex justify-between"};function qS(t,e){return A(),Z("div",ZS,[$("div",null,[be(t.$slots,"default")]),$("div",null,[be(t.$slots,"right")])])}const KS=xe($S,[["render",qS]]),WS={},JS={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function YS(t,e){const i=_t("IconClose");return A(),Z("button",JS,[X(i)])}const XS=xe(WS,[["render",YS]]),QS={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},tB={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},eB=["textContent"],nB=["alt","src"],iB={class:"bottom-0 fixed max-w-full w-full"},rB={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},oB={class:"flex justify-center"},sB={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(t,{emit:e}){const i=t,o=e,h=({key:w})=>{switch(w){case"ArrowLeft":i.previous&&o("previous");break;case"ArrowRight":i.next&&o("next");break;case"Escape":o("close");break}},s=Jt(null),u=Jt(!1),f=Jt(null),_=Yt(()=>i.images[i.index]);document.addEventListener("keyup",h);function v(){u.value=!1,f.value="Image was not found or format is not supported"}function b(){u.value=!1}return On(()=>{s.value.addEventListener("load",b),s.value.addEventListener("error",v),document.body.classList.add("overflow-hidden")}),gr(()=>{document.removeEventListener("keyup",h),document.body.classList.remove("overflow-hidden")}),vn(()=>i.index,()=>{f.value=null,u.value=!0}),(w,P)=>{var j,V;const O=_t("VSpinner");return A(),Z("div",QS,[$("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:P[3]||(P[3]=Da(()=>{},["stop"]))},[$("div",tB,[u.value?(A(),wt(O,{key:0})):Rt("",!0),f.value?(A(),Z("div",{key:1,class:"flex flex-col justify-center",textContent:Ft(f.value)},null,8,eB)):Rt("",!0),An($("img",{ref_key:"imageElement",ref:s,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:(V=(j=_.value)==null?void 0:j.depictions)==null?void 0:V.map(rt=>rt.label).join(";"),src:_.value.original,onClick:P[0]||(P[0]=rt=>o("close"))},null,8,nB),[[Ou,!f.value]]),t.next?(A(),wt(zS,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:P[1]||(P[1]=rt=>o("next"))})):Rt("",!0),t.previous?(A(),wt(HS,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:P[2]||(P[2]=rt=>o("previous"))})):Rt("",!0)])]),$("div",iB,[$("div",rB,[X(AS,{class:"my-auto",depictions:_.value.depictions},null,8,["depictions"]),X(TS,{class:"my-auto",attribution:_.value.attribution},null,8,["attribution"]),X(RS,{class:"my-auto",source:_.value.source},null,8,["source"])]),$("div",oB,[X(zg,{class:"pb-2",current:t.index,images:t.images,onSelectIndex:P[4]||(P[4]=rt=>o("selectIndex",rt)),onClick:P[5]||(P[5]=Da(()=>{},["stop"]))},null,8,["current","images"])])]),X(KS,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:nt(()=>[X(XS,{onClick:P[6]||(P[6]=rt=>o("close"))})]),default:nt(()=>[X(IS,{"current-image":t.index,"total-images":t.images.length},null,8,["current-image","total-images"])]),_:1})])}}},aB="!container mx-auto p-4 sm:px-0 prose dark:prose-invert box-border",lB={__name:"MarkdownLayout.global",props:{tag:{type:String,default:"div"},frontmatter:{type:Object,required:!0}},setup(t){const e=t,i={fullwidth:"p-4 sm:px-0 prose dark:prose-invert max-w-none",blank:"sm:px-0 prose dark:prose-invert max-w-none"},o=Yt(()=>i[e.frontmatter.layout]||aB);return(h,s)=>(A(),wt(Eo(t.tag),{class:hn(o.value)},{default:nt(()=>[be(h.$slots,"default")]),_:3},8,["class"]))}},uB={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center"},cB={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full"},hB={__name:"VModal.global",emits:["close"],setup(t,{emit:e}){const i=e,o=h=>{h.key==="Escape"&&(h.stopPropagation(),i("close"))};return On(()=>{document.addEventListener("keydown",o),document.body.classList.add("overflow-hidden")}),gr(()=>{document.removeEventListener("keydown",o),document.body.classList.remove("overflow-hidden")}),(h,s)=>{const u=_t("IconClose");return A(),Z("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:s[2]||(s[2]=f=>i("close")),onKey:s[3]||(s[3]=Da(f=>i("close"),["stop"]))},[$("div",{class:"h-full md:h-auto mx-auto md:max-h-[70vh] bg-base-foreground container",onClick:s[1]||(s[1]=Da(()=>{},["stop"]))},[$("div",uB,[be(h.$slots,"header",{},()=>[s[4]||(s[4]=$("span",null,null,-1))]),X(u,{class:"w-6 h-6 cursor-pointer opacity-50",onClick:s[0]||(s[0]=()=>i("close"))})]),$("div",cB,[be(h.$slots,"default")]),$("div",null,[be(h.$slots,"footer")])])],32)}}},dB={"aria-disabled":"false","aria-label":"Pagination",class:"flex flex-row text-sm"},pB=["disabled"],fB={role:"presentation",class:"page-item"},mB=["disabled"],_B={key:0,class:"border border-base-border px-2 py-1.5"},gB={key:0,class:"page-item"},yB=["disabled","onClick"],vB={key:1,class:"border border-base-border px-2 py-1.5"},bB={class:"page-item"},xB=["disabled"],wB={role:"presentation"},LB=["disabled"],CB={__name:"VPagination.global",props:{modelValue:{type:Number,required:!0},total:{type:Number,required:!0},per:{type:Number,required:!0},rangePages:{type:Number,default:5}},emits:["update:modelValue"],setup(t,{emit:e}){const i=t,o=e,h=Yt(()=>Math.ceil(i.total/i.per)),s=Yt({get:()=>i.modelValue,set:_=>{o("update:modelValue",_)}}),u=Yt(()=>i.modelValue+i.rangePages),f=Yt(()=>i.modelValue-i.rangePages);return(_,v)=>(A(),Z("ul",dB,[$("li",null,[$("button",{type:"button",disabled:s.value<2||!h.value,"aria-label":"Go to first page",class:"border border-base-border rounded-l-md px-2 py-1.5",onClick:v[0]||(v[0]=b=>s.value=1)}," « ",8,pB)]),$("li",fB,[$("button",{type:"button",disabled:s.value<2||!h.value,"aria-label":"Go to previous page",class:"border border-base-border px-2 py-1.5",onClick:v[1]||(v[1]=b=>s.value--)}," ‹ ",8,mB)]),t.modelValue>i.rangePages?(A(),Z("li",_B," ... ")):Rt("",!0),(A(!0),Z(Ut,null,fe(h.value,b=>(A(),Z(Ut,{key:b},[b<u.value&&f.value<b?(A(),Z("li",gB,[$("button",{type:"button","aria-label":"Go to page 1",disabled:s.value===b,class:hn(["border","border-base-border","px-2","py-1.5",s.value===b?"text-primary-content bg-primary-color":"text-base-content"]),onClick:()=>s.value=b},Ft(b),11,yB)])):Rt("",!0)],64))),128)),h.value-t.modelValue>=t.rangePages?(A(),Z("li",vB," ... ")):Rt("",!0),$("li",bB,[$("button",{type:"button","aria-label":"Go to next page",class:"border border-base-border px-2 py-1.5",disabled:s.value===h.value||!h.value,onClick:v[2]||(v[2]=()=>s.value++)}," › ",8,xB)]),$("li",wB,[$("button",{type:"button",disabled:s.value===h.value||!h.value,"aria-label":"Go to last page",class:"border border-base-border rounded-r-md px-2 py-1.5",onClick:v[3]||(v[3]=()=>s.value=h.value)}," » ",8,LB)])]))}},kB={__name:"ProjectStats.global",props:{data:{type:Array,default:()=>[]},tag:{type:String,default:"span"}},setup(t){const e=t,i=Jt({data:[]}),o=Yt(()=>e.data.map(u=>u.toLowerCase())),h=Yt(()=>{const u=i.value.data;return u.length?s(u):o.value.map(f=>[f,"??"])});function s(u){const f=e.data.length?u.filter(([_])=>o.value.includes(_)):u;return f.sort(([_],[v])=>o.value.indexOf(_)-o.value.indexOf(v)),f}return On(()=>{kn.get("/stats").then(u=>{const f=Object.entries(u.data.data).map(([_,v])=>[_.toLowerCase(),v.toLocaleString()]);i.value.data=f})}),(u,f)=>(A(),wt(Eo(t.tag),null,{default:nt(()=>[(A(!0),Z(Ut,null,fe(h.value,([_,v],b)=>be(u.$slots,"default",{type:_,value:v},()=>[$("span",null,Ft(_)+": "+Ft(v)+Ft(b<h.value.length-1?"; ":""),1)])),256))]),_:3}))}},EB={key:1},MB={__name:"ClientOnly.global",setup(t){const e=Jt(!1);return On(()=>{e.value=!0}),(i,o)=>e.value?be(i.$slots,"default",{key:0}):(A(),Z("div",EB))}},PB={class:"inline-flex items-center text-sm"},SB={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(t){return(e,i)=>{const o=_t("router-link");return A(),Z("li",PB,[X(o,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-base-content border-b-2 border-transparent","active-class":"border-b-2 !border-secondary-color font-medium",to:t.to},{default:nt(()=>[be(e.$slots,"default")]),_:3},8,["to"])])}}},BB={},TB={class:"inline-flex items-center space-x-1 md:space-x-3"};function AB(t,e){return A(),Z("ul",TB,[be(t.$slots,"default")])}const OB=xe(BB,[["render",AB]]),RB={},DB={class:"relative sm:rounded-lg"},IB={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function FB(t,e){return A(),Z("div",DB,[$("table",IB,[be(t.$slots,"default")])])}const jB=xe(RB,[["render",FB]]),NB={},zB={class:"normal-case text-xs"};function VB(t,e){return A(),Z("tbody",zB,[be(t.$slots,"default")])}const UB=xe(NB,[["render",VB]]),GB={},HB={class:"px-4 py-4"};function $B(t,e){return A(),Z("td",HB,[be(t.$slots,"default")])}const ZB=xe(GB,[["render",$B]]),qB={},KB={class:"bg-base-foreground border-b border-base-border"};function WB(t,e){return A(),Z("tr",KB,[be(t.$slots,"default")])}const JB=xe(qB,[["render",WB]]),YB={},XB={class:"text-xs text-base-content uppercase bg-base-background"};function QB(t,e){return A(),Z("thead",XB,[be(t.$slots,"default")])}const tT=xe(YB,[["render",QB]]),eT={},nT={class:"px-4 py-3"};function iT(t,e){return A(),Z("th",nT,[be(t.$slots,"default")])}const rT=xe(eT,[["render",iT]]),oT={};function sT(t,e){return A(),Z("tr",null,[be(t.$slots,"default")])}const aT=xe(oT,[["render",sT]]);var lT={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"http://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",analytics_services:{enableDev:!0,analytics:[{id:"G-H53ZZMB5HP"}]}};const uT={key:1},cT={class:"font-normal p-5 pt-0 text-base"},hT={class:"mx-5 my-2"},dT=["href"],pT={key:0,class:"text-sm"},fT="https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose",mT={__name:"TrackerReport.global",props:{buttonClass:{type:String,default:void 0},label:{type:String,default:void 0},icon:{type:Boolean,default:!1},tag:{type:String,default:"VButton"}},setup(t){const{issue_trackers:e}=lT,i=Jt(!1);function o(){e?i.value=!0:window.open(fT,"_blank")}return(h,s)=>{const u=_t("IconGithub"),f=_t("VModal");return A(),Z(Ut,null,[(A(),wt(Eo(t.tag),{type:"button",title:"Report a problem",class:hn(t.buttonClass),onClick:o},{default:nt(()=>[t.icon?(A(),wt(u,{key:0,class:"w-5 h-5"})):Rt("",!0),t.label?(A(),Z("span",uT,Ft(t.label),1)):Rt("",!0)]),_:1},8,["class"])),i.value?(A(),wt(f,{key:0,class:"text-base-content",onClose:s[0]||(s[0]=_=>i.value=!1)},{header:nt(()=>s[1]||(s[1]=[$("h1",{class:"font-medium text-base px-1"},"Report a problem",-1)])),default:nt(()=>[$("div",cT,[s[2]||(s[2]=$("span",null,"My issue is with:",-1)),$("ul",hT,[(A(!0),Z(Ut,null,fe(zt(e),_=>(A(),Z("li",null,[$("a",{href:_.url,target:"_blank"},Ft(_.label),9,dT),_.description?(A(),Z("span",pT," - "+Ft(_.description),1)):Rt("",!0)]))),256))])])]),_:1})):Rt("",!0)],64)}}},_T={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(t){const e=ky(),i=Yt(()=>{var s;const h=(s=e.default)==null?void 0:s.call(e);return o(h)});function o(h){if(!h)return!0;const[s]=h;let u=s.children;return s.el!==null||u!==null}return(h,s)=>(A(),Z(Ut,null,[be(h.$slots,"default"),i.value?(A(),Z("span",{key:0,class:hn(t.class)},[(A(!0),Z(Ut,null,fe(t.lines,u=>(A(),Z("span",{key:u,class:"inline-block w-full rounded-sm bg-base-muted leading-5 animate-pulse"}," ‌ "))),128))],2)):Rt("",!0)],64))}},gT=["innerHTML"],yT={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({})},legendClass:{type:String,default:"mt-5"},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({})},logoClass:{type:String,default:"w-12 h-12"}},setup(t){const e={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},i=t,o=Jt(null),h=Jt({}),s=Jt(void 0);On(()=>{u(),i.resize&&!i.fullScreen&&_()}),gr(()=>clearInterval(s.value));const u=()=>{const v=i.target?document.querySelector(i.target):o.value.parentNode;Object.assign(h.value,i.fullScreen?e:f(v))},f=v=>{const b=v.getBoundingClientRect(),w=window.getComputedStyle(v,null),P=parseInt(w.getPropertyValue("padding-left"),10),O=parseInt(w.getPropertyValue("padding-right"),10),j=parseInt(w.getPropertyValue("padding-top"),10),V=parseInt(w.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:b.width-P-O+"px",height:b.height-j-V+"px"}},_=()=>{s.value=setInterval(u(),500)};return(v,b)=>(A(),Z("div",{ref_key:"spinnerElement",ref:o,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:Ci(h.value)},[$("div",{class:hn(["tw-spinner",`tw-spinner-${t.spinnerPosition}`])},[t.showSpinner?(A(),Z("svg",{key:0,style:Ci(t.logoSize),"aria-hidden":"true",class:hn(["text-base-lighter","animate-spin fill-primary-color",t.logoClass]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b[0]||(b[0]=[$("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),$("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),6)):Rt("",!0),b[1]||(b[1]=$("span",{class:"sr-only"},"Loading...",-1)),t.legend.length?(A(),Z("div",{key:1,class:hn(["text-base-content","text-center",t.legendClass]),style:Ci(t.legendStyle)},[t.showLegend?(A(),Z("span",{key:0,innerHTML:t.legend},null,8,gT)):Rt("",!0),be(v.$slots,"default",{},void 0,!0)],6)):Rt("",!0)],2)],4))}},vT=xe(yT,[["__scopeId","data-v-3927b18d"]]);function bT(t){xT(t,Object.assign({"/src/components/AddressMaker.global.vue":vM,"/src/components/Animation/AnimationOpacity.global.vue":wM,"/src/components/Autocomplete/Autocomplete.global.vue":jg,"/src/components/Autocomplete/AutocompleteOtu.global.vue":DM,"/src/components/Button/ButtonExpand.global.vue":FM,"/src/components/Button/VButton.global.vue":jM,"/src/components/Card/VCard.global.vue":UM,"/src/components/Card/VCardContent.global.vue":ZM,"/src/components/Card/VCardHeader.global.vue":JM,"/src/components/Clipboard/VClipboard.global.vue":YM,"/src/components/Dropdown/Dropdown.global.vue":tP,"/src/components/Gallery/GalleryCarousel/GalleryCarousel.global.vue":sP,"/src/components/Gallery/GalleryImage.global.vue":gP,"/src/components/Gallery/GalleryMosaic/GalleryMosaic.global.vue":bP,"/src/components/Icon/IconArrowDown.global.vue":CP,"/src/components/Icon/IconArrowLeft.global.vue":PP,"/src/components/Icon/IconArrowRight.global.vue":AP,"/src/components/Icon/IconCheck.global.vue":IP,"/src/components/Icon/IconClipboard.global.vue":zP,"/src/components/Icon/IconClose.global.vue":HP,"/src/components/Icon/IconDocument.global.vue":KP,"/src/components/Icon/IconDownload.global.vue":XP,"/src/components/Icon/IconGithub.global.vue":nS,"/src/components/Icon/IconHamburger.global.vue":sS,"/src/components/Icon/IconJson.global.vue":cS,"/src/components/Icon/IconMinusCircle.global.vue":fS,"/src/components/Icon/IconPlusCircle.global.vue":yS,"/src/components/Icon/IconSearch.global.vue":wS,"/src/components/Icon/IconTrash.global.vue":ES,"/src/components/Icon/IconWarning.global.vue":BS,"/src/components/ImageViewer/ImageViewer.global.vue":sB,"/src/components/Markdown/MarkdownLayout.global.vue":lB,"/src/components/Modal/VModal.global.vue":hB,"/src/components/Pagination/VPagination.global.vue":CB,"/src/components/ProjectStats.global.vue":kB,"/src/components/Ssr/ClientOnly.global.vue":MB,"/src/components/Tab/TabItem.global.vue":SB,"/src/components/Tab/TabMenu.global.vue":OB,"/src/components/Table/VTable.global.vue":jB,"/src/components/Table/VTableBody.global.vue":UB,"/src/components/Table/VTableBodyCell.global.vue":ZB,"/src/components/Table/VTableBodyRow.global.vue":JB,"/src/components/Table/VTableHeader.global.vue":tT,"/src/components/Table/VTableHeaderCell.global.vue":rT,"/src/components/Table/VTableHeaderRow.global.vue":aT,"/src/components/TrackerReport.global.vue":mT,"/src/components/VSkeleton.global.vue":_T,"/src/components/VSpinner.global.vue":vT}))}function xT(t,e){Object.entries(e).forEach(([o,h])=>{const s=o.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");t.component(s,h)})}const wT=window.location.origin,If=window.initialState,{app:Td,router:LT,store:CT}=ZE({originUrl:wT});If&&(CT.state.value=If);pM(Td);bT(Td);LT.isReady().then(()=>{Td.mount("#app")});export{$ as a,X as b,wt as c,Qt as d,A as o,_t as r,nt as w};
